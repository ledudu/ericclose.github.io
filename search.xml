<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>更改 Pixel / Pixel XL 的 modem 以支持中国电信</title>
      <link href="Pixel-modem-mod-for-China-Telecom.html"/>
      <url>Pixel-modem-mod-for-China-Telecom.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>❗️ <strong>注意</strong>：本教程仅适用于 Google Pixel (2016) 或 Google Pixel XL (2016)，其他更新的机型并不适用。</p></blockquote><p>高通现代的 SoC 理论上应该是支持众多 LTE 的频段，而很多针对中国大陆境外销售的手机可能对境内的运营商网络支持不够友好。Google Pixel 对于中国电信的支持情况就是一个例子，为了使中国电信能够在 Google Pixel 上正常使用，本教程教会告诉你如何通过非硬件层面上的方法（通过修改 modem ）来实现这一目的。</p><a id="more"></a><h2 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h2><p>为了能够正常完成本次操作，你首先需要确保以下内容：</p><details red open><summary> 配置好 ADB 的环境变量 </summary>              <div class='content'>              <p>不懂的话就请网上自行搜索“ADB 环境变量”，本文不会讲解这一基本操作（敬请见谅</p>              </div>            </details><details cyan><summary> 知道如何进入 bootloader 模式 </summary>              <div class='content'>              <ul><li>bootloader 模式：在设备关机的情况下，长按 <kbd>音量-键</kbd> + <kbd>电源键</kbd> ，进入如下界面即可。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/1.png"/></div></div>              </div>            </details><details yellow><summary> 知道如何进入 recovery 模式 </summary>              <div class='content'>              <ul><li>recovery 模式：①.在设备处于 bootloader 模式的情况下，通过 <kbd>音量+键</kbd> 或 <kbd>音量-键</kbd> 更换菜单选项，直到显示 <strong>Recovery mode</strong> ,然后 按 <kbd>电源键</kbd> 确认；②.随后手机会出现 <strong>No command</strong> 的界面；③.然后这时长按 <kbd>电源键</kbd> ，3 秒后（电源键依然不要松），按一下 <kbd>音量+键</kbd> （只要按一下就松开音量键），手机就会显示出 recovery 的功能菜单，如下第 3 张图所示。</li></ul><div class="gallery stretch" col='3'>              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/2.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/3.jpg"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/4.jpg"></p>            </div>              </div>            </details><details green><summary> 确保已解锁 bootloader </summary>              <div class='content'>              <p>关于解锁 bootloader 的操作可以看我上篇的文章的一个小节：</p><div class="tag link"><a class="link-card" title="确认是否可以解锁 bootloader" href="https://ericclose.github.io/Pixel-repairs-and-carriers.html#%E7%A1%AE%E8%AE%A4%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E8%A7%A3%E9%94%81-bootloader"><div class="left"><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/unlock-bootloader.jpg"/></div><div class="right"><p class="text">确认是否可以解锁 bootloader</p><p class="url">https://ericclose.github.io/Pixel-repairs-and-carriers.html#%E7%A1%AE%E8%AE%A4%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E8%A7%A3%E9%94%81-bootloader</p></div></a></div><p>如果很不幸你的 Pixel 是 Verizon 版的就只能找某宝奸商付费解锁 bootloader 了。</p>              </div>            </details><hr><p>❗️ <strong>注意</strong>：如果你不想或没空自己移植 modem，请直接跳过过下面 <strong>移植 modem</strong> 的环节（之后直接按教程刷入移植得到的 <code>modem.img</code> 即可）：</p><span class='btn center large'><a class="button" href='https://ericclose.github.io/Pixel-modem-mod-for-China-Telecom.html#%E4%B8%8B%E8%BD%BD%E7%A7%BB%E6%A4%8D%E5%BE%97%E5%88%B0%E7%9A%84-modem-%E9%95%9C%E5%83%8F' title='点击跳过“移植 modem”环节'><i class='fas fa-arrow-down'></i>点击跳过“移植 modem”环节</a></span><h2 id="移植-modem"><a href="#移植-modem" class="headerlink" title="移植 modem"></a>移植 modem</h2><blockquote><p>❗️ <strong>注意</strong>：由于 Google Pixel 和 Google Pixel XL 使用的是相同的 modem（通过二者 <code>modem.img</code> 的 sha256sum 值相同得出的结论），所以通过修改得到的 modem 文件是通用的。</p></blockquote><h3 id="刷入最新的-factory-image"><a href="#刷入最新的-factory-image" class="headerlink" title="刷入最新的 factory image"></a>刷入最新的 factory image</h3><p>本教程是基于 Pixel 的最后一个系统版本修改 modem，所以请确保你的 Pixel 系统已是最新。<strong>factory image</strong>，即工厂镜像，通俗来说也就是所谓的“线刷包”。请根据你所持有的设备下载相应的工厂镜像：</p><overflow><table><thead><tr><th align="center">设备</th><th align="center">工厂镜像下载链接</th></tr></thead><tbody><tr><td align="center">Pixel</td><td align="center"><a href="https://dl.google.com/dl/android/aosp/sailfish-qp1a.191005.007.a3-factory-d4552659.zip">sailfish-qp1a.191005.007.a3-factory-d4552659.zip</a></td></tr><tr><td align="center">Pixel XL</td><td align="center"><a href="https://dl.google.com/dl/android/aosp/marlin-qp1a.191005.007.a3-factory-bef66533.zip">marlin-qp1a.191005.007.a3-factory-bef66533.zip</a></td></tr></tbody></table></overflow><ol><li>将手机重启到 bootloader 模式</li><li>解压下载好的工厂镜像</li><li>找到 <code>flash-all.bat</code> 文件，双击即可</li><li>完成后手机会自动重启</li></ol><h3 id="备份-Pixel-Pixel-XL-的-modem"><a href="#备份-Pixel-Pixel-XL-的-modem" class="headerlink" title="备份 Pixel / Pixel XL 的 modem"></a>备份 Pixel / Pixel XL 的 modem</h3><p>由于 Pixel /Pixel XL 的 Android 10 工厂镜像没有提供单独的 <code>modem.img</code> ，所以我们需要通过 TWRP（第三方 recovery）执行 <code>dd</code> 命令来实现对 modem 的备份。</p><overflow><table><thead><tr><th align="center">设备</th><th align="center">TWRP 下载链接</th></tr></thead><tbody><tr><td align="center">Pixel</td><td align="center"><a href="https://eu.dl.twrp.me/sailfish/twrp-3.4.0-0-sailfish.img">twrp-3.4.0-0-sailfish.img</a></td></tr><tr><td align="center">Pixel XL</td><td align="center"><a href="https://eu.dl.twrp.me/marlin/twrp-3.4.0-0-marlin.img">twrp-3.4.0-0-marlin.img</a></td></tr></tbody></table></overflow><ol><li>首先根据你所持有的设备下载好相应的 TWRP</li><li>将手机重启到 bootloader 模式</li><li>启动到 TWRP，即执行命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot boot *.img</span><br></pre></td></tr></table></figure><blockquote><p>命令里的 <code>*.img</code> 不需要手动输入，直接拖拽文件到 cmd 窗口即可，系统会自动填写文件相应的路径。如图：</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/5.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/6.png"></p><ol start="4"><li>最后，备份 modem</li></ol><p>执行命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">dd <span class="keyword">if</span>=/dev/block/bootdevice/by-name/modem_a of=/sdcard/stock.img</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">adb pull /sdcard/stock.img F:\Downloads</span><br></pre></td></tr></table></figure><blockquote><p>命令里的 <code>F:\Downloads</code> 是备份的 modem （即 <code>stock.img</code> ）存储在电脑上的路径，你可以自行修改，看图：</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/7.png"></p><h3 id="获取-OnePlus-3T-的-modem"><a href="#获取-OnePlus-3T-的-modem" class="headerlink" title="获取 OnePlus 3T 的 modem"></a>获取 OnePlus 3T 的 modem</h3><p>更改基带文件的总体思路是：提取相同型号处理器的设备的基带文件（这里使用的是 OnePlus 3T)。为了得到 OnePlus 的 modem，所以我们需要 OnePlus 的工厂镜像来提取 modem。</p><overflow><table><thead><tr><th align="center">设备</th><th align="center">工厂镜像下载链接</th></tr></thead><tbody><tr><td align="center">OnePlus 3T</td><td align="center"><a href="http://download.h2os.com/OnePlus%203T/MP/OnePlus3THydrogen_28_OTA_083_all_2002201900_bf0fc8385b5547c0.zip">OnePlus3THydrogen_28_OTA_083_all_2002201900_bf0fc8385b5547c0.zip</a></td></tr></tbody></table></overflow><ol><li>首先下载 OnePlus 3T 的工厂镜像</li><li>从工厂镜像压缩包找到 <code>/firmware-update/NON-HLOS.bin</code> ，提取出来即可</li></ol><h3 id="移植-modem-1"><a href="#移植-modem-1" class="headerlink" title="移植 modem"></a>移植 modem</h3><p>经过前期的准备工作，我们得到了</p><ul><li>Pixel / Pixel XL 的 modem 镜像 <code>stock.img</code></li><li>OnePlus 3T 的 modem 镜像 <code>NON-HLOS.bin</code></li></ul><overflow><table><thead><tr><th align="center">文件名</th><th align="center">下载链接</th></tr></thead><tbody><tr><td align="center"><code>stock.img</code></td><td align="center"><a href="https://github.com/ericclose/Pixel-modem-mod-for-China-Telecom/raw/master/stock.img">链接</a></td></tr><tr><td align="center"><code>NON-HLOS.bin</code></td><td align="center"><a href="https://github.com/ericclose/Pixel-modem-mod-for-China-Telecom/raw/master/NON-HLOS.bin">链接</a></td></tr></tbody></table></overflow><p>通过挂载 modem 镜像，我们可以对镜像里的文件进行修改，为了接下来的操作，我们这里需要用到搭载 <strong>Linux 系统</strong> 的电脑或虚拟机。<strong>以下命令均在 Linux 上运行</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 创建挂载点（stock 用于挂载 Pixel 的原始 modem 镜像，oneplus 用于挂载 OnePlus 的 modem 镜像）</span></span><br><span class="line">mkdir stock oneplus</span><br><span class="line"><span class="comment"># 2. 分别挂载 Pixel 和 OnePlus 的镜像，挂载到相应挂载点上</span></span><br><span class="line">sudo mount -o loop stock.img stock &amp;&amp; sudo mount -o loop NON-HLOS.bin oneplus</span><br><span class="line"><span class="comment"># 3. 创建目录</span></span><br><span class="line">sudo mkdir stock/modem_pr/mcfg/configs/mcfg_sw/generic/china</span><br><span class="line"><span class="comment"># 4. 复制文件</span></span><br><span class="line">sudo cp -r oneplus/image/modem_pr/mcfg/configs/mcfg_sw/generic/china/ct stock/modem_pr/mcfg/configs/mcfg_sw/generic/china/</span><br><span class="line"><span class="comment"># 5. ❗️ 注意：使用 vim （或其他编辑器）编辑文件，将文件中的数字加 1</span></span><br><span class="line">sudo vim stock/modem_pr/verinfo/ver_info.txt </span><br><span class="line"><span class="comment"># 6. 同步</span></span><br><span class="line">sudo sync</span><br><span class="line"><span class="comment"># 7. 从各自的挂载点卸载</span></span><br><span class="line">sudo umount stock oneplus</span><br><span class="line"><span class="comment"># 8. 重命名 stock.img 为 modem.img </span></span><br><span class="line">mv stock.img modem.img</span><br></pre></td></tr></table></figure><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/8.png" alt="数字加 1"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/9.png" alt="输入的命令"></p>            </div><p>完成上述命令后我们就移植得到了 <code>modem.img</code> 啦。</p><h2 id="下载移植得到的-modem-镜像"><a href="#下载移植得到的-modem-镜像" class="headerlink" title="下载移植得到的 modem 镜像"></a>下载移植得到的 modem 镜像</h2><p>你可以使用自己移植得到的 modem 镜像（ <code>modem.img</code> ），或者是下载本文提供的镜像：</p><overflow><table><thead><tr><th align="center">文件名</th><th align="center">下载链接</th></tr></thead><tbody><tr><td align="center"><code>modem.img</code></td><td align="center"><a href="https://github.com/ericclose/Pixel-modem-mod-for-China-Telecom/raw/master/modem.img">链接</a></td></tr></tbody></table></overflow><h2 id="刷入-modem"><a href="#刷入-modem" class="headerlink" title="刷入 modem"></a>刷入 modem</h2><p>手机进入 bootloader 模式，刷入 modem 镜像（ <code>modem.img</code> ），cmd 执行这行命令即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot --slot all flash modem *.img</span><br></pre></td></tr></table></figure><blockquote><p>命令里的 <code>*.img</code> 不需要手动输入，直接拖拽文件到 cmd 窗口即可，系统会自动填写文件相应的路径。如图：</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/10.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-modem-mod-for-China-Telecom/11.png"></p><blockquote><p>❗️ <strong>注意</strong>：刷入 modem 后必须恢复出厂设置，之后重启即可，执行以下命令：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fastboot erase userdata</span><br><span class="line">fastboot erase frp</span><br><span class="line">fastboot reboot</span><br></pre></td></tr></table></figure><h2 id="网络去叉"><a href="#网络去叉" class="headerlink" title="网络去叉"></a>网络去叉</h2><p>状态栏的网络信号有个叉，这是为什么呢，又该如何解决？详情请参见：</p><span class='btn center large'><a class="button" href='https://ericclose.github.io/Captive-Portal-Android.html' title='（类）原生 Android 网络去叉／叹号 Android 5.0 - 10.0'><i class='fas fa-wifi'></i>（类）原生 Android 网络去叉／叹号 Android 5.0 - 10.0</a></span>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google </tag>
            
            <tag> 破解 </tag>
            
            <tag> pixel </tag>
            
            <tag> Pixel XL </tag>
            
            <tag> sailfish </tag>
            
            <tag> modem </tag>
            
            <tag> 电信 </tag>
            
            <tag> 运营商 </tag>
            
            <tag> crack </tag>
            
            <tag> 移植 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查询 Google Pixel 保修信息以及判断是否为 Verizon （运营商） 版</title>
      <link href="Pixel-repairs-and-carriers.html"/>
      <url>Pixel-repairs-and-carriers.html</url>
      
        <content type="html"><![CDATA[<p>如果你想了解关于运营商版和无锁版 Pixel 的不同点，你可以展开下列内容看看：</p><details cyan><summary> 运营商版 Pixel 的相关资料 </summary>              <div class='content'>              <hr><blockquote><ul><li><p>根据你购买手机的区域，你可能需要解锁你的 Google Pixel 来切换运营商网络。所有<strong>通过 Google Store 购买</strong>的 Pixel 都会自动解锁，所以你不必考虑解锁运营商网络的问题——你可以自由地使用任一运营商。</p></li><li><p>对于那些通过特定运营商或其他零售商购买 Pixel 的人，SIM 卡最长可能被锁定 2 年。在这种情况下，除非销售商解锁 SIM 卡或合约到期，否则手机只能使用该服务提供商提供的移动服务。</p></li><li><p>如果您想在销售合约到期前解锁手机的 SIM 卡，请与您的移动服务提供商联系，以商讨可行的方案。</p></li><li><p>“开发者选项”中的“OEM 解锁”选项，无法在 Verizon 版的 Pixel 机型上启用。 Verizon 版 Pixel 的 bootloader 经过加密无法解锁。</p></li></ul><p><strong>资料来源</strong>：</p><ul><li><ol><li><a href="https://support.google.com/pixelphone/answer/7107188?hl=zh-Hans">搭配任意移动网络使用 Pixel 手机</a></li></ol></li><li><ol start="2"><li><a href="https://www.businessinsider.com/how-to-unlock-google-pixel">How to unlock a Google Pixel phone, so you can switch carrier networks</a></li></ol></li></ul></blockquote>              </div>            </details><a id="more"></a><h2 id="保修信息查询"><a href="#保修信息查询" class="headerlink" title="保修信息查询"></a>保修信息查询</h2><div class="btns circle center grid3">            <a href='https://store.google.com/us/repair'>  <i class='fab fa-google'></i>  <b>Google 保修信息查询</b>  <p class='p red'>美国</p>  <img src='https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/0.png'></a>          </div><ol><li><p>点击上面的网站链接，会让你登录谷歌账号，随后跳转到美国地区的查询链接 <code>https://store.google.com/us/repair</code> 。如果你的 Pixel 是其他地区购买的， 你可能需要把链接里的 <code>us</code> 改成购买所在地的区域代码才能查询到信息，如 <code>https://store.google.com/gb/repair</code> （gb, Great Britain 的简写，为英国的区域代码）。</p></li><li><p>用手机拨号器拨打 <code>*#06#</code> ，可以看到手机的 IMEI 和序列号。IMEI 处的内容为 <code>*************** / **</code>，我们这里取 <code>/</code> 前面的内容（也就是前 15 位），输入到网站里即可获知 Pixel 的<strong>容量大小</strong>，<strong>机身颜色</strong>和<strong>保修截止日期</strong>等。有部分人可以查到 Unlocked（无运营商锁），Verizon（Verizon 运营商版），或者是 Refurbished（官翻机）之类的字样，而我这里却什么都查不到🤣。</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/1.png" alt="Pixel 保修信息查询结果"></p><h2 id="确认是否可以解锁-bootloader"><a href="#确认是否可以解锁-bootloader" class="headerlink" title="确认是否可以解锁 bootloader"></a>确认是否可以解锁 bootloader</h2><ol><li><p>前往「<strong>Settings</strong>（设置） -&gt; <strong>About phone</strong>（关于手机） -&gt; <strong>Build number</strong>（版本号）」，连续点击版本号 7 次即可开启「<strong>开发者选项</strong>」。</p></li><li><p>确保手机能够正常访问国际互联网（如路由器翻墙，或手机开代理软件等）</p></li><li><p>前往「<strong>Settings</strong>（设置） -&gt; <strong>System</strong>（系统） -&gt; <strong>Adavanced</strong>（高级） -&gt; <strong>Developer options</strong>（开发者选项）」，<strong>开启</strong>「<strong>OEM unlocking</strong>」选项。如若选项显示为灰色，且为不可开启的状态，则很可能是 Verizon 版（带运营商锁的版本），我手中的这台 Pixel 就是这样😂。</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/2.png" alt="无法开启的 OEM unlocking 选项"></p><ol start="4"><li>开启「<strong>OEM unlocking</strong>」选项后，手机进入 bootloader 模式（<strong>手机在重启或开机的过程中，长按音量下键即可进入 bootloader 模式</strong>），可以看到 Product/Variant: sailfish-US-PVT 。US 指的是美国，PVT 则是指  <strong>产品验证测试阶段</strong> （production validation test），这么来说也算是正常的销售商品；如若是 EVT 的话则是指 <strong>工程验证测试阶段</strong> （engineering validation test），那么这种手机也就是俗称上的工程机了。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/3.png" alt="bootloader 界面"></p><ol start="5"><li>为了完成下面的操作，请确保满足以下条件：</li></ol><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>了解什么是 cmd</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>你的电脑已经配置好 ADB 工具的环境变量（不懂的话就请网上自行搜索“ADB 环境变量”）</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>手机已通过数据线连接上电脑</p>            </div><ol start="6"><li>完成上述步骤后，手机在 bootloader 模式尝试解锁 bootloader 的命令，电脑打开 cmd 执行：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fasboot flashing unlock</span><br></pre></td></tr></table></figure><ol start="7"><li>如果你前面正常启用「<strong>OEM unlocking</strong>」选项的话，这时手机应该就会询问你是否解锁 bootloader。由于安全设计，<strong>如果你确认解锁 bootloader 手机将会删除所有的数据（即恢复出厂设置）</strong>，取消则不会解锁 bootloader。（而我这边输入命令后，直接报错 <code>FAILED (remote: Flashing Unlock is not allowed)</code> ，也就根本不会询问是否解锁 bootloader。这也是正常的，因为我前面根本无法开启 OEM unlocking 的选项🥺。经过上面的操作，我基本可以确认我这台 Pixel 就是 Verizon 版的了…）</li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/unlock-bootloader.jpg" alt="询问是否解锁 bootloader（图片来自互联网）"></p><h2 id="更简单的方法确认是不是-Verizon-版"><a href="#更简单的方法确认是不是-Verizon-版" class="headerlink" title="更简单的方法确认是不是 Verizon 版"></a>更简单的方法确认是不是 Verizon 版</h2><p>最后我查阅资料发现有个简单的方法确认 Pixel 是不是 Verizon 版本的，只需要这么做：</p><ol><li><p>前往「<strong>Settings</strong>（设置） -&gt; <strong>System</strong>（系统） -&gt; <strong>Adavanced</strong>（高级） -&gt; <strong>Developer options</strong>（开发者选项）」，开启「<strong>USB Debuging</strong>（USB 调试）」的选项。</p></li><li><p>然后 cmd 执行：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb start-server</span><br></pre></td></tr></table></figure><ol start="3"><li>期间手机会弹框问询是否允许此电脑对其进行调试，勾选「<strong>Always allow from this computer</strong>（总是允许此电脑调试）」 ，然后点击 <strong>Allow</strong> 即可。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/4.png" alt="询问是否允许调试"></p><ol start="4"><li>最后 cmd 执行命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.boot.cid</span><br></pre></td></tr></table></figure><ol start="5"><li>如果返回的值为 <code>VZW__001</code> ，那么很抱歉这个 Pixel 是 Verizon 版的；无运营商锁的版本的返回值应为 <code>11111111</code>。唉，不说了，我这台就是😂。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Pixel-repairs-and-carriers/5.png" alt="接受命运的折磨吧~"></p><p><strong>后续</strong>：最后我要说的是，尽管不能通过正常渠道解锁 Verizon 版 Pixel 的 bootloader。但是 Pixel 1 还是有办法解锁的（即使是 Pixel 1 最后更新的系统版本 —— 2019 年 12 月），我去了某宝找奸商花费了 50 RMB 成功解锁（为了避免广告嫌疑这里就不说店名了，可以搜索关键词：<em>Pixel bl 锁</em></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google </tag>
            
            <tag> pixel </tag>
            
            <tag> sailfish </tag>
            
            <tag> 运营商 </tag>
            
            <tag> Verizon </tag>
            
            <tag> 保修信息 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教您如何通过 Google 开机向导</title>
      <link href="Google-setup-wizard.html"/>
      <url>Google-setup-wizard.html</url>
      
        <content type="html"><![CDATA[<p>当你在没有退出 Google 帐号就刷机的情况下，只是通过 TWRP 直接格式化手机或者是刷了 OpenGapps 后可能会遇到无法跳过开机向导的情况。具体来说，也就是触发了 Android 的 FRP（Factory Reset Protection）机制，详情如下：</p><a id="more"></a><blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Google-setup-wizard/1.jpg"/></div></div><p>Android 原生的 FRP 机制，是从 Android 5.1 开始引入的。为了实现这个功能，手机有一个单独的分区，config 或 frp 来存放重置保护状态的相关信息。如果此分区里被标记为非正常重置且存放了特定加密存储后的 Google 账户信息，手机在非正常重置之后开机，会无法跳过 Wi-Fi 连接。连接到能访问到 Google 服务的热点之后，手机会强制搜索系统更新，并要求用户登录重置前使用的 Google 账户来验证用户的所有权。——引用自<a href="https://bbs.letitfly.me/d/856">重置保护 / 谷歌锁 Factory Reset Protection 的解除方法 - LetITFly BBS</a></p></blockquote><p>由于在中国大陆的网络环境下，Google 的服务器是无法正常联通的，所以就会出现难以通过 Google 开机向导的情况，下面我会介绍 3 种方法来教您如何解决这一困境。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p><strong>解决方法如下，任选其中一种即可。</strong></p><h3 id="1-点按四角法"><a href="#1-点按四角法" class="headerlink" title="1. 点按四角法"></a>1. 点按四角法</h3><p>这个方法最简单，缺点是仅仅适用于通过刷入 OpenGapps 后开机遇到开机向导过不去的情况，你只要<strong>从左上角沿边缘顺时针点按图中所示的区域</strong>，即可直接跳过烦人的验证。注意不要误触到其他区域。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Google-setup-wizard/2.png"/></div></div><hr><h3 id="2-局域网代理法"><a href="#2-局域网代理法" class="headerlink" title="2. 局域网代理法"></a>2. 局域网代理法</h3><p>这个操作稍显复杂，但通过局域网代理的方法我们可以在手机端没办法使用代理 app 翻墙的情况下，登录 Google 账户来完成向导配置，我个人会更偏好这种做法。</p><h4 id="电脑端的操作"><a href="#电脑端的操作" class="headerlink" title="电脑端的操作"></a>电脑端的操作</h4><hr><p>整体流程如下：</p><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>电脑启用代理软件</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>允许来自局域网的连接</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>记住<strong>本地 HTTP 代理端口</strong></p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>获取电脑的<strong>局域网（LAN）IP</strong></p>            </div><hr><p>首先，我们需要在<strong>同一局域网下</strong>的电脑里启用代理软件，这里以 Clash for Windows 为例。</p><p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Google-setup-wizard/3.png"></p><p>启用代理软件后，如上图的标记，打开<strong>允许来自局域网的连接</strong>的选项，并记住代理软件的<strong>本地 HTTP 代理端口</strong>，等下会用到。</p><blockquote><p><strong>注意</strong>：即便是你使用的是不同的代理软件，如 SS / SSR / V2Ray 之类的，应该都是有<strong>允许来自局域网的连接</strong>的这个功能选项，你自己找找看，同时注意下你代理软件的<strong>本地 HTTP 代理端口</strong>（应该是和我的有所不同）。</p></blockquote><p>然后你需要记住你电脑的<strong>局域网（LAN）IP</strong>，可以通过命令获取。<strong>Windows 用户</strong>在 cmd 执行  <code>ipconfig</code> ，而 <strong>Linux / macOS 用户</strong>在 terminal 执行 <code>ifconfig</code> 即可。</p><p>完成上述流程后，就轮到手机端的操作了。</p><h4 id="手机端的操作"><a href="#手机端的操作" class="headerlink" title="手机端的操作"></a>手机端的操作</h4><hr><p>手机连接 Wi-Fi 填写完密码后，不要着急着连接。</p><p>展开「<strong>Advanced options</strong> 高级选项」-&gt;「<strong>Proxy</strong> 代理」-&gt; 选择「<strong>Manual</strong> 手动」-&gt; 在「<strong>Proxy hostname</strong> 代理主机名」填写你电脑的<strong>局域网（LAN）IP</strong> -&gt;「<strong>Proxy port</strong> 代理端口」填写你所使用的代理软件的<strong>本地 HTTP 代理端口</strong> -&gt; 最后「<strong>Connect</strong> 连接」Wi-Fi。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Google-setup-wizard/4.png"/></div></div><p>之后，你的手机就能通过连接局域网代理直接科学上网登录 Google 账户了，接下来应该不用我多说了。</p><hr><h3 id="3-覆写分区法"><a href="#3-覆写分区法" class="headerlink" title="3. 覆写分区法"></a>3. 覆写分区法</h3><p>前面我们提到过 Google 账户信息是存放在 config 或 frp 分区上的，由于此分区不存在文件系统，所以我们的做法是往这个分区里填零，也就是覆写分区。</p><p>具体来说，我们需要知道当前设备的账户信息是存放在哪个分区。我们可以让手机<strong>进入 TWRP</strong> 之后，通过 USB 与电脑连接，然后在电脑终端上执行下列命令（<strong>请提前配置好 adb</strong>）获知手机的分区信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">ls -l /dev/block/bootdevice/by-name</span><br></pre></td></tr></table></figure><p>输出的结果比较长，注意找找输出的其中一行里是 frp 还是 config，以我的小米 6 为例，其中一行是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">lrwxrwxrwx 1 root root 15 1970-07-17 07:27 frp -&gt; /dev/block/sda7</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>由此可知我的手机是将 Google 账户信息存放在 <strong>frp</strong> 上的，所以覆写 frp 分区的命令是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/dev/block/bootdevice/by-name/frp</span><br></pre></td></tr></table></figure><p>如果你的手机是存放在 <strong>config</strong> 上，那么把上面一行的覆写命令里的 <strong>frp</strong> 改为 <strong>config</strong> 就行了。</p><p>可能有无法写入的特殊情况，如果遇到的话（<strong>没遇到就不用管</strong>）可以在覆写命令加上参数，最终命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/dev/block/bootdevice/by-name/frp bs=512 count=1024</span><br></pre></td></tr></table></figure><hr><p>照理来说，上述 3 种方法都能奏效，<strong>根据你的实际情况</strong>选择就行，操作完成之后应该就能通过 Google 开机向导啦。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google </tag>
            
            <tag> 账户锁 </tag>
            
            <tag> FRP </tag>
            
            <tag> 开机向导 </tag>
            
            <tag> 验证 </tag>
            
            <tag> 向导 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020年 小米6 刷机 LineageOS 17.1 Official</title>
      <link href="Install-LineageOS-on-sagit.html"/>
      <url>Install-LineageOS-on-sagit.html</url>
      
        <content type="html"><![CDATA[<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/cover.png"/></div></div><p>时至今日，依然有很多小米 6 的用户因为各种原因没有换手机，不得不说那些钉子户们也引起了雷军的注意，下面是雷军让钉子户们投票是想要继续使用小米 6 还是换新款的小米 10，又或者换其他手机。结果雷军的脸再次被钉子户们<del>啪啪啪</del>…</p><a id="more"></a><p><a href="https://www.weibo.com/1749127163/IwtxMgTnQ?type=comment"><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/1.png" alt="图1"></a></p><p>再之后，小米推出 49 元换电池活动，49 元包含电池 + 人工费，不会收取其他费用。支持 15 款机型，包括小米 9 系列、MIX 2/S/3 等~</p><p>网友：为啥没有小米 6… </p><p>然后雷军发话了：小米 6 钉子户们，你们开心吗？49 元换电池，希望大家能继续坚持 3 年！🐶</p><p><a href="https://weibo.com/1749127163/Iz1SjigNI?type=comment"><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/2.png" alt="图2"></a></p><p>我本人来说不屑使用 MIUI，所以早早就刷上了我永远喜欢的 LineageOS，的确是美滋滋啊。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/3.png"/></div></div><p>好了，不多说了，老司机带你们走一下刷机流程吧。</p><hr><h2 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h2><blockquote><p>重要提示：在实际操作之前，请至少完整阅读一次说明，以避免因为错过任何东西而导致出现问题！</p></blockquote><blockquote><p>确保你的电脑已经配置好 <strong>adb</strong> 和 <strong>fastboot</strong> 的环境变量，详情见<a href="https://wiki.lineageos.org/adb_fastboot_guide.html">这里</a>。</p></blockquote><hr><h2 id="解锁-bootloader"><a href="#解锁-bootloader" class="headerlink" title="解锁 bootloader"></a>解锁 bootloader</h2><blockquote><p>注意：以下步骤仅需要执行一次。</p></blockquote><blockquote><p>警告：解锁 bootloader 将清除设备上的所有数据！在继续之前，请确保您要保留的数据已备份到您的 PC 或您的 Google 帐户或其他位置。</p></blockquote><hr><ol><li>下载<strong>小米官方解锁工具</strong>。</li></ol><blockquote><p>访问<a href="http://www.miui.com/unlock/index.html">小米官方解锁网站</a>，登录小米账号申请解锁权限，下载<strong>官方解锁工具</strong>。</p></blockquote><hr><ol start="2"><li>开启开发者选项</li></ol><blockquote><p>「<strong>设置</strong>」-&gt;「<strong>全部参数</strong>」-&gt; 连续点击「<strong>MIUI 版本</strong>」（直至开启开发者选项即可）</p></blockquote><hr><ol start="3"><li>设备绑定小米账号</li></ol><blockquote><p>「<strong>设置</strong>」-&gt;「<strong>更多设置</strong>」-&gt;「<strong>开发者选项</strong>」-&gt;「<strong>设备解锁状态</strong>」（登录小米账号）</p></blockquote><hr><ol start="4"><li>开启 <strong>USB 调试</strong></li></ol><blockquote><p>「<strong>设置</strong>」-&gt;「<strong>更多设置</strong>」-&gt;「<strong>开发者选项</strong>」-&gt;「<strong>USB 调试</strong>」（开启即可）。</p></blockquote><hr><ol start="5"><li>开启 <strong>OEM 解锁</strong></li></ol><blockquote><p>「<strong>设置</strong>」-&gt;「<strong>更多设置</strong>」-&gt;「<strong>开发者选项</strong>」-&gt;「<strong>OEM 解锁</strong>」（开启即可）。</p></blockquote><hr><ol start="6"><li>手机重启至 fastboot 模式</li></ol><blockquote><p>通过 USB 将设备连接到 PC。，由于前面已配置好 <strong>adb</strong> 和 <strong>fastboot</strong> 的环境变量，所以我们可以直接执行相应的命令。（如果手机有弹框是否允许此电脑调试，点击允许即可）</p></blockquote><blockquote><p>打开 <strong>cmd</strong>（命令提示符），执行下列命令</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb reboot bootloader</span><br></pre></td></tr></table></figure><blockquote><p>执行完命令后就会进入 fastboot 模式（也就是米兔修 Android 机器人的界面）</p></blockquote><hr><ol start="7"><li>解压运行小米官方解锁工具</li></ol><blockquote><p>解压完后，文件夹里找到 <strong>miflash_unlock.exe</strong>，双击运行即可。登录账号依照提示完成解锁即可。</p></blockquote><blockquote><p>什么？解锁 bootloader 还需要绑定小米账号满 72 小时（还得相对活跃地使用），可还行 <del>（雷军：求求你们了，不要解锁！不要解锁！不要解锁！人家小米 6 还是处呢）</del> 🐶保命</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/4.png"/></div></div><hr><ol start="8"><li>真正解锁 bootloader 的时候到了</li></ol><blockquote><p>陪伴了 MIUI 三个日夜，它终于满足了，我是一滴<del>念想</del>也没有了，所以它也便不再挽留我。此时重复<strong>步骤 4</strong> ~ <strong>步骤 7</strong> 即可。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/5.png"/></div></div><hr><h2 id="刷机操作"><a href="#刷机操作" class="headerlink" title="刷机操作"></a>刷机操作</h2><ol><li>下载 TWRP</li></ol><blockquote><p>前往这个<a href="https://github.com/xiaomi-msm8998/twrp_device_xiaomi_sagit/releases/latest">页面</a>，找到 <code>*.img</code> 文件下载即可。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/6.png"/></div></div><hr><ol start="2"><li>通过 USB 将设备连接到 PC。</li></ol><hr><ol start="3"><li>在电脑上，打开 <strong>cmd</strong>，然后输入：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb reboot bootloader</span><br></pre></td></tr></table></figure><hr><ol start="4"><li>刷入 TWRP</li></ol><blockquote><p>在 <strong>cmd</strong> 上输入：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash recovery *.img</span><br></pre></td></tr></table></figure><blockquote><ul><li>如果你用 Linux 或者 macOS 执行 <em>fastboot</em> 命令提示权限不足，请在 <em>fastboot</em> 之前加上 <em>sudo</em>，即（<code>sudo fastboot flash recovery *.img</code>）</li><li>命令里的 <code>*.img</code> 不需要手动输入，直接拖拽文件到 cmd 窗口即可，系统会自动填写文件相应的路径。如图：</li></ul></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/7.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/8.png"/></div></div><hr><ol start="5"><li>重启进入 TWRP</li></ol><blockquote><p>执行命令重启</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot reboot</span><br></pre></td></tr></table></figure><blockquote><p>执行完命令立马长按 <strong>音量 +</strong> ，直至进入 TWRP 即可。</p></blockquote><hr><ol start="6"><li>格式化 Data</li></ol><blockquote><p>「<strong>TWRP主界面</strong>」-&gt;「<strong>Wipe</strong>」-&gt;「<strong>Format Data</strong>」（输入  yes，打钩确认格式化 data）</p></blockquote><hr><ol start="7"><li>五清</li></ol><blockquote><p>「<strong>TWRP主界面</strong>」-&gt;「<strong>Wipe</strong>」-&gt;「<strong>Adavanced Wipe</strong>」-&gt; 勾选「<strong>Dalvik / ART Cache</strong>」、「<strong>Cache</strong>」、「<strong>System</strong>」、「<strong>Data</strong>」、「<strong>Internal Storage</strong>」（<strong>切勿</strong>勾选到「<strong>Vendor</strong>」） -&gt; <strong>划过滑动条确认擦除</strong></p></blockquote><hr><ol start="8"><li>在刷入官方 LineageOS 之前您自 2019 年 8 月 4 日起<strong>必须使用</strong> Android 9.0 MIUI 的 firmware。〖LineageOS 17.1 官方安装说明没有提到 firmware 版本的要求（之前 LineageOS 16 的<a href="https://forum.xda-developers.com/showpost.php?s=97ebff27ba24c2307c9ffbcd1e02b41e&p=79702120&postcount=2">安装说明</a>有提过），所以估计是这个 firmware 或以上版本都可以，我还是用的这个 firmware〗</li></ol><ul><li>firmware 下载地址：<a href="https://osdn.net/projects/xiaomifirmwareupdater/storage/Stable/V10/sagit/fw_sagit_miui_MI6Global_V10.4.1.0.PCAMIXM_38edd1584c_9.0.zip">https://osdn.net/projects/xiaomifirmwareupdater/storage/Stable/V10/sagit/fw_sagit_miui_MI6Global_V10.4.1.0.PCAMIXM_38edd1584c_9.0.zip</a></li></ul><blockquote><p><strong>刷入 firmware</strong> 过程：「<strong>TWRP主界面</strong>」-&gt;「<strong>Advanced</strong>」-&gt;「<strong>ADB Sideload</strong>」（划过滑条即可），然后电脑打开 cmd，输入命令：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb sideload *.zip</span><br></pre></td></tr></table></figure><blockquote><p>命令里的 <code>*.zip</code> 也是和之前刷 TWRP 一样也是不需要手动输入的，直接拖拽文件到 cmd 窗口即可，系统会自动填写文件相应的路径。</p><p>刷完后手机会自动退出 <strong>ADB Sideload</strong></p></blockquote><hr><ol start="9"><li>刷入 LineageOS 官方包</li></ol><blockquote><p>LineageOS for 小米 6 下载地址：<a href="https://download.lineageos.org/sagit">https://download.lineageos.org/sagit</a> 嗯~ o(<em>￣▽￣</em>)o，我们下载最新的就行</p></blockquote><blockquote><p>刷入 LineageOS 过程：：「<strong>TWRP 主界面</strong>」-&gt;：「<strong>Advanced</strong>」-&gt;「<strong>ADB Sideload</strong>」（划过滑条即可），电脑打开 cmd，输入命令：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb sideload *.zip</span><br></pre></td></tr></table></figure><blockquote><p>命令里的 <code>*.zip</code> 也是和之前刷 TWRP 和 firmware 一样的，也是不需要手动输入的，直接拖拽文件到 cmd 窗口即可，系统会自动填写文件相应的路径。</p></blockquote><hr><ol start="10"><li>刷入 OpenGapps 以获取 Google 全家桶（<strong>可选项</strong>）</li></ol><blockquote><p>OpenGapps 地址： <a href="https://opengapps.org/">https://opengapps.org/</a></p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/9.png"/></div></div><blockquote><p><strong>选择 ARM64，Android 10.0</strong>，Variant 根据需求进行选择</p></blockquote><ul><li>micro：有限的 Google Apps 如 Gmail，日历，Google Now 以及 Play 商店无法提供的额外功能</li><li>nano：最小化安装，但包括 Play 商店无法提供的额外功能</li><li>pico：获得 Google Play 功能的最低要求</li><li>tvstock：适用于 Android TV 设备的选项（电视的，和手机无关，别选这个）</li></ul><blockquote><p>上述选项的注释均由 <strong>Google 机翻</strong>，本人稍作改动，如有误导敬请谅解。<del>本想推荐 aroma 的，文件虽然是最大的，但毕竟可以随自己心意安装组件。</del></p></blockquote><blockquote><p>❗️ 由于 OpenGapps for Android 10 还存在一些<a href="https://github.com/opengapps/opengapps/wiki/Notes-for-Android-10.x">问题</a>，OpenGapps 在当前稳定版本中只启用了 micro 及其以下版本，只有等 OpenGapps 团队解决了相关问题，才会提供更大的包。所以<strong>现在强烈建议使用 nano 包</strong></p></blockquote><blockquote><p>刷入 OpenGapps 也是和前面一样，都是用 <strong>adb sideload</strong>，这里就不再赘述了。</p></blockquote><hr><ol start="11"><li>在完成上述内容后，开机前建议执行「<strong>Format Data</strong>」，分别擦除「<strong>Dalvik / ART Cache</strong>」、「<strong>Cache</strong>」、「<strong>Data</strong>」的操作（❗️ <strong>不要选错了</strong>）。</li></ol><hr><ol start="12"><li><strong>开机测试。</strong></li></ol><blockquote><p>❗️ 我对于<strong>刷入 Magisk 的建议</strong>是，先看看是不是能正常开机，如果可以再刷 Magisk 还来得及。</p></blockquote><ol start="13"><li>所以现在刷入 Magisk 以获取 root 权限（可选项）</li></ol><blockquote><p>众所周知，如今主流的获取 root 权限的方案就是 Magisk（Magisk 是一款帮助 Android 设备获取 root 权限的开源工具）。</p></blockquote><blockquote><p>这里我介绍下 2 种方法。一种是通过 <strong>Adb Sideload</strong> 刷进去,另一种是通过 <strong>fastboot</strong>。（<strong>推荐使用 Adb Sideload 的方式</strong>，不推荐用 fastboot 方式刷是因为这种方式刷入 Magisk 的话，手机每次重启会卡开机动画，得手动进 TWRP 才能正常重启）</p></blockquote><div class="tabs" id="1"><ul class="nav-tabs"><li class="tab active"><a class="#1-1">adb sideload 方式</a></li><li class="tab"><a class="#1-2">fastboot 方式</a></li></ul><div class="tab-content"><div class="tab-pane active" id="1-1"><p><a href="https://github.com/topjohnwu/Magisk/releases/">点此</a>在页面找到最新的 <code>Magisk-v版本号.zip</code> 下载，以我当前的时间为例，目前最新的 Magisk 版本为 20.4，那么就是下载 <code>Magisk-v20.4.zip</code>。</p><blockquote><p>adb sideload 刷入方式和前面说的没什么不同，这里就不说了。</p></blockquote><p>最后再次开机后发现没有 Magisk Manger（Magisk 的管理 app）的话，<a href="https://github.com/topjohnwu/Magisk/releases/">点此</a>在该页面找到最新的 Magisk Manger 的 apk 安装即可。</p></div><div class="tab-pane" id="1-2"><p>❶ <a href="https://github.com/topjohnwu/Magisk/releases/">点此</a>在该页面找到 Magisk Manger 的 apk 安装即可。</p><p>❷ 电脑上解压 LinegaeOS 的刷机包 <code>*.zip</code>，找到 <code>boot.img</code>，传到手机里。</p><p>❸ 打开 Magisk Manager（Magisk 的管理 app，并不是 Magisk 本体），首页会显示 Magisk 未安装，点击旁边的「<strong>Install 安装</strong>」-&gt; 然后弹框会询问你是否现在安装 Magisk ，你选「<strong>Install 安装</strong>」-&gt; 再然后选「<strong>Select and Patch a File 选择并修补一个文件</strong>」，找到刚传的 <code>boot.img</code>，等 patch 完后会生成 <code>内部存储/Download/magisk_patched.img</code> 文件。最后把这个文件传回电脑，然后执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash boot *.img</span><br></pre></td></tr></table></figure><blockquote><p>一样的，命令里的 <code>*.img</code> 不需要手动填写，把 <code>magisk_patched.img</code> 拖拽到 cmd 就行。</p></blockquote></div></div></div><hr><blockquote><p>搞定完一切后，刷机操作就完成了。我来展示下成果图吧（我装的 lawnchair 启动器）~</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Install_LineageOS_on_sagit/result.png"/></div></div><hr><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><details cyan open><summary> 为什么我刷完机后，想要再进 TWRP 玩玩其他东西，但是需要输入密码，密码是什么？ </summary>              <div class='content'>              <blockquote><p>答：这个密码是您设置的锁屏密码，默认情况下，您的设备是全盘加密的，这是为了安全着想而设计的（但是也不排除遭到他人强迫给出密码解密的可能），只有在正确的输入你的<strong>锁屏密码</strong>才能解密设备。</p></blockquote>              </div>            </details><details cyan><summary> 刷 OpenGapps 后无法通过开机向导该怎么办？ </summary>              <div class='content'>              <p>当你在没有退出 Google 帐号就刷机的情况下，只是通过 TWRP 直接格式化手机或者是刷了 OpenGapps 后可能会遇到无法跳过开机向导的情况。具体来说，也就是触发了 Android 的 FRP（Factory Reset Protection）机制，具体解决办法可以看看<a href="https://ericclose.github.io/Google-setup-wizard.html">这篇文章</a>。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Google-setup-wizard/1.jpg"/></div></div>              </div>            </details><details cyan><summary> （没遇到就不用管）如果遇到数据能上网，但打电话显示 sim 卡无信号或无法连接到移动网络该怎么办？ </summary>              <div class='content'>              <blockquote><p>答：系统默认开启了 VoLTE，但是 VoLTE 是不可用的。（我本人电信卡作为主卡是遇到了的，我也不知道是不是我没有开通 VoLTE 的原因，又或者是电信卡的原因，还是这个官方 LineageOS 本身就不能用 VoLTE。）</p><p>解决方法：「<strong>Settings 设置</strong>」-&gt;「<strong>Network and Internet 网络 &amp; 互联网</strong>」-&gt;「<strong>Mobile network 移动网络</strong>」里选择出现问题的 sim 卡 -&gt;「<strong>Advanced 高级</strong>」-&gt; 找到「<strong>VoLTE</strong> 增强 4G LTE 模式（使用LTE服务来增强语音和其他通讯）」，把这个选项关了就行了。</p><p>总之整完了这个，我测试了电信打电话，和数据上网也没什么问题了。</p></blockquote>              </div>            </details><details cyan><summary> 晚上关灯搞手机，手机按键的背光灯常亮看起来要瞎了，怎么把背光灯关掉？ </summary>              <div class='content'>              <blockquote><p>答：<del>最好的做法是睡觉不要玩手机！</del> 好啦，告诉你吧。「<strong>设置</strong>」-&gt;「<strong>系统</strong>」-&gt;「<strong>按钮</strong>」-&gt;「<strong>背光灯</strong>」-&gt;「<strong>按键亮度</strong>」调节至 <strong>0%</strong> 就可以啦。</p></blockquote>              </div>            </details><details cyan><summary> 如何在状态栏里显示电池百分比和实时网速？ </summary>              <div class='content'>              <blockquote><p><strong>答</strong></p><ul><li>关于电池百分比：在「<strong>Settings 设置</strong>」-&gt; 「<strong>System 系统</strong>」-&gt;「<strong>Status bar 状态栏</strong>」-&gt; 「<strong>Battery percentage 电池百分比</strong>」，建议选择「<strong>Next to the icon 图标旁边</strong>」。</li><li>关于实时显示网速：在「<strong>Settings 设置</strong>」-&gt;「<strong>System 系统</strong>」-&gt;「<strong>Status bar 状态栏</strong>」-&gt;「<strong>Network traffic monitor 网络流量监视器</strong>」-&gt;「<strong>Display mode 显示模式</strong>」，选择「<strong>Upload and Download 上传和下载</strong>」-&gt;「<strong>Traffic mesurement units 流量测量单位</strong>」，选择 kB/s（记住得是大写的 B，小写的话就是 1000 比特每秒作为单位）</li></ul></blockquote>              </div>            </details><details cyan><summary> 哪里可以获取 Google 相机？ </summary>              <div class='content'>              <blockquote><p>答：我用的是俄罗斯的一位老哥 <a href="https://www.celsoazevedo.com/files/android/google-camera/dev-alexey070315/">Alexey070315</a> 搞的 Google 相机。现在最新版本是 2020-04-07 的 <code>MGC_MIX2S_JOKER3.apk</code>，<a href="https://fff.celsoazevedo.com/file/cfiles/gcm1/MGC_MIX2S_JOKER3.apk">点此</a>下载安装即可。</p></blockquote>              </div>            </details><details cyan><summary> 手机连点两下亮屏，哪里可以取消？ </summary>              <div class='content'>              <blockquote><p>答：其实这个是系统默认开启的<strong>双击屏幕的任意位置唤醒设备</strong>的功能。如果你想要关掉的话，你可以去「<strong>Settings 设置</strong>」-&gt;「<strong>Display 显示</strong>」-&gt;「<strong>Advanced 高级</strong>」-&gt;「<strong>Tap to wake 点击唤醒</strong>」选项关掉即可。</p></blockquote>              </div>            </details><details cyan><summary> 不习惯默认的“任务键在左，返回键在右”，需要在哪里设置反转呢？ </summary>              <div class='content'>              <blockquote><p>答：你可以在「<strong>Settings 设置</strong>」-&gt;「<strong>System 系统</strong>」-&gt;「<strong>Buttons 按键</strong>」-&gt;「<strong>Additional buttons 更多按键</strong>」-&gt;「<strong>Swap buttons 交换按键</strong>」开启这个选项即可。</p></blockquote>              </div>            </details><details cyan><summary> 状态栏的 Wi-Fi 显示不可用或者是受限，这是为什么呢，又该如何解决？ </summary>              <div class='content'>              <blockquote><p>详情请参见：</p></blockquote><p><span class='btn center large'><a class="button" href='https://ericclose.github.io/Captive-Portal-Android.html' title='（类）原生 Android 网络去叉／叹号 Android 5.0 - 10.0'><i class='fas fa-wifi'></i>（类）原生 Android 网络去叉／叹号 Android 5.0 - 10.0</a></span></p>              </div>            </details><p>本文完结，如有其他疑问可以在评论区留言，在我能力允许的情况下我会对此进行答复~</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小米 </tag>
            
            <tag> sagit </tag>
            
            <tag> LineageOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arch Linux with KDE 配置触控板手势</title>
      <link href="libinput-gestures-on-Arch-Linux-with-KDE.html"/>
      <url>libinput-gestures-on-Arch-Linux-with-KDE.html</url>
      
        <content type="html"><![CDATA[<p>本文教你如何配置触控板的手势，以 Arch Linux 为例，桌面环境为 KDE。</p><ul><li>libinput-gestures: 使用libinput在触摸板上执行动作手势</li></ul><ol><li>将当前用户加入到input组（您必须是input用户组的成员才具有读取触控板设备的权限）</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> input</span><br></pre></td></tr></table></figure><a id="more"></a><p><strong>注意，注销用户或重启以生效</strong></p><ol start="2"><li>安装 libinput-gestures</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/libinput-gestures.git</span><br><span class="line"><span class="built_in">cd</span> libinput-gestures</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure><ol start="3"><li>开启相应服务并设为开机自启</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">libinput-gestures-setup autostart</span><br><span class="line">libinput-gestures-setup start</span><br></pre></td></tr></table></figure><ol start="4"><li>编辑配置文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/libinput-gestures.conf ~/.config/libinput-gestures.conf</span><br><span class="line">vim ~/.config/libinput-gestures.conf</span><br></pre></td></tr></table></figure><p>在文件的末尾追加如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gesture swipe down 3xdotool key ctrl+F12    # 三指下滑回到桌面</span><br><span class="line">gesture swipe up 3xdotool key ctrl+F10      # 三指上滑查看窗口</span><br><span class="line">gesture swipe right 4xdotool key meta+Tab    # 四指右滑切换窗口</span><br><span class="line">gesture swipe left 4xdotool key meta+Tab    # 四指左滑切换窗口</span><br></pre></td></tr></table></figure><ol start="5"><li>然后在 「System Settings 系统设置」 -&gt; 「Input Devices 输入设备」 -&gt; 「Touchpad 触控板」 -&gt; 启用 「Tap-to-click 轻触点击」 和 「Tap-and-drag 连续轻触2下拖拽」</li></ol><p><strong>最后，注销用户或重启生效。</strong></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 触控板 </tag>
            
            <tag> KDE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一文让你了解如何为 Git 设置代理</title>
      <link href="git-proxy-config.html"/>
      <url>git-proxy-config.html</url>
      
        <content type="html"><![CDATA[<p>如果你在克隆或从远程仓库获取数据时遇到很慢甚至超时的情况，那么此时你可能需要配置 Git 的代理。我这里就讲讲两种情况的代理方法：<strong>使用 HTTP 或 HTTPS 协议连接到 Git 仓库的代理方法</strong>和<strong>使用 SSH 协议连接到 Git 仓库的代理方法</strong>。</p><a id="more"></a><hr><ul><li>如果远程仓库的格式像下面那样，这种就是<strong>使用 HTTP 或 HTTPS 协议连接到 Git 仓库</strong>的情况</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;github.com&#x2F;cms-sw&#x2F;cmssw.git</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;cms-sw&#x2F;cmssw.git</span><br></pre></td></tr></table></figure><ul><li>如果远程仓库的格式像下面那样，这种就是<strong>使用 SSH 协议连接到 Git 仓库</strong>的情况</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git@github.com:cms-sw&#x2F;cmssw.git</span><br><span class="line">ssh:&#x2F;&#x2F;git@github.com&#x2F;cms-sw&#x2F;cmssw.git</span><br></pre></td></tr></table></figure><hr><h2 id="预先准备"><a href="#预先准备" class="headerlink" title="预先准备"></a>预先准备</h2><p>在<strong>开始操作之前</strong>，你<strong>需要明确</strong>这些内容：</p><ul><li>电脑已经安装了 Git（这不是废话吗，23333）。如果你是 Windows 用户，那么本文的命令你需要通过 Git Bash 来执行；如果你是 Linux 或 macOS 用户直接在终端运行即可。</li><li>知道如何用 vim 编辑文件，退出编辑的基本操作。</li></ul><hr><h2 id="使用-HTTP-或-HTTPS-协议连接到-Git-仓库的代理方法"><a href="#使用-HTTP-或-HTTPS-协议连接到-Git-仓库的代理方法" class="headerlink" title="使用 HTTP 或 HTTPS 协议连接到 Git 仓库的代理方法"></a>使用 HTTP 或 HTTPS 协议连接到 Git 仓库的代理方法</h2><h3 id="针对所有域名的-Git-仓库"><a href="#针对所有域名的-Git-仓库" class="headerlink" title="针对所有域名的 Git 仓库"></a>针对所有域名的 Git 仓库</h3><ul><li>这样做是对所有域名生效的的：</li></ul><blockquote><p>git config –global http.proxy <code>protocol</code>://127.0.0.1:<code>port</code></p></blockquote><p><strong>注意</strong>： <code>--glboal</code> 选项指的是修改 Git 的全局配置文件 <code>~/.gitconfig</code>，而非各个 Git 仓库里的配置文件 <code>.git/config</code>。<code>protocol</code> 指的是代理的协议，如 http，https，socks5 等。<code>port</code> 则为端口号。</p><h3 id="针对特定域名的-Git-仓库"><a href="#针对特定域名的-Git-仓库" class="headerlink" title="针对特定域名的 Git 仓库"></a>针对特定域名的 Git 仓库</h3><ul><li>或者针对特定域名生效：</li></ul><blockquote><p>git config –global http.<code>url</code>.proxy <code>protocol</code>://127.0.0.1:<code>port</code></p></blockquote><p><strong>注意</strong>： </p><ul><li>此处的 <code>url</code> 即为你需要走代理的仓库域名，<code>url</code> 以 <code>http://</code> 和 <code>https://</code> 打头的<strong>均用</strong>这个方法。</li><li>网上很多中文教程，可能会告诉你 <code>https://</code> 打头的 <code>url</code> 使用“git config –global <strong>https</strong>.<a href="https://example.com.proxy/">https://example.com.proxy</a> <code>protocol</code>://127.0.0.1:<code>port</code>”，这种做法其实是错的！<strong>记住一点</strong>：Git 不认 <em>https.proxy</em> ，设置 <em>http.proxy</em> 就可以支持 https 了。</li><li>如果想了解 <code>url</code> 的更多模式，如子域名等的情况，可参照 <a href="https://git-scm.com/docs/git-config">Git 的官方文档</a> 。网页内容搜索 <code>http.&lt;url&gt;.*</code>，即可找到相关信息。</li></ul><hr><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><blockquote><p>针对 HTTP 或 HTTPS 协议连接到 Git 仓库的代理方法 Windows，Linux，macOS 用户的操作是一样的。</p></blockquote><p>也许你光看我上面的内容还看不明白，不妨我们来看下实例部分：</p><p>此处以 Clash for Windows 为例子。如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/git-proxy-config/1.png"/></div></div><p>Clash for Windows 既支持 <strong>HTTP / HTTPS</strong> 协议代理，也支持 <strong>SOCKS v5</strong> 协议代理。如果你使用其他的代理软件，你可以根据你使用的代理软件的<strong>代理协议</strong>和本地<strong>端口号</strong>参考本文修改即可。</p><hr><h4 id="针对所有域名的-Git-仓库-1"><a href="#针对所有域名的-Git-仓库-1" class="headerlink" title="针对所有域名的 Git 仓库"></a>针对所有域名的 Git 仓库</h4><p>根据你的代理软件支持的代理协议<strong>选取其中一种</strong>即可：</p><div class="tabs" id="1"><ul class="nav-tabs"><li class="tab active"><a class="#1-1">http 代理</a></li><li class="tab"><a class="#1-2">socks5 代理</a></li></ul><div class="tab-content"><div class="tab-pane active" id="1-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:7890</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：<em>7890</em> 为 Clash for Windows 的 http 代理端口。</p></div><div class="tab-pane" id="1-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy socks5://127.0.0.1:7891</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：<em>7891</em> 为 Clash for Windows 的 socks5 代理端口。</p></div></div></div><hr><h4 id="针对特定域名的-Git-仓库-1"><a href="#针对特定域名的-Git-仓库-1" class="headerlink" title="针对特定域名的 Git 仓库"></a>针对特定域名的 Git 仓库</h4><p>前面我们说的是，让所有域名下的仓库都走代理的情况，但是在现实情况下我们并不想这么做。那么现在我来介绍一下针对特定域名仓库走代理的做法，此处以 GitHub 为例:</p><p>当我们从 GitHub 仓库克隆源码时我们往往是这么做的的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/&lt;user&gt;/&lt;repository&gt;.git</span><br></pre></td></tr></table></figure><p>那么我前面所提到的 <code>url</code> 就是 <code>https://github.com</code></p><p>根据你的代理软件支持的代理协议<strong>选取其中一种</strong>即可：</p><div class="tabs" id="2"><ul class="nav-tabs"><li class="tab active"><a class="#2-1">http 代理</a></li><li class="tab"><a class="#2-2">socks5 代理</a></li></ul><div class="tab-content"><div class="tab-pane active" id="2-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy http://127.0.0.1:7890</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="2-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:7891</span><br></pre></td></tr></table></figure></div></div></div><hr><h2 id="使用-SSH-协议连接到-Git-仓库的代理方法"><a href="#使用-SSH-协议连接到-Git-仓库的代理方法" class="headerlink" title="使用 SSH 协议连接到 Git 仓库的代理方法"></a>使用 SSH 协议连接到 Git 仓库的代理方法</h2><p>在这种情况下，Git 依靠 ssh 处理连接； 为了通过代理进行连接，您必须配置 ssh 本身，在 <code>~/.ssh/config</code> 文件中设置 <strong>ProxyCommand</strong> 选项。Linux 和 macOS 是通过 <code>nc</code> 来执行 ProxyCommand 的，Windows 下则是通过 <code>connect</code>。</p><hr><h3 id="相关文档"><a href="#相关文档" class="headerlink" title="相关文档"></a>相关文档</h3><ul><li><a href="https://man.openbsd.org/ssh_config">ssh_config(5)</a> ProxyCommand 的内容:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ProxyCommand</span><br><span class="line"></span><br><span class="line">Specifies the command to use to connect to the server. The command string extends to the end of the line, and is executed using the user&#39;s shell ‘exec’ directive to avoid a lingering shell process.</span><br><span class="line"></span><br><span class="line">Arguments to ProxyCommand accept the tokens described in the TOKENS section. The command can be basically anything, and should read from its standard input and write to its standard output. It should eventually connect an sshd(8) server running on some machine, or execute sshd -i somewhere. Host key management will be done using the Hostname of the host being connected (defaulting to the name typed by the user). Setting the command to none disables this option entirely. Note that CheckHostIP is not available for connects with a proxy command.</span><br><span class="line"></span><br><span class="line">This directive is useful in conjunction with nc(1) and its proxy support. For example, the following directive would connect via an HTTP proxy at 192.0.2.0:</span><br><span class="line"></span><br><span class="line">ProxyCommand &#x2F;usr&#x2F;bin&#x2F;nc -X connect -x 192.0.2.0:8080 %h %p</span><br></pre></td></tr></table></figure><ul><li><a href="https://man.openbsd.org/nc">nc(1)</a> <code>-X</code> 和 <code>-x</code> 选项的的内容:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-X proxy_protocol</span><br><span class="line">Use proxy_protocol when talking to the proxy server. Supported protocols are 4 (SOCKS v.4), 5 (SOCKS v.5) and connect (HTTPS proxy). If the protocol is not specified, SOCKS version 5 is used.</span><br><span class="line"></span><br><span class="line">-x proxy_address[:port]</span><br><span class="line">Connect to destination using a proxy at proxy_address and port. If port is not specified, the well-known port for the proxy protocol is used (1080 for SOCKS, 3128 for HTTPS). An IPv6 address can be specified unambiguously by enclosing proxy_address in square brackets. A proxy cannot be used with any of the options -lsuU.</span><br></pre></td></tr></table></figure><ul><li><a href="https://bitbucket.org/gotoh/connect/wiki/Home#!more-detail">connect</a> <code>-H</code> 和 <code>S</code> 选项的内容</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-H option specify hostname and port number of http proxy server to relay. If port is omitted, 80 is used. You can specify this value by environment variable HTTP_PROXY and give -h option to use it.</span><br><span class="line"></span><br><span class="line">-S option specify hostname and port number of SOCKS server to relay. Like -H option, port number can be omit and default is 1080. You can also specify this value pair by environment variable SOCKS5_SERVER and give -s option to use it.</span><br><span class="line"></span><br><span class="line">-4 and -5 is for specifying SOCKS protocol version. It is valid only using with -s or -S. Default is -5 (protocol version 5)</span><br></pre></td></tr></table></figure><hr><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><p>接下来的操作，请按照你的<strong>系统</strong>，以及所需<strong>代理协议</strong>进行选择：</p><hr><h4 id="Linux-和-macOS-用户"><a href="#Linux-和-macOS-用户" class="headerlink" title="Linux 和 macOS 用户"></a>Linux 和 macOS 用户</h4><div class="tabs" id="3"><ul class="nav-tabs"><li class="tab active"><a class="#3-1">https 代理</a></li><li class="tab"><a class="#3-2">socks5 代理</a></li></ul><div class="tab-content"><div class="tab-pane active" id="3-1"><p>编辑 <code>~/.ssh/config</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>给文件加上如下内容:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    ProxyCommand nc -X connect -x 127.0.0.1:7890 %h %p</span><br></pre></td></tr></table></figure><blockquote><p><strong>解释</strong>: </p><ul><li><code>Host</code> 后面 接的 <code>github.com</code> 是指定要走代理的仓库域名。</li><li>在 ProxyCommand 中，Linux 和 macOS 用户用的是 <code>nc</code>。</li><li><code>-X</code> 选项后面接的是 <code>connect</code> 的意思是 HTTPS 代理。</li><li><code>-x</code> 选项后面加上代理地址和端口号。</li><li>在调用 ProxyCommand 时，<code>％h</code> 和 <code>％p</code> 将会被自动替换为<strong>目标主机名</strong>和 <strong>SSH 命令指定的端口</strong>（<code>%h</code> 和 <code>%p</code> 不要修改，保留原样即可）。</li></ul></blockquote></div><div class="tab-pane" id="3-2"><p>编辑 <code>~/.ssh/config</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>给文件加上如下内容，2种任选一个:</p><blockquote><ul><li><code>Host</code> 后面 接的 <code>github.com</code> 是指定要走代理的仓库域名。</li><li>在 ProxyCommand 中，Linux 和 macOS 用户用的是 <code>nc</code> 。</li><li>在调用 ProxyCommand 时，<code>％h</code> 和 <code>％p</code> 将会被自动替换为<strong>目标主机名</strong>和 <strong>SSH 命令指定的端口</strong>（ <code>%h</code> 和 <code>%p</code> 不要修改，保留原样即可）。</li><li>如果 <code>-X</code> 选项后面接的是数字 <strong>5</strong>，那么指的就是 socks5 代理。</li><li>当然你直接不写上 <code>-X</code> 选项也是可以的，因为在没有指定协议的情况下，默认是使用socks5代理的。所以以下 <strong>2 种的写法效果一样</strong> ，都指的是走 socks5 代理：</li></ul></blockquote><p>①. 第一种</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    ProxyCommand nc -X 5 -x 127.0.0.1:7891 %h %p</span><br></pre></td></tr></table></figure><p>或</p><p>②. 第二种</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    ProxyCommand nc -x 127.0.0.1:7891 %h %p</span><br></pre></td></tr></table></figure></div></div></div><hr><h4 id="Windows-用户"><a href="#Windows-用户" class="headerlink" title="Windows 用户"></a>Windows 用户</h4><div class="tabs" id="4"><ul class="nav-tabs"><li class="tab active"><a class="#4-1">http 代理</a></li><li class="tab"><a class="#4-2">socks5 代理</a></li></ul><div class="tab-content"><div class="tab-pane active" id="4-1"><p>编辑 <code>~/.ssh/config</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>给文件加上以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    ProxyCommand connect -H 127.0.0.1:7890 %h %p</span><br></pre></td></tr></table></figure><blockquote><p><strong>解释</strong>: </p><ul><li><code>Host</code> 后面 接的 <code>github.com</code> 是指定要走代理的仓库域名。</li><li>在 ProxyCommand 中，Windows 用户用的是 <code>connect</code> 。</li><li><code>-H</code> 选项的意思是 HTTP 代理。</li><li>在调用 ProxyCommand 时，<code>％h</code> 和 <code>％p</code> 将会被自动替换为<strong>目标主机名</strong>和 <strong>SSH 命令指定的端口</strong>（ <code>%h</code> 和 <code>%p</code> 不要修改，保留原样即可）。</li></ul></blockquote></div><div class="tab-pane" id="4-2"><p>编辑 <code>~/.ssh/config</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>给文件加上如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    ProxyCommand connect -S 127.0.0.1:7891 %h %p</span><br></pre></td></tr></table></figure><blockquote><p><strong>解释</strong>：</p><ul><li><code>Host</code> 后面 接的 <code>github.com</code> 是指定要走代理的仓库域名。</li><li>在 ProxyCommand 中，Windows 用户用的是 <code>connect</code>。</li><li>单独的 <code>-S</code> 选项指的就是 socks5 代理</li><li>在调用 ProxyCommand 时，<code>％h</code> 和 <code>％p</code> 将会被自动替换为<strong>目标主机名</strong>和 <strong>SSH 命令指定的端口</strong>（ <code>%h</code> 和 <code>%p</code> 不要修改，保留原样即可）。</li></ul></blockquote></div></div></div><hr><h2 id="如何取消-Git-和-ssh-的代理"><a href="#如何取消-Git-和-ssh-的代理" class="headerlink" title="如何取消 Git 和 ssh 的代理"></a>如何取消 Git 和 ssh 的代理</h2><p>这里就不多说了，说了那么多，我们无非就是修改了 2 个文件，即 <code>~/.gitconfig</code> 和 <code>~/.ssh/.config</code> ，<strong>删除</strong>或<strong>注释</strong>（在相应行的开头加上 <code>#</code>  即可）我们增加的相应内容即可完成取消代理。</p><hr><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ol><li><a href="https://git-scm.com/docs/git-config">Git - git-config Documentation</a></li><li><a href="https://gist.github.com/evantoli/f8c23a37eb3558ab8765">Configure Git to use a proxy</a></li><li><a href="https://cms-sw.github.io/tutorial-proxy.html">Tutorial: how to use git through a proxy</a></li><li><a href="https://man.openbsd.org/ssh_config">ssh_config(5) - OpenBSD manual pages</a></li><li><a href="https://man.openbsd.org/nc">nc(1) - OpenBSD manual pages</a></li><li><a href="https://bitbucket.org/gotoh/connect/wiki/Home#!more-detail">SSH Proxy Command – connect.c</a></li><li><a href="https://superuser.com/a/454211">How can I use SSH with a SOCKS 5 proxy?</a></li><li><a href="https://jeshs.github.io/2019/04/git%E5%9F%BA%E7%A1%80%E4%BB%A3%E7%90%86/">Git 基础——代理</a></li><li><a href="https://www.perkin.org.uk/posts/ssh-via-http-proxy-in-osx.html">SSH via HTTP proxy in OSX</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Proxy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代理 </tag>
            
            <tag> Git </tag>
            
            <tag> 仓库 </tag>
            
            <tag> http </tag>
            
            <tag> https </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何通过 HWIDGEN 以数字许可的方式激活 Windows 10</title>
      <link href="active-Windows-10-with-digital-license.html"/>
      <url>active-Windows-10-with-digital-license.html</url>
      
        <content type="html"><![CDATA[<p>HWIDGEN 是一款由国外 Nsane 论坛会员 s1ave77 制作的 Windows 10 数字权利激活工具。这款 Windows 10 数字权利获取工具，可以自动获取 Windows 10 数字许可证激活，无需产品密钥，以最简单的方式永久激活。</p><a id="more"></a><p><strong>HWIDGEN 的源码</strong></p><ul><li><a href="https://github.com/CHEF-KOCH/HWIDGEN-SRC">https://github.com/CHEF-KOCH/HWIDGEN-SRC</a></li></ul><blockquote><p><strong>工具下载地址</strong></p><ul><li><a href="https://drive.google.com/open?id=14swGfWlpXVcfE9U_mu8InPbAqtf78KzO">Google Drive（包含历史版本）</a></li></ul><p><strong>解压密码</strong></p><ul><li><code>3Fs44Rv#tZ4u3UOij656NgF____</code></li></ul><p>支持的 Windows 10 版本（Skus）：</p><ul><li>核心（家庭）版（N）</li><li>核心单语言版（N）</li><li>专业版（N）</li><li>专业教育版（N）</li><li>专业工作站版（N）</li><li>教育版（N）</li><li>企业版（N）</li><li>企业 S 版（N）【2015/2016：数字证书】</li><li>企业 S 版（N）【2019：19年的离线 KMS 激活（和企业G版相似）】</li><li>服务器标准（核心）版（N）【2016/2019：19年的离线 KMS 激活（和企业G版相似）】</li><li>服务器数据中心（核心）版（N）【2016/2019：19年的离线 KMS 激活（和企业G版相似）】</li><li>服务器解决方案（核心）版（N）【2016/2019：19年的离线 KMS 激活（和企业G版相似）】</li></ul><p>上述内容均引用自 <a href="https://channel.justf.space/2018/06/17/Windows-activation-HWID/">Windows 10 数字许可证激活（HWID）方法——原创翻译</a></p></blockquote><p><strong>使用说明</strong></p><p>下载 <code>hwid.kms38.gen.mk6.zip</code> 后将压缩包解压，输入上述密码，得到文件 <code>hwid.kms38.gen.mk6.exe</code>，双击它。启动完成后在 <strong>Work Mode</strong> 选中 <strong>HWID</strong>，然后 <strong>Start</strong> 即可，等进度条走完跳出 <strong>Success</strong> 弹框就激活成功啦。</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/active-Windows-10-with-digital-license/1.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/active-Windows-10-with-digital-license/2.png"></p>            </div><p>进入「<strong>设置</strong>」，「<strong>安全和更新</strong>」，找到「<strong>激活</strong>」的一栏。得到“<em>Windows 已使用数字许可证激活</em>”的提示：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/active-Windows-10-with-digital-license/3.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 激活 </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>竞斗云2.0 ( P&amp;W R619AC ) 刷机教程 ( 免拆机 / 免劫持 )</title>
      <link href="R619AC-OpBoot-and-OpenWrt-flashing.html"/>
      <url>R619AC-OpBoot-and-OpenWrt-flashing.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>目前竞斗云2.0 官方固件版本升级至 <strong>2.5.11.82</strong> 后可轻松刷入第三方固件，这简化了我们刷机的流程。</p></blockquote><p>事前准备:</p><ul><li>电脑、网线、<strong>全新</strong> / <strong>已恢复出厂</strong> 的竞斗云2.0</li><li>请先给路由器通上电后用网线将电脑连接至路由器的 <strong>LAN 口</strong></li><li>下载好下列文件:</li></ul><a id="more"></a><p><strong>竞斗云2.0 刷机相关文件</strong></p><overflow><table><thead><tr><th align="center">文件名</th><th align="center">md5sum</th><th align="center">描述</th><th align="center">下载</th></tr></thead><tbody><tr><td align="center"><code>openwrt-ipq40xx-R9.11.22-unlock-p2w_r619ac-squashfs-nand-factory.bin</code></td><td align="center">d3e8d29d1a37872f37f9070fabb9a7a2</td><td align="center">OpenWrt 过渡包，在竞斗云官方固件更新后刷入</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/1/openwrt-ipq40xx-R9.11.22-unlock-p2w_r619ac-squashfs-nand-factory.bin">链接</a></td></tr><tr><td align="center"><code>opboot-p2w-r619ac-flash-v1.0.8.bin</code></td><td align="center">c3c0efd25aa18ee505debb3a90d75fe3</td><td align="center">OpBoot文件，刷入过渡包后刷入</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/2/opboot-p2w-r619ac-flash-v1.0.8.bin">链接</a></td></tr><tr><td align="center"><code>openwrt-ipq40xx-R9.11.23-p2w_r619ac-squashfs-nand-sysupgrade.bin</code></td><td align="center">856e7571263398a8c976cbf721ac821c</td><td align="center">刷完OpBoot后，最后刷入的OpenWrt固件</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/3/openwrt-ipq40xx-R9.11.23-p2w_r619ac-squashfs-nand-sysupgrade.bin">链接</a></td></tr></tbody></table></overflow><ul><li>MEGA 网盘下载链接: <a href="https://mega.nz/#F!hVgXjACA!CISFW8tyoKLCWs6RbC23LQ">https://mega.nz/#F!hVgXjACA!CISFW8tyoKLCWs6RbC23LQ</a></li></ul><blockquote><p><strong>推荐</strong> 使用梯子在 MEGA 网盘下载相关文件，当然您也可以直接点击表格中的链接下载。</p></blockquote><h2 id="官方固件更新并刷入-OpenWrt-过渡包"><a href="#官方固件更新并刷入-OpenWrt-过渡包" class="headerlink" title="官方固件更新并刷入 OpenWrt 过渡包"></a>官方固件更新并刷入 OpenWrt 过渡包</h2><ol><li>浏览器访问 <strong>192.168.7.1</strong> ，进入官方固件的管理页面。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/1.png"/></div></div><ol start="2"><li><p>选择 「 <strong>自动获取（DHCP模式）</strong> 」 ，下一步</p></li><li><p>设置 WiFi 名称和密码，密码可为空，下一步</p></li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/2.png"/></div></div><ol start="4"><li>输入设置的密码，「 <strong>登录</strong> 」（如果没设置密码直接点登录即可）</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/3.png"/></div></div><ol start="5"><li>这就进入了主界面，我们点击 「 <strong>高级设置</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/4.png"/></div></div><ol start="6"><li>点击 「 <strong>升级检查</strong> 」 -&gt; 「 <strong>检查升级</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/5.png"/></div></div><ol start="7"><li><strong>升级提醒</strong> 处点击 「 <strong>确定</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/6.png"/></div></div><ol start="8"><li>正在升级系统，请不要关闭电源…</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/7.png"/></div></div><ol start="9"><li>升级完成后浏览器会重新进入路由器管理界面，重新输入设置过的密码登录即可。此时我们在主界面点击 「 <strong>高级设置</strong> 」 -&gt; 「 <strong>升级检查</strong> 」 ，这里已经可以看到在新版官方固件（版本号为 <strong>2.5.11.82</strong> ）多了上传固件更新系统的功能。如图：</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/8.png"/></div></div><ol start="10"><li>点击 「 <strong>选择文件</strong> 」 ，选中过渡包(即 <em>openwrt-ipq40xx-R9.11.22-unlock-p2w_r619ac-squashfs-nand-factory.bin</em> )，无需保存配置，点击 「 <strong>开始刷入</strong> 」 即可。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/9.png"/></div></div><ol start="11"><li>正在升级系统，请不要关闭电源…</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/10.png"/></div></div><ol start="12"><li>刷完固件后，原有的 <strong>192.168.7.1</strong> 已经无法访问了，OpenWrt 的默认管理地址是 <strong>192.168.1.1</strong> ，在浏览器的地址栏输入 <strong>192.168.1.1</strong> 即可。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/11.png"/></div></div><p>如果能访问 OpenWrt 登录界面即表示正常刷入固件（此处我们无需登录），如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/12.png"/></div></div><p>到这里，如果您是 Windows 用户，建议看 Hyejeong 的针针小站一文 —— <a href="https://hyejeong.cn/gdockflash">【Router】G-DOCK 竞斗云2.0 小白刷机教程</a> 。</p><h2 id="电脑上安装-OpenSSH"><a href="#电脑上安装-OpenSSH" class="headerlink" title="电脑上安装 OpenSSH"></a>电脑上安装 OpenSSH</h2><blockquote><p><strong>注意</strong>: 本人电脑使用的 Linux 发行版本是 Arch Linux，其默认的软件包管理器是 <em>pacman</em> 。请根据您使用的发行版本选择合适的包管理器安装 <strong>openssh</strong></p></blockquote><p>电脑上打开终端模拟器执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ sudo pacman -S openssh</span><br></pre></td></tr></table></figure><h2 id="将电脑上的-OpBoot-文件-opboot-p2w-r619ac-flash-v1-0-8-bin-复制到路由器"><a href="#将电脑上的-OpBoot-文件-opboot-p2w-r619ac-flash-v1-0-8-bin-复制到路由器" class="headerlink" title="将电脑上的 OpBoot 文件 ( opboot-p2w-r619ac-flash-v1.0.8.bin ) 复制到路由器"></a>将电脑上的 OpBoot 文件 ( opboot-p2w-r619ac-flash-v1.0.8.bin ) 复制到路由器</h2><p>将文件从本地主机复制到远程主机，用法如下：</p><p>scp <em>local_file_path</em> <em>username</em>@<em>host_ip</em>:<em>/remote/directory/</em></p><h3 id="操作实例"><a href="#操作实例" class="headerlink" title="操作实例"></a>操作实例</h3><blockquote><p><strong>注意</strong>: 默认密码是 <strong>password</strong></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ scp <span class="string">&#x27;/home/eric/OpBoot/opboot-p2w-r619ac-flash-v1.0.8.bin&#x27;</span> root@192.168.1.1:/tmp</span><br><span class="line">The authenticity of host <span class="string">&#x27;192.168.1.1 (192.168.1.1)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>192.168.1.1<span class="string">&#x27; (RSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">root@192.168.1.1&#x27;</span>s password: </span><br><span class="line">opboot-p2w-r619ac-flash-v1.0.8.bin                                                                                           100% 1472KB   3.6MB/s   00:00</span><br></pre></td></tr></table></figure><h2 id="SSH-登录到路由器"><a href="#SSH-登录到路由器" class="headerlink" title="SSH 登录到路由器"></a>SSH 登录到路由器</h2><p>ssh 登录到远程服务器，用法如下：</p><blockquote><p>ssh <em>username</em>@<em>server-address</em></p></blockquote><h3 id="操作实例-1"><a href="#操作实例-1" class="headerlink" title="操作实例"></a>操作实例</h3><blockquote><p><strong>注意</strong>: 密码和前面输入的是同一个，即 <strong>password</strong></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ ssh root@192.168.1.1</span><br><span class="line">root@192.168.1.1<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">BusyBox v1.30.0 () built-in shell (ash)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  _______                     ________        __</span></span><br><span class="line"><span class="string"> |       |.-----.-----.-----.|  |  |  |.----.|  |_</span></span><br><span class="line"><span class="string"> |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|</span></span><br><span class="line"><span class="string"> |_______||   __|_____|__|__||________||__|  |____|</span></span><br><span class="line"><span class="string">          |__| W I R E L E S S   F R E E D O M</span></span><br><span class="line"><span class="string"> -----------------------------------------------------</span></span><br><span class="line"><span class="string"> OpenWrt SNAPSHOT, r1673-ea47656</span></span><br><span class="line"><span class="string"> -----------------------------------------------------</span></span><br><span class="line"><span class="string">root@OpenWrt:~# </span></span><br></pre></td></tr></table></figure><h2 id="读取路由器的分区表"><a href="#读取路由器的分区表" class="headerlink" title="读取路由器的分区表"></a>读取路由器的分区表</h2><blockquote><p>前面已经登录到路由器的 shell 了，所以命令是在路由器上执行的了。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~<span class="comment"># cat /proc/mtd</span></span><br><span class="line">dev:    size   erasesize  name</span><br><span class="line">mtd0: 04000000 00020000 <span class="string">&quot;rootfs&quot;</span></span><br><span class="line">mtd1: 04000000 00020000 <span class="string">&quot;unused1&quot;</span></span><br><span class="line">mtd2: 00170000 00010000 <span class="string">&quot;Bootloader&quot;</span></span><br><span class="line">mtd3: 00010000 00010000 <span class="string">&quot;ART&quot;</span></span><br><span class="line">mtd4: 00e80000 00010000 <span class="string">&quot;unused&quot;</span></span><br></pre></td></tr></table></figure><p>只要查询到分区里含有 Bootloader ，就可以继续下面的刷写 Bootloader 的操作了。</p><h2 id="校验路由器上的-OpBoot-文件"><a href="#校验路由器上的-OpBoot-文件" class="headerlink" title="校验路由器上的 OpBoot 文件"></a>校验路由器上的 OpBoot 文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~<span class="comment"># md5sum /tmp/opboot-p2w-r619ac-flash-v1.0.8.bin</span></span><br><span class="line">c3c0efd25aa18ee505debb3a90d75fe3  /tmp/opboot-p2w-r619ac-flash-v1.0.8.bin</span><br></pre></td></tr></table></figure><blockquote><p><em>opboot-p2w-r619ac-flash-v1.0.8.bin</em> 的 md5 值是:<br><em>c3c0efd25aa18ee505debb3a90d75fe3</em> ，如果对的上即可放心刷入。</p></blockquote><h2 id="刷写-OpBoot-到-Bootloader"><a href="#刷写-OpBoot-到-Bootloader" class="headerlink" title="刷写 OpBoot 到 Bootloader"></a>刷写 OpBoot 到 Bootloader</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~<span class="comment"># mtd -r write /tmp/opboot-p2w-r619ac-flash-v1.0.8.bin Bootloader</span></span><br><span class="line">Unlocking Bootloader ...</span><br><span class="line"></span><br><span class="line">Writing from /tmp/opboot-p2w-r619ac-flash-v1.0.8.bin to Bootloader ...     </span><br><span class="line">Rebooting ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>注意: 此处 <em>Rebooting…</em> 并不会自动退出，想要知道是否重启完，浏览器直接访问 <strong>192.168.1.1</strong> 如果能访问 OpenWrt 的登录界面则表示已经重启完成。此时你可以手动关闭电脑的终端模拟器了</p></blockquote><h2 id="进入-OpBoot"><a href="#进入-OpBoot" class="headerlink" title="进入 OpBoot"></a>进入 OpBoot</h2><p>先拔掉路由器的电源，长按路由器背面的 reset 按键（ <strong>不要松开</strong> ），然后重新插上电源，直到 <strong>跑马灯跑完</strong> （即 LAN的 指示灯4，3，2，1 依次闪过，最后LAN口的指示灯全亮，过后又熄灭），这时就可以松 reset 键了。然后浏览器直接访问 <strong>192.168.1.1</strong> ，这样就能进入 OpBoot 了。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/13.png"/></div></div><h2 id="备份ART"><a href="#备份ART" class="headerlink" title="备份ART"></a>备份ART</h2><p>主界面下点击 「 <strong>高级功能</strong> 」 -&gt; 「 <strong>数据备份</strong> 」 -&gt; 「 <strong>执行</strong> 」 ，浏览器会将 <em>art.bin</em> 自动下载到你的电脑上。</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/14.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/15.png"></p>            </div><h2 id="备份编程器固件"><a href="#备份编程器固件" class="headerlink" title="备份编程器固件"></a>备份编程器固件</h2><p>刷新下浏览器然后在 「 <strong>备份分区</strong> 」 处选择 <strong>编程器固件</strong> ，然后再点击 「 <strong>执行</strong> 」 ，浏览器会将 <em>all.bin</em> 自动下载到你的电脑上。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/16.png"/></div></div><h2 id="更新-OpenWrt-固件"><a href="#更新-OpenWrt-固件" class="headerlink" title="更新 OpenWrt 固件"></a>更新 OpenWrt 固件</h2><blockquote><p><strong>注意</strong>: 你可以在之前刷入的 OpenWrt 管理界面里更新固件，当然你也可以继续留在 OpBoot 更新固件。</p></blockquote><ol><li>返回 OpBoot 主菜单</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/17.png"/></div></div><ol start="2"><li>「 <strong>浏览文件</strong> 」 ，选中需要使用的 OpenWrt 固件 ( <em>openwrt-ipq40xx-R9.11.23-p2w_r619ac-squashfs-nand-sysupgrade.bin</em> ) ，然后点击更新即可。</li></ol><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/18.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/19.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/20.png"></p>            </div><ol start="3"><li>浏览器重新访问 <strong>192.168.1.1</strong> ，如果访问的是 OpenWrt 的登录界面即表示更新完成。</li></ol><blockquote><p>注意: 密码默认是 <strong>password</strong></p></blockquote><ol start="4"><li>输入密码登录成后即可进入 OpenWrt 的主界面</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/21.png"/></div></div><ol start="5"><li>建议执行一次重置。</li></ol><p>「 <strong>系统</strong> 」 -&gt; 「 <strong>备份/升级</strong> 」</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/22.png"/></div></div><p>「 <strong>执行重置</strong> 」</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/23.png"/></div></div><p>确认重置</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/24.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/25.png"></p>            </div><p>重置完后浏览器会重新回到 OpenWrt 的登录界面。</p><h2 id="美化-OpenWrt-的管理界面"><a href="#美化-OpenWrt-的管理界面" class="headerlink" title="美化 OpenWrt 的管理界面"></a>美化 OpenWrt 的管理界面</h2><p>默认的 OpenWrt 主题很是复古，这里我要介绍的是我很喜欢的一个主题，名字叫做 <em>luci-theme-argon</em></p><h3 id="操作实例-2"><a href="#操作实例-2" class="headerlink" title="操作实例"></a>操作实例</h3><ol><li><p><a href="https://github.com/jerrykuku/luci-theme-argon/releases">点击此处</a>跳转到主题包release页面，下载最新版本的 <code>*.ipk</code> 文件即可</p></li><li><p>重新接受路由器的密钥</p></li></ol><blockquote><p><strong>注意</strong>: 因为路由器前面经过重置，所以路由器的密钥会发生改变，所以我们需要在电脑上执行 ssh-keygen -R <em>hostname_or_ip</em> 来移除原有属于路由器的密钥，当再次连接路由器时重新接受路由器的密钥即可。如果不执行此操作将无法建立连接。</p></blockquote><p>使用 <strong>man ssh-keygen</strong> 命令可以查看下ssh-keygen命令的详细用法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">名称</span><br><span class="line">     ssh-keygen - 生成、管理和转换认证密钥</span><br><span class="line">............................................................</span><br><span class="line">............................................................     </span><br><span class="line">     -R hostname</span><br><span class="line">             从 known_hosts 文件中删除所有属于 hostname 的密钥。</span><br><span class="line">             这个选项主要用于删除经过散列的主机(参见 -H 选项)的密钥</span><br><span class="line">...........................................................</span><br><span class="line">...........................................................</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ ssh-keygen -R 192.168.1.1</span><br><span class="line"><span class="comment"># Host 192.168.1.1 found: line 8</span></span><br><span class="line">/home/eric/.ssh/known_hosts updated.</span><br><span class="line">Original contents retained as /home/eric/.ssh/known_hosts.old</span><br></pre></td></tr></table></figure><ol start="3"><li>将主题包文件复制到路由器，电脑上打开终端模拟器，执行以下命令:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ scp <span class="string">&#x27;/home/eric/Downloads/luci-theme-argon_1.3-01-20191111_all.ipk&#x27;</span> root@192.168.1.1:/tmp</span><br><span class="line">The authenticity of host <span class="string">&#x27;192.168.1.1 (192.168.1.1)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>192.168.1.1<span class="string">&#x27; (RSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">root@192.168.1.1&#x27;</span>s password: </span><br><span class="line">luci-theme-argon_1.3-01-20191111_all.ipk                                                                                     100% 1138KB   2.9MB/s   00:00</span><br></pre></td></tr></table></figure><ol start="4"><li>登录到路由器:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[eric@arch ~]$ ssh root@192.168.1.1</span><br><span class="line">root@192.168.1.1<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">BusyBox v1.30.0 () built-in shell (ash)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  _______                     ________        __</span></span><br><span class="line"><span class="string"> |       |.-----.-----.-----.|  |  |  |.----.|  |_</span></span><br><span class="line"><span class="string"> |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|</span></span><br><span class="line"><span class="string"> |_______||   __|_____|__|__||________||__|  |____|</span></span><br><span class="line"><span class="string">          |__| W I R E L E S S   F R E E D O M</span></span><br><span class="line"><span class="string"> -----------------------------------------------------</span></span><br><span class="line"><span class="string"> OpenWrt SNAPSHOT, r1673-ea47656</span></span><br><span class="line"><span class="string"> -----------------------------------------------------</span></span><br><span class="line"><span class="string">root@OpenWrt:~# </span></span><br></pre></td></tr></table></figure><ol start="4"><li>使用 opkg 安装主题包 luci-theme-argon</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~<span class="comment"># opkg install /tmp/luci-theme-argon_1.3-01-20191111_all.ipk</span></span><br><span class="line">Installing luci-theme-argon (1.3-01-20191111) to root...</span><br><span class="line">Configuring luci-theme-argon.</span><br><span class="line">uci: Entry not found</span><br><span class="line">uci: Entry not found</span><br><span class="line">uci: Entry not found</span><br><span class="line">root@OpenWrt:~<span class="comment"># </span></span><br></pre></td></tr></table></figure><p>这个时候再用浏览器访问 <strong>192.168.1.1</strong> ，就已经是应用了新主题啦。</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/26.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/cover.png"></p>            </div><p>到这里教程也算是结束了，后续的配置就与本教程无关了。</p><h2 id="后续更新（OpBoot-1-0-9-128-MB-OpenWrt）"><a href="#后续更新（OpBoot-1-0-9-128-MB-OpenWrt）" class="headerlink" title="后续更新（OpBoot 1.0.9 + 128 MB OpenWrt）"></a>后续更新（OpBoot 1.0.9 + 128 MB OpenWrt）</h2><overflow><table><thead><tr><th align="center">文件名</th><th align="center">md5sum</th><th align="center">描述</th><th align="center">下载</th></tr></thead><tbody><tr><td align="center"><code>opboot-p2w-r619ac-flash-v1.0.9.bin</code></td><td align="center">c7d6d14b04d055bf27dad9d9c5d58c7d</td><td align="center">OpBoot 文件，用命令刷入</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/128MB/opboot-p2w-r619ac-flash-v1.0.9.bin">链接</a></td></tr><tr><td align="center"><code>opboot-p2w-r619ac-nor-v1.0.9.img</code></td><td align="center">1eec34ed68043cc601b9a0225a1a3502</td><td align="center">OpBoot 文件，在 OpBoot 里更新刷入</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/128MB/opboot-p2w-r619ac-nor-v1.0.9.img">链接</a></td></tr><tr><td align="center"><code>openwrt-ipq40xx-p2w_r619ac-128MB-squashfs-nand-factory.ubi</code></td><td align="center">0083bbf4b6a5eaf1beb896518f4d6057</td><td align="center">OpenWrt 固件，在 OpBoot 里刷入</td><td align="center"><a href="https://github.com/ericclose/R619AC-OpBoot-and-OpenWrt-flashing/raw/master/128MB/openwrt-ipq40xx-p2w_r619ac-128MB-squashfs-nand-factory.ubi">链接</a></td></tr></tbody></table></overflow><ul><li>MEGA 网盘下载链接: <a href="https://mega.nz/#F!hVgXjACA!CISFW8tyoKLCWs6RbC23LQ">https://mega.nz/#F!hVgXjACA!CISFW8tyoKLCWs6RbC23LQ</a></li></ul><blockquote><p><strong>推荐</strong> 使用梯子在 MEGA 网盘下载相关文件，当然您也可以直接点击表格中的链接下载。</p></blockquote><h3 id="OpBoot-升级说明"><a href="#OpBoot-升级说明" class="headerlink" title="OpBoot 升级说明"></a>OpBoot 升级说明</h3><p>竞斗云 2.0 的 NAND 闪存大小是 128 MB，但前期的 OpBoot 仅支持 64 MB 大小，相应的 OpenWrt 固件也是 64 MB 的，也就是说实际可用的空间仅 64 MB。自从 OpBoot 升级至 1.0.9 之后即可支持竞斗云 2.0 的 128 MB 的 NAND 闪存。</p><blockquote><p>注意: 切勿混刷 <strong>opboot-p2w-r619ac-flash-v1.0.9.bin</strong> 和 <strong>opboot-p2w-r619ac-nor-v1.0.9.img</strong>，xxxflashxxx.bin 那个仅通过命令刷入，xxxnorxxx.img 那个则通过 OpBoot 内置的更新功能刷入。自己选错刷入固件后果自负~</p></blockquote><p>下面是更新到 OpBoot 1.0.9 的步骤说明 (有 2 种方法) ：</p><h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法 1"></a>方法 1</h4><p>使用前面通过 scp 命令将 OpBoot 1.0.9 固件 ( <strong>opboot-p2w-r619ac-flash-v1.0.9.bin</strong> ) 上传至路由器的 <em>/tmp</em> 目录下，ssh 登录到路由器的 shell 然后执行下面的命令刷入即可(事前 <strong>请先校验</strong> 文件的md5值是否匹配):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~<span class="comment"># mtd -r write /tmp/opboot-p2w-r619ac-flash-v1.0.9.bin Bootloader</span></span><br></pre></td></tr></table></figure><h4 id="方法-2"><a href="#方法-2" class="headerlink" title="方法 2"></a>方法 2</h4><p>您也可以通过 OpBoot 内置的更新功能刷入 <strong>opboot-p2w-r619ac-nor-v1.0.9.img</strong> 。通过如下操作刷入：</p><p>首先让路由器进入 OpBoot (怎么进入就不多说了，自己翻一翻前面的描述)，然后点击 OpBoot 的右上角的 「 <strong>高级功能</strong> 」 -&gt; 「 <strong>更新OpBoot</strong> 」 ，找到 <strong>opboot-p2w-r619ac-nor-v1.0.9.img</strong> 更新即可。</p><h3 id="OpenWrt-128-MB-分区固件刷入说明"><a href="#OpenWrt-128-MB-分区固件刷入说明" class="headerlink" title="OpenWrt 128 MB 分区固件刷入说明"></a>OpenWrt 128 MB 分区固件刷入说明</h3><p>经过前面刷入 OpBoot 1.0.9 之后，您就可以刷入 128 MB 分区的 OpenWrt 了。更新 128 MB 的固件后，你就可以使用之前 64 MB 分区的固件所无法利用的空间了，也就是说你可以用更多的空间装路由器的插件啦。</p><p>因为需要重建 ubi 分区，所以更新过程需要通过 OpBoot 1.0.9 版本刷入 ubi 固件 ( 即 <strong>openwrt-ipq40xx-p2w_r619ac-128MB-squashfs-nand-factory.ubi</strong> )</p><p>所以你只需要让路由器进入 OpBoot ，然后直接选择 128 MB 分区的 ubi 固件更新就完成了。</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/27.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/R619AC-OpBoot-and-OpenWrt-flashing/28.png"></p>            </div><h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><p>最后，得在此感谢 <a href="https://github.com/Mleaf">mleaf</a> 大佬提供的 <em>OpBoot</em> 和 <a href="https://github.com/coolsnowwolf">lean</a> 大佬提供的 <em>OpenWrt</em> 固件，同时我还要感谢那些我参考的文章作者。如果没有他们的努力成果，也就没有这篇文章的诞生啦</p><p>参考链接: </p><ol><li><a href="https://mp.weixin.qq.com/s/Oru2HGJpQMu4k9vgsuZ-VA">竞斗云2.0（R619AC）OpBoot1.0.6刷机教程</a></li><li><a href="https://hyejeong.cn/gdockflash">【Router】G-DOCK 竞斗云2.0 小白刷机教程</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Router </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 刷机 </tag>
            
            <tag> 固件 </tag>
            
            <tag> 竞斗云 </tag>
            
            <tag> R619AC </tag>
            
            <tag> OpenWrt </tag>
            
            <tag> OpBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在 VMware Workstation 上 安装 Arch Linux （ UEFI + GPT ）</title>
      <link href="Installing-Arch-as-a-guest-with-UEFI-and-GPT.html"/>
      <url>Installing-Arch-as-a-guest-with-UEFI-and-GPT.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>以下使用 VMware Workstation 来安装 Arch Linux，全程以图解方式来讲解Arch Linux安装的过程。</p></blockquote><a id="more"></a><h2 id="下载-Arch-Linux-的镜像文件"><a href="#下载-Arch-Linux-的镜像文件" class="headerlink" title="下载 Arch Linux 的镜像文件"></a>下载 Arch Linux 的镜像文件</h2><p>下载链接：<a href="https://www.archlinux.org/download/">https://www.archlinux.org/download/</a></p><h2 id="下载-VMware-Workstation"><a href="#下载-VMware-Workstation" class="headerlink" title="下载 VMware Workstation"></a>下载 VMware Workstation</h2><p>下载链接：<a href="https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.5.0-14665864.exe">https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.5.0-14665864.exe</a></p><blockquote><p>注意：该软件为商业付费软件，请自行购买许可。（当然如果没有钱钱的话，去网上搜索 <del>VMware Workstation 15 Pro永久激活密钥</del> 即可。小声~</p></blockquote><blockquote><p>本文假定您已下载完 Arch Linux 的镜像文件以及安装和激活了 VMware Workstation。</p></blockquote><h2 id="VMware-Workstation-配置"><a href="#VMware-Workstation-配置" class="headerlink" title="VMware Workstation 配置"></a>VMware Workstation 配置</h2><ol><li>「 <strong>创建新的虚拟机</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/1.png"/></div></div><ol start="2"><li>「 <strong>典型安装</strong> 」 &gt; 「 <strong>下一步</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/2.png"/></div></div><ol start="3"><li>「 <strong>安装光盘映像文件</strong> 」 &gt; 「 <strong>浏览</strong> 」找到下载好的镜像文件 &gt; 「 <strong>下一步</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/3.png"/></div></div><ol start="4"><li>「 <strong>Linux</strong> 」 &gt; 选择「 <strong>版本</strong> 」，「 <strong>其他Linux 5.x或更高版本内核64位</strong> 」 &gt; 「 <strong>下一步</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/4.png"/></div></div><ol start="5"><li>修改「 <strong>虚拟机名称</strong> 」 &gt; 「 <strong>下一步</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/5.png"/></div></div><ol start="6"><li>「 <strong>最大磁盘大小</strong> 」设为 <strong>40 GB</strong> &gt; 「 <strong>将虚拟硬盘存储为单个文件</strong> 」，有助于提高运行性能 &gt; 「 <strong>下一步</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/6.png"/></div></div><ol start="7"><li>「 <strong>自定义硬件</strong> 」 &gt; 「 <strong>内存</strong> 」 &gt; 「 <strong>虚拟机内存大小</strong> 」设为 <strong>3072 MB</strong> 。 （我实体机内存大小 8 GB，所以虚拟机给个 3 GB还是可以的）</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/7.png"/></div></div><ol start="8"><li><p>「 <strong>显示</strong> 」 &gt; 「 <strong>加速3D图形</strong> 」</p></li><li><p>「 <strong>处理器数量（number of processors）</strong> 」 和 「 <strong>每个处理器的核心数量（number of cores per processor）</strong> 」的选择。</p></li></ol><ul><li>处理器数量：指 <strong>物理核心数</strong> 。</li><li>每个处理的核心数量：指每个物理核心数所拥有的 <strong>逻辑核心数</strong> 。</li><li>处理器核心总数 (total processor cores)：前面两者之积。</li></ul><p>与平常所说的处理器是x核x线程的关系如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/8.png"/></div></div><p>正如我电脑的处理器是 <strong>Intel(R) Core(TM) i5-8250U</strong> ，是4核8线程的。</p><p>那么现在问题来了，「 <strong>处理器数量</strong> 」 和 「 <strong>每个处理器的核心数量</strong> 」该怎么填写呢。</p><blockquote><ol><li>如果配置与物理机相同的总核数，其性能可达到90%左右；</li><li>总核数相同的情况下，处理器数量分配越少，每个处理器的核心数越多，虚拟机的单处理器性能会显著提高，但是总性能会有所下降；</li><li>反之，处理器数量分配越多，每个处理器的核心数越少，虚拟机的单处理器性能会有所下降，但是总性能会有所提升。</li></ol></blockquote><blockquote><p>想要看相关细节，请看引用的内容来源：<a href="https://www.jianshu.com/p/da8443f482e9">https://www.jianshu.com/p/da8443f482e9</a></p></blockquote><p>综上所述，只要「 <strong>处理器核心总数</strong> 」与物理机具有相同的总核数就可以达到可观的性能，所以我这里「 <strong>处理器数量</strong> 」 和 「 <strong>每个处理器的核心数量</strong> 」的值分别设置为 <strong>4</strong> 和 <strong>2</strong> 。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/9.png"/></div></div><ol start="10"><li>「 <strong>虚拟机</strong> 」 &gt; 「 <strong>设置</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/10.png"/></div></div><ol start="11"><li>「 <strong>选项</strong> 」 &gt; 「 <strong>高级</strong> 」&gt; 「 <strong>UEFI</strong> 」 &gt; 「 <strong>OK</strong> 」</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/11.png"/></div></div><ol start="12"><li>至此，VMware Workstation 的配置告一段落。</li></ol><h3 id="开启虚拟机"><a href="#开启虚拟机" class="headerlink" title="开启虚拟机"></a>开启虚拟机</h3><ol><li>开机，UEFI 成功启动以后像这样</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/12.png"/></div></div><p>直接选择第一项「 <strong>Arch Linux archiso x86_64 UEFI CD</strong> 」，回车即可</p><ol start="2"><li>然后等待一会以后，出现</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/13.png"/></div></div><p>这就是说已经正常启动到 Arch Linux 的 Live CD 环境啦。</p><h2 id="安装-Arch-Linux-的全过程"><a href="#安装-Arch-Linux-的全过程" class="headerlink" title="安装 Arch Linux 的全过程"></a>安装 Arch Linux 的全过程</h2><h3 id="联网"><a href="#联网" class="headerlink" title="联网"></a>联网</h3><ol><li>确保系统已经启用了网络接口，用 <strong>ip link</strong> 检查</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># ip link</span></span><br></pre></td></tr></table></figure><ol start="2"><li>使用 <strong>dhcpcd</strong> 联网</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># dhcpcd</span></span><br></pre></td></tr></table></figure><ol start="3"><li>确保联网，能 ping 通 <strong>baidu.com</strong> 即可（百度最佳的作用就是测试网络是否可用了，其他的没啥了，ε=ε=ε=┏(゜ロ゜;)┛ 逃）。VMware Workstation 默认使用 NAT，只要宿主机能联网，通常虚拟机内也可以直接联网的。用 ping 检查网络连接</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># ping -c 4 baidu.com</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>-c</strong> 选项：用于指定 ping 的次数</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/14.png"/></div></div><h3 id="时间同步"><a href="#时间同步" class="headerlink" title="时间同步"></a>时间同步</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># timedatectl set-ntp true</span></span><br></pre></td></tr></table></figure><p>正确的（误差之内的）时间在验证连接或证书的可信程度时非常重要，例如 HTTPS 和 GnuPG 都需要准确的时间来验证证书的有效性。</p><h3 id="准备磁盘分区"><a href="#准备磁盘分区" class="headerlink" title="准备磁盘分区"></a>准备磁盘分区</h3><h4 id="分区示例"><a href="#分区示例" class="headerlink" title="分区示例"></a>分区示例</h4><p>本文只针对 UEFI with GPT 启动方式，并基于最简单的硬盘结构，采用最简单的分区策略。（其中 SWAP 分区可选，我这里 SWAP 的大小就直接是虚拟机内存大小乘以2）</p><p><strong>UEFI with GPT</strong></p><overflow><table><thead><tr><th align="center">挂载点</th><th align="center">分区</th><th align="center">分区类型</th><th align="center">大小</th></tr></thead><tbody><tr><td align="center"><code>/mnt/boot</code></td><td align="center"><code>/dev/sda1</code></td><td align="center">EFI system partition</td><td align="center">512 MiB</td></tr><tr><td align="center">[<code>SWAP</code>]</td><td align="center"><code>/dev/sda2</code></td><td align="center">Linux swap (交换空间)</td><td align="center">6 GiB</td></tr><tr><td align="center"><code>/mnt</code></td><td align="center"><code>/dev/sda3</code></td><td align="center">Linux x86-64 根目录 (<code>/</code>)</td><td align="center">剩余空间</td></tr></tbody></table></overflow><h4 id="fdisk-和-分区操作"><a href="#fdisk-和-分区操作" class="headerlink" title="fdisk 和 分区操作"></a>fdisk 和 分区操作</h4><ol><li>显示所有分区</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># fdisk -l</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/15.png"/></div></div><p>其中 <strong>/dev/sda</strong> 是虚拟机上的硬盘</p><ol start="2"><li>开始分区</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># fdisk /dev/sda</span></span><br></pre></td></tr></table></figure><p>进入分区程序。输入 <strong>m</strong> 可以查看 fdisk 的帮助。在决定写入之前，所有的更改都不会被保存。</p><ul><li>按照上面描述的分区示例，我们输入 <strong>g</strong> 新建一个 空的 GPT 分区表；</li><li>输入 <strong>n</strong> 建立第一个分区，首先会问你选择分区号（默认是可用的最小分区号）， <strong>回车</strong> 即可；</li><li>不用填写 first sector（默认值为可用的最小扇区号），直接 <strong>回车</strong> ，在提示输入 last sector 的时候输入 <strong>+512M</strong> 来依据分区大小自动计算终止扇区。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/16.png"/></div></div><p>完成上图的操作后即得到一个512 MB 大小的分区。</p><p>重复上面的步骤，再建立一个 6 GB 大小（或你自己决定 SWAP 分区的大小，当然你也可以不创建 SWAP 分区）的分区；最后重复上面的步骤，但最后一次不填写 last sector 从而自动将所有的剩余空间划分给第三个分区。如下图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/17.png"/></div></div><ol start="3"><li>修改分区类型</li></ol><p>按 <strong>t</strong> ，会询问需要修改的分区号，然后则是询问你要修改的类型（按 L 会列出各个分区类型的编号），编号 <strong>1</strong> 是 <strong>EFI System Partition</strong> ，编号 <strong>19</strong> 是 <strong>swap</strong> ，分区3的类型不做修改（默认的分区类型是 Linux Filesystem）。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/18.png"/></div></div><blockquote><p><strong>注意</strong> ：最后要让建立的分区生效，需要输入 <strong>w</strong> 把分区表写入磁盘</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/19.png"/></div></div><ol start="4"><li>显示 <strong>/dev/sda</strong> 上的分区（确认是否生效 ）</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># fdisk -l /dev/sda</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/20.png"/></div></div><h4 id="格式化分区-和-设置-swap-分区"><a href="#格式化分区-和-设置-swap-分区" class="headerlink" title="格式化分区 和 设置 swap 分区"></a>格式化分区 和 设置 swap 分区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># mkfs.fat -F32 /dev/sda1</span></span><br><span class="line">root@archiso ~ <span class="comment"># mkswap /dev/sda2</span></span><br><span class="line">root@archiso ~ <span class="comment"># mkfs.ext4 /dev/sda3</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/21.png"/></div></div><blockquote><p>Linux 对磁盘分区的命名也很直观。设备 <strong>/dev/sda</strong> 上的第一个分区就是 <strong>/dev/sda1</strong> ，第二个分区就是 <strong>/dev/sda2</strong> ，以此类推。</p></blockquote><p>在上面的指令第一句中，我们为 <strong>/dev/sda1</strong> 分区，也就是 sda 磁盘的第一块分区，建立了 fat 文件系统；**-F32** 表明我们建立的是 fat32 而非 fat16 或其它不是我们想要的 fat。</p><blockquote><p>UEFI规范要求对FAT12，FAT16和FAT32文件系统的支持，但是任何符合条件的供应商都可以选择添加对其他文件系统的支持。 例如，Apple macOS 中的固件支持 HFS+  文件系统。</p></blockquote><p>而在第二句中，我们为 /dev/sda2 创建了专用于 swap 的存储系统；这是一个特殊的分区类型，它很难被当作 filesystem，所以建立它的指令是 mkswap 而非 mkfs.* 。</p><h4 id="启用交换分区-和-文件系统的挂载"><a href="#启用交换分区-和-文件系统的挂载" class="headerlink" title="启用交换分区 和 文件系统的挂载"></a>启用交换分区 和 文件系统的挂载</h4><ol><li>启用交换分区</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># swapon /dev/sda2</span></span><br></pre></td></tr></table></figure><p>可以使用 <strong>swapon –show</strong> 来检查交换分区有没有被正确启用。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/22.png"/></div></div><ol start="2"><li>然后挂载整个新系统的根，这里我们将它挂载到 Arch ISO 环境的 <strong>/mnt</strong> 下。不要担心，Linux 有一个实用工具 chroot，可以将目录结构的任意点作为新的根。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># mount /dev/sda3 /mnt</span></span><br></pre></td></tr></table></figure><ol start="3"><li>按照我们对新系统目录结构的理解，**/dev/sda1** 应该被挂载于新系统的 <strong>/boot</strong> ，也就是 Arch ISO 环境的 <strong>/mnt/boot</strong> 。但是这个目录目前仍不存在，所以我们手动创建这个挂载点，然后再进行挂载。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># mkdir /mnt/boot</span></span><br><span class="line">root@archiso ~ <span class="comment"># mount /dev/sda1 /mnt/boot</span></span><br></pre></td></tr></table></figure><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="选择镜像源"><a href="#选择镜像源" class="headerlink" title="选择镜像源"></a>选择镜像源</h4><p>文件 <strong>/etc/pacman.d/mirrorlist</strong> 定义了软件包会从哪个 <strong>镜像源</strong> 下载。在 LiveCD 启动的系统上，所有的镜像源都被启用。</p><p>在 <strong>列表中越前</strong> 的镜像源在下载软件包时有 <strong>越高的优先权</strong> 。</p><p>这个文件接下来还会被 <em>pacstrap</em> 复制到新系统里，所以请确保正确设置。</p><blockquote><p><strong>注意</strong> ：以下需要用到 <em>vim</em> 这个编辑器，建议先去自行学习一下 <em>vim</em> 的基本使用，不然我怕新手碰到这个编辑器会一脸懵逼，后面还会涉及到 <em>vim</em> 的相关操作哦。</p></blockquote><ol><li>vim 编辑 <strong>/etc/pacman.d/mirrorlist</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># vim /etc/pacman.d/mirrorlist</span></span><br></pre></td></tr></table></figure><p>执行完上行命令后，键入 <strong>:set nu</strong> ，然后 <strong>回车</strong> 即显示行号，如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/23.png"/></div></div><p>然后继续键入 <strong>/China</strong> ，然后 <strong>回车</strong> 搜索中国的源，光标会跳到相应字符串的行。如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/24.png"/></div></div><p>键入 <strong>V</strong> （注意是 <strong>大写</strong> 的 <strong>V</strong> ,后面的相应字母都要认清楚大小写） 并移动光标进行选择，选中上图用红框括起来的2行，然后按 <strong>d</strong> 进行剪切，再按 <strong>6G</strong> 移动到文件的第 6 行，按 <strong>p</strong> 进行粘贴。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/25.png"/></div></div><p>继续键入 <strong>:wq</strong> ，然后 <strong>回车</strong> ，即保存并退出。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/26.png"/></div></div><h4 id="安装必须的软件包"><a href="#安装必须的软件包" class="headerlink" title="安装必须的软件包"></a>安装必须的软件包</h4><blockquote><p>使用 <em>pacstrap</em> 脚本，安装 <em>base</em> 软件包和 Linux 内核以及常规硬件的固件：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># pacstrap /mnt base linux linux-firmware</span></span><br></pre></td></tr></table></figure><blockquote><p>装完前面的东西，只是装完能做到开机的必须组件而已，但还有一些必备的东西要装，比如说网络管理器 <em>NetworkManager</em> ， <em>NetworkManager</em> 是检测网络、自动连接网络的程序。无论是无线还是有线连接，它都可以令您轻松管理。这一步也是必备的一步：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># pacstrap /mnt networkmanager</span></span><br></pre></td></tr></table></figure><h3 id="配置系统"><a href="#配置系统" class="headerlink" title="配置系统"></a>配置系统</h3><h4 id="生成-fstab-文件"><a href="#生成-fstab-文件" class="headerlink" title="生成 fstab 文件"></a>生成 fstab 文件</h4><p><strong>fstab</strong> 文件可用于定义磁盘分区，包括各种块设备或者远程文件系统应该如何装入到文件系统。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span></span><br></pre></td></tr></table></figure><p><strong>-U</strong> 选项指的是 使用UUID作为源标识符</p><h4 id="arch-chroot"><a href="#arch-chroot" class="headerlink" title="arch-chroot"></a>arch-chroot</h4><blockquote><p><strong>arch-chroot</strong> bash 脚本是软件包 <a href="https://www.archlinux.org/packages/?name=arch-install-scripts">arch-install-scripts</a> 的一部分，在运行 <strong>/usr/bin/chroot</strong> 前，这个脚本会挂载 <strong>/proc</strong> api 文件系统，建立可用的 <strong>/etc/resolv.conf</strong> 。</p></blockquote><p>前文中提到过，<em>chroot</em> 工具能指定目录结构任意的位置为新的根；由于我们需要进行的配置应该在新系统上完成，所以我们应该 <em>chroot</em> 到新系统的根，也就是 /mnt。不过这里我们不是直接就使用 <em>chroot</em> ，而是通过镜像里提供的 <strong>arch-chroot</strong> 来完成额外的配置。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># arch-chroot /mnt</span></span><br></pre></td></tr></table></figure><h4 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h4><blockquote><p>中国的时区是 <em>Asia/Shanghai</em></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br></pre></td></tr></table></figure><blockquote><p>您可以使用以下命令将硬件时钟设置为当前系统时间：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># hwclock --systohc</span></span><br></pre></td></tr></table></figure><h4 id="在新安装的系统上安装-vim-编辑器"><a href="#在新安装的系统上安装-vim-编辑器" class="headerlink" title="在新安装的系统上安装 vim 编辑器"></a>在新安装的系统上安装 vim 编辑器</h4><blockquote><p><strong>Vim</strong> 是从 <strong>vi</strong> 发展出来的一个文本编辑器。其代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。和 <strong>Emacs</strong> 并列成为类Unix系统用户最喜欢的编辑器。</p></blockquote><p>这里我们安装 <strong>vim</strong> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># pacman -S vim</span></span><br></pre></td></tr></table></figure><p><strong>Y</strong> 确认安装即可。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/27.png"/></div></div><h4 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h4><blockquote><p><strong>/etc/locale.gen</strong> 是一个仅包含注释文档的文本文件。指定您需要的本地化类型，去掉对应行前面的注释符号（＃）就可以啦，还是用 vim 来编辑，建议选择 <strong>en_US.UTF-8 UTF-8</strong> 的项：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /etc/locale.gen</span></span><br></pre></td></tr></table></figure><p>找到 <strong>#en_US.UTF-8 UTF-8</strong> 这一行，光标移动到开头的 “#” ，然后键入 <strong>x</strong> ，再键入 <strong>:wq</strong> 保存并退出即可。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/28.png"/></div></div><p>接着执行 <strong>locale-gen</strong> 以生成 locale 讯息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># locale-gen</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/29.png"/></div></div><p>创建 <strong>locale.conf</strong> 文件，并相应地设置 <em>LANG</em> 变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span></span><br></pre></td></tr></table></figure><h4 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h4><ol><li>创建 <strong>hostname</strong> 文件:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># echo YourNewHostname &gt; /etc/hostname</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong>：<em>YourNewHostname</em> 是你要设置的主机名，名字任取。后面如果还出现，也指的是你取的主机名。</p></blockquote><ol start="2"><li>添加对应的信息到 <strong>hosts</strong> ：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /etc/hosts</span></span><br></pre></td></tr></table></figure><p>键入 <strong>i</strong> 进入插入模式，编辑后得到的内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Static table lookup for hostnames.</span></span><br><span class="line"><span class="comment"># See hosts(5) for details.</span></span><br><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   YourNewHostname.localdomain    YourNewHostname</span><br></pre></td></tr></table></figure><p>填写完成后就键入 <strong>Esc</strong> 键，退回命令模式，再键入 <strong>:wq</strong> 保存并退出。</p><ol start="3"><li><em>NetworkManager</em> 服务</li></ol><ul><li>将 <em>NetworkManager</em> 服务设为开机自启：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># systemctl enable NetworkManager</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/30.png"/></div></div><h4 id="设置-root-用户密码"><a href="#设置-root-用户密码" class="headerlink" title="设置 root 用户密码"></a>设置 root 用户密码</h4><p>执行 passwd 命令修改当前用户（即 root 用户）的密码。</p><blockquote><p><strong>注意</strong> ：密码输入时不可见，反正输入完后只管回车就行，第二次输入密码是系统要你确认密码。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># passwd</span></span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure><h4 id="安装引导程序"><a href="#安装引导程序" class="headerlink" title="安装引导程序"></a>安装引导程序</h4><blockquote><p>启动加载器是 BIOS 或 UEFI 启动的第一个程序。它负责使用正确的内核参数加载内核, 并根据配置文件加载初始化 RAM disk。</p></blockquote><blockquote><p><strong>注意</strong> ：这一步相当重要，如果没有配置正确的话，你重启后将无法正常启动到系统。</p></blockquote><blockquote><p>systemd-boot (以前被称为gummiboot) 是可以执行 EFI 镜像文件的简单 UEFI 启动管理器。启动的内容可以通过一个配置(glob)或者屏幕菜单选择。Arch 默认安装的 systemd 提供了这个功能。配置很简单，但是只能启动 EFI 可执行程。</p></blockquote><ol><li>安装 EFI 启动管理器</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># bootctl --path=/boot install</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>–path=</strong> 后面接的就是我们一开始创建的 esp (EFI system partition) 的挂载路径</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/31.png"/></div></div><ol start="2"><li>基本配置</li></ol><p>基本设置保存在 <strong>/boot/loader/loader.conf</strong> ,有三个选项：</p><ul><li>default – 默认加载的配置文件 (不含 .conf 后缀)。</li><li>timeout – 启动选单的超时时间,如果不设置的话,启动选单只有在按键时才显示。</li><li>editor - 是否允许用户编辑内核参数. yes 是允许, no 是阻止。</li></ul><p>用 vim 编辑 <strong>/boot/loader/loader.conf</strong> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /boot/loader/loader.conf</span></span><br></pre></td></tr></table></figure><p>下面是我编辑好的 <strong>/boot/loader/loader.conf</strong> ，内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default  arch</span><br><span class="line">timeout  4</span><br><span class="line">console-mode max</span><br><span class="line">editor   no</span><br></pre></td></tr></table></figure><ol start="3"><li>添加启动选项</li></ol><p>前面我们不是已经在 <strong>/boot/loader/loader.conf</strong> 中的选项指定了一个 default 选项嘛，所以我们现在就来配置一下这个默认启动选项。</p><p>我们要编辑的配置文件是 <strong>/boot/loader/entries/arch.conf</strong> 同样也是用 vim 来编辑：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /boot/loader/entries/arch.conf</span></span><br></pre></td></tr></table></figure><p>下面是我暂时编辑好的 <strong>/boot/loader/entries/arch.conf</strong> ，内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title   Arch Linux</span><br><span class="line">linux   &#x2F;vmlinuz-linux</span><br><span class="line">initrd  &#x2F;initramfs-linux.img</span><br><span class="line">options root&#x3D;PARTUUID&#x3D;</span><br></pre></td></tr></table></figure><p>保存并退出编辑后，我们执行一下这么一行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># blkid -s PARTUUID -o value /dev/sda3 &gt;&gt; /boot/loader/entries/arch.conf</span></span><br></pre></td></tr></table></figure><p>上面的命令将会把根分区的UUID的值追加到 <strong>/boot/loader/entries/arch.conf</strong> 的最后一行。则文件 <strong>/boot/loader/entries/arch.conf</strong> 的内容现在为（<strong>注意</strong> ：PARTUUID的值都是因人而异的）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">title   Arch Linux</span><br><span class="line">linux   &#x2F;vmlinuz-linux</span><br><span class="line">initrd  &#x2F;initramfs-linux.img</span><br><span class="line">options root&#x3D;PARTUUID&#x3D;</span><br><span class="line">14420948-2cea-4de7-b042-40f67c618660</span><br></pre></td></tr></table></figure><p>最后一次用 vim 编辑 <strong>/boot/loader/entries/arch.conf</strong> ，完成编辑后的文件内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title   Arch Linux</span><br><span class="line">linux   &#x2F;vmlinuz-linux</span><br><span class="line">initrd  &#x2F;initramfs-linux.img</span><br><span class="line">options root&#x3D;PARTUUID&#x3D;14420948-2cea-4de7-b042-40f67c618660  rw</span><br></pre></td></tr></table></figure><h4 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h4><p>根据前面所有的步骤走完一遍，也算是配置好了，让我们重启吧：</p><p>首先 <strong>exit</strong> 退回到 Arch ISO 环境：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># exit</span></span><br></pre></td></tr></table></figure><p>然后执行命令重启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@archiso ~ <span class="comment"># systemctl reboot</span></span><br></pre></td></tr></table></figure><p>开机后会有个标题为 “Arch Linux” 的启动选项，即是我们之前添加的选项。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/32.png"/></div></div><p>成功进入系统后，就会让你登陆了，当然一开始只有root用户，密码也是你之前设置的那个，输入密码的时候依然不会显示出来。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/33.png"/></div></div><h3 id="可选配置"><a href="#可选配置" class="headerlink" title="可选配置"></a>可选配置</h3><h4 id="更新系统和软件包"><a href="#更新系统和软件包" class="headerlink" title="更新系统和软件包"></a>更新系统和软件包</h4><p>一个 <em>pacman</em> 命令就可以升级整个系统。花费的时间取决于系统有多老。这个命令会同步非本地(local)软件仓库并升级系统的软件包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~] <span class="comment"># pacman -Syu</span></span><br></pre></td></tr></table></figure><h4 id="用户与权限配置"><a href="#用户与权限配置" class="headerlink" title="用户与权限配置"></a>用户与权限配置</h4><blockquote><p>正经的 Linux 用户不会用 root 干所有的事情，如果这么做的话将会很危险。创建一个普通的用户，并让它可以通过 <em>sudo</em> 指令用 root 权限执行命令是一般的解决方案。</p></blockquote><ol><li>在用 <em>sudo</em> 之前，我们需要先安装 <strong>sudo</strong> 这个软件包：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~] <span class="comment"># pacman -S sudo</span></span><br></pre></td></tr></table></figure><ol start="2"><li>配置 <strong>sudoers</strong></li></ol><p>执行 visudo 来修改 <strong>/etc/sudoers</strong> 文件。使用它的好处是，它会在保存时作语法检查，以避免错误的更改使 sudo 彻底不可用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~] <span class="comment"># EDITOR=vim visudo</span></span><br></pre></td></tr></table></figure><blockquote><p>此处通过环境变量 <em>EDITOR</em> 来声明使用 vim 来编辑文件，默认的情况下 visudo 是用 vi 来编辑的。（vi 和 vim 的用法略有不同）</p></blockquote><p>找到这一行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># %wheel ALL&#x3D;(ALL) ALL</span><br></pre></td></tr></table></figure><p>去掉找到的那一行开头的注释，即 <strong>#</strong> 和 <strong>空格</strong> ，不要误删掉 <strong>%</strong> 哦。弄完之后保存即可，得：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%wheel ALL&#x3D;(ALL) ALL</span><br></pre></td></tr></table></figure><blockquote><p>去掉注释的作用：取消注释以允许 <em>wheel</em> 组成员执行任何命令。</p></blockquote><ol start="3"><li>添加一个 wheel 组普通用户</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~] <span class="comment"># useradd -m -G wheel 你想要取的用户名</span></span><br></pre></td></tr></table></figure><blockquote><p>用户名必须是合法的。最简单的就是 <strong>不带空格的字母</strong> 和 <strong>数字</strong> 的组合。 <strong>-m</strong> 参数表示同时创建该用户的家目录，这会被默认置为 /home/用户名。 <strong>-G wheel</strong> 表示同时将该用户加入 wheel 用户组。</p></blockquote><ol start="4"><li>设置普通用户的密码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~] <span class="comment"># passwd 用户名</span></span><br></pre></td></tr></table></figure><p>完成上述操作之后，注销当前用户之后就可以登录我们新建的普通用户了。</p><p><strong>Ctrl</strong> + <strong>d</strong> 退出账户</p><ol start="5"><li>重新登陆你新建的普通账户。</li></ol><p>登录完你会发现，之前的用户名不是 <strong>root</strong> 而是我创建的一个叫做 <strong>admin</strong> 的用户， <strong>#</strong> 也变成了 <strong>$</strong> ，这就意味着这是普通用户。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/34.png"/></div></div><h4 id="VMware-相关软件包和服务"><a href="#VMware-相关软件包和服务" class="headerlink" title="VMware 相关软件包和服务"></a>VMware 相关软件包和服务</h4><blockquote><p>安装 VMware Tools 是创建新的虚拟机过程的一部分，而升级 VMware Tools 是使虚拟机符合最新标准过程的一部分。尽管客户机操作系统在未安装 VMware Tools 的情况下仍可运行，但许多 VMware 功能只有在安装 VMware Tools 后才可用，如虚拟机显示器填满屏幕，宿主机和虚拟机之间拖拽或复制粘贴文件等。</p></blockquote><blockquote><ul><li><strong>open-vm-tools</strong> : VMware Tools 的开源实现</li></ul></blockquote><ol><li>安装 <strong>open-vm-tools</strong></li></ol><ul><li><strong>注意</strong> ：如遇安装失败，请再试一次。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S open-vm-tools</span><br></pre></td></tr></table></figure><blockquote><ul><li><strong>vmtoolsd</strong> : 负责汇报虚拟机状态的服务</li><li><strong>vmware-vmblock-fuse</strong> : 文件系统实用程序。 通过FUSE（用户空间中的文件系统）实现宿主 / 虚拟机之间拖拽文件。</li></ul></blockquote><ol><li>将 <strong>vmtoolsd</strong> 和 <strong>vmware-vmblock-fuse</strong> 两个服务设为开机自启</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ systemctl <span class="built_in">enable</span> vmtoolsd vmware-vmblock-fuse</span><br></pre></td></tr></table></figure><blockquote><ul><li><strong>gtkmm3</strong> : 如要启用客户机的拖拽与复制粘贴功能，则需要安装 gtkmm3</li></ul></blockquote><ol start="3"><li>安装 <strong>gtkmm3</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S gtkmm3</span><br></pre></td></tr></table></figure><blockquote><ul><li><strong>xf86-input-vmmouse</strong> : VMWare鼠标输入驱动程序</li><li><strong>xf86-video-vmware</strong> : vmware显示驱动程序，如果想要让虚拟机显示器填满屏幕，就必须要安装这个软件包</li><li><strong>mesa</strong> : OpenGL规范的开源实现</li></ul></blockquote><ol start="4"><li>安装相关驱动</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S xf86-input-vmmouse xf86-video-vmware mesa</span><br></pre></td></tr></table></figure><h4 id="安装桌面环境"><a href="#安装桌面环境" class="headerlink" title="安装桌面环境"></a>安装桌面环境</h4><h5 id="显示服务"><a href="#显示服务" class="headerlink" title="显示服务"></a>显示服务</h5><blockquote><p><strong>X 窗口管理系统</strong> ( X11 或者 X ) 是基于网络的显示协议，提供了窗口功能，包含建立图形用户界面(GUI)的标准工具和协议。 <em>Xorg</em> 是 X 窗口的开源实现，提供图形用户界面。</p></blockquote><blockquote><p><strong>Wayland</strong> 是一种更新的可用显示服务协议， <em>Weston</em> 是其参考实现。</p></blockquote><p>这里我安装 <strong>xorg</strong> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S xorg</span><br></pre></td></tr></table></figure><h5 id="桌面环境"><a href="#桌面环境" class="headerlink" title="桌面环境"></a>桌面环境</h5><blockquote><p>尽管 <em>Xorg</em> 提供了用于构建图形环境的基本框架，但是为了获得完整的用户体验，可能还需要其他组件。 GNOME，KDE，LXDE 和 Xfce 等桌面环境将各种 X 客户端捆绑在一起，例如窗口管理器，面板，文件管理器，终端仿真器，文本编辑器，图标和其他实用程序。</p></blockquote><ul><li><strong>plasma-meta</strong> : 用以安装 KDE Plasma 的元软件包</li></ul><p>我个人偏好 kde，所以执行下面的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S plasma-meta</span><br></pre></td></tr></table></figure><h5 id="显示管理器"><a href="#显示管理器" class="headerlink" title="显示管理器"></a>显示管理器</h5><blockquote><p>大多数桌面环境都包括一个显示管理器，用于自动启动图形环境和管理用户登录。</p></blockquote><blockquote><ul><li><strong>sddm</strong> : 基于QML的X11和Wayland显示管理器</li></ul></blockquote><ol><li>安装 <strong>sddm</strong> ：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S sddm</span><br></pre></td></tr></table></figure><ol start="2"><li>将 <strong>sddm</strong> 服务设为开机自启：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ systemctl <span class="built_in">enable</span> sddm</span><br></pre></td></tr></table></figure><ol start="3"><li>重启虚拟机</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ systemctl reboot</span><br></pre></td></tr></table></figure><h4 id="登录图形界面"><a href="#登录图形界面" class="headerlink" title="登录图形界面"></a>登录图形界面</h4><p>就这样，我们开机了，此时虚拟机的显示区域已经能填满我们宿主机的屏幕了：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/35.png"/></div></div><p>输入密码登录即可。</p><h4 id="修改系统显示缩放"><a href="#修改系统显示缩放" class="headerlink" title="修改系统显示缩放"></a>修改系统显示缩放</h4><blockquote><p>在较小尺寸下却拥有较高分辨率的显示器，进入桌面环境后，如果你发现系统的字体和图标等等显得非常小，那么你就必须要设置显示缩放了。</p></blockquote><blockquote><p>如何判断大概怎样的缩放比例才合适呢？最简单的方法就是回到你的 Windows 宿主机，在宿主机桌面空白处「鼠标右键」 &gt; 「显示设置」 &gt; 「缩放和布局」，数值为 <strong>150%</strong> ，即缩放比例为 <strong>1.5x</strong> 。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/36.png"/></div></div><p>这时，我们再回到虚拟机这边：</p><blockquote><p>「 <strong>开始菜单</strong> 」 &gt; 「 <strong>System Settings</strong> 」 &gt; 「 <strong>Display Configuration</strong> 」 &gt; 「 <strong>Global scale</strong> 」，下面有一个可拖动的条，拖至 <strong>1.5x</strong> 的位置（这里拖拽的位置取决于你 Windows 的「 <strong>缩放和布局</strong> 」的取值），然后我们点击 「 <strong>Apply</strong> 」 应用。</p></blockquote><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/37.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/38.png"></p>            </div><p>最后我们在 「 <strong>开始菜单</strong> 」 &gt; 「 <strong>Leave</strong> 」 &gt; 「 <strong>Restart</strong> 」 重启一下虚拟机以让显示缩放生效，到这里我们就算是解决完系统显示缩放的问题了。</p><h4 id="安装终端模拟器"><a href="#安装终端模拟器" class="headerlink" title="安装终端模拟器"></a>安装终端模拟器</h4><p>等等，前面我们装完 kDE 是不是忘了安装什么东西，我们在桌面环境里怎么输入命令呢？这就需要我们安装 <strong>终端模拟器（Terminal Emulator）</strong> 了</p><blockquote><p>终端模拟器有很多，这里就举几个经典的例子：</p><ul><li>GNU/Linux：gnome-terminal、Konsole；</li><li>macOS：Terminal.app、iTerm2；</li><li>Windows：Win32 控制台、ConEmu 等等</li></ul></blockquote><blockquote><p>在正式安装之前，建议先去看看这么一篇文章：<a href="https://printempw.github.io/the-difference-between-cli-terminal-shell-tty/">命令行界面 (CLI)、终端 (Terminal)、Shell、TTY，傻傻分不清楚？</a></p></blockquote><p>然后这里我要安装的终端模拟器是 <strong>deepin-terminal</strong> （属于Deepin的默认终端仿真应用程序，源码仓库地址：<a href="https://github.com/linuxdeepin/deepin-terminal">https://github.com/linuxdeepin/deepin-terminal</a> ，我选择这个的原因是因为它开源，而且无需任何配置就已经很美观了，还有一点就是不会有 <strong>konsole</strong> 在系统显示缩放比例为 <strong>小数倍</strong> 时随机出现横线或竖线的 bug。）在安装终端模拟器之前，我们需要按下 <strong>Ctrl</strong> + <strong>Alt</strong> + <strong>F2</strong> 切换至 <strong>tty2</strong> ，登录，然后输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S deepin-terminal</span><br></pre></td></tr></table></figure><p>安装完之后，我们按下 <strong>Ctrl</strong> + <strong>Alt</strong> + <strong>F1</strong> 切换回桌面环境。这时我们就可以在「 <strong>开始菜单</strong> 」找到 <strong>deepin-terminal</strong> 了。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/39.png"/></div></div><p>由于 deepin-terminal 默认的主题配色（绿色）我不喜欢，所有我换了另一个。如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/40.png"/></div></div><h4 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h4><blockquote><p>在没安装中文字体之前，系统是无法正常显示中文的，大概就是会显示 <strong>口口口口</strong> 。所以这里推荐安装下 Google Noto Fonts 系列：<strong>noto-fonts-sc</strong> 和 <strong>noto-fonts-emoji</strong></p></blockquote><p>打开终端模拟器，执行下面的命令安装 <strong>noto-fonts-sc</strong> 和 <strong>noto-fonts-emoji</strong> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S base-devel git</span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/noto-fonts-sc.git</span><br><span class="line"><span class="built_in">cd</span> noto-fonts-sc</span><br><span class="line">makepkg -si</span><br><span class="line">sudo pacman -S noto-fonts-emoji</span><br></pre></td></tr></table></figure><h4 id="安装中文输入法"><a href="#安装中文输入法" class="headerlink" title="安装中文输入法"></a>安装中文输入法</h4><blockquote><p>前面系统已经能正常显示中文了，但是我们却仍无法输入中文。因为还没有安装中文输入法。</p></blockquote><blockquote><p>输入法（IM）是一种输入特定字符和符号集的方法，通常是因为键盘不直接输入它们。大多数输入法是输入法框架的一部分，它使用户可以轻松地在多种输入法之间切换。<br>Linux 下有两种主流的输入法框架，<em>ibus</em> 和 <em>fcitx</em> ，对于 KDE 来说， <em>fcitx</em> 是比较好的选择。</p></blockquote><ol><li>使用下面的指令安装 <strong>fcitx</strong> ：</li></ol><ul><li><strong>fcitx-im</strong> ：软件包组，包含 <strong>fcitx</strong> 本身，和让 fcitx 能正常运行在各版本 qt 和 gtk 程序里的组件（ <strong>fcitx-gtk2</strong> 、 <strong>fcitx-gtk3</strong> 、 <strong>fcitx-qt5</strong> ）</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S fcitx-im</span><br></pre></td></tr></table></figure><ol start="2"><li>fcitx 提供有一个集成到 KDE 系统设置内的 fcitx 设置程序 ( <strong>kcm-fcitx</strong> )，输入下面的指令安装 fcitx 的 GUI 配置工具：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S kcm-fcitx</span><br></pre></td></tr></table></figure><ol start="3"><li>安装完 fcitx 输入法框架后，我们来具体安装一个叫做 <strong>rime</strong> 的输入法，输入下面的指令安装即可：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S fcitx-rime</span><br></pre></td></tr></table></figure><blockquote><p>此时我们仍不能正确输入中文。因为我们还未配置环境变量来让程序们使用 fcitx。创建或修改 <strong>~/.pam_environment</strong> 文件，用它来指定环境变量。</p></blockquote><ol start="4"><li>用 vim 编辑 <strong>~/.pam_environment</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ vim ~/.pam_environment</span><br></pre></td></tr></table></figure><p>在里面加上如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GTK_IM_MODULE&#x3D;fcitx</span><br><span class="line">QT_IM_MODULE&#x3D;fcitx</span><br><span class="line">XMODIFIERS&#x3D;@im&#x3D;fcitx</span><br></pre></td></tr></table></figure><p>它们会指定 fcitx 为几乎所有程序的 IM。当然某些不听话的程序除外，比如 Sublime，但这类程序几乎遇不到。</p><ol start="5"><li>重启系统</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ systemctl reboot</span><br></pre></td></tr></table></figure><ol start="6"><li>添加 rime 输入法</li></ol><p>「 <strong>开始菜单</strong> 」 &gt; 「 <strong>System Settings</strong> 」 &gt; 「 <strong>Personalization</strong> 」 一栏下面的 「 <strong>Regional Settings</strong> 」 &gt; 「 <strong>Input Method</strong> 」，取消勾选 「Only Show Current Language」 &gt; 「 <strong>Rime</strong> 」 &gt; 「 <strong>&gt;</strong> 」 &gt; 「 <strong>Apply</strong> 」 应用生效。如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/41.png"/></div></div><ol start="7"><li>移除默认的 <strong>Keyboard - English (US)</strong></li></ol><p>「Keyboard - English (US)」 &gt; 「**&lt;**」 &gt; 「Apply」 应用生效。如图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/42.png"/></div></div><ol start="8"><li>等待 Rime 维护至就绪即可使用 rime 输入法了。</li></ol><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/43.png"><br><img src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/44.png"></p>            </div><ol start="9"><li>修改繁体输入为简体输入。你可以这么做：</li></ol><p>在可输入区域（如 terminal等），按下 <strong>F4</strong> ，然后会有个 <strong>方案选单</strong> 。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/45.png"/></div></div><p>我们按 <strong>1</strong> 键</p><p>然后我们再选 <strong>4</strong> 键</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/46.png"/></div></div><p>弄完这个以后输入的中文就是简体的了。</p><blockquote><p>如果要中英文的切换，我们只需要通过 <strong>Shift</strong> 键就可了。</p></blockquote><h4 id="安装浏览器"><a href="#安装浏览器" class="headerlink" title="安装浏览器"></a>安装浏览器</h4><p>浏览器我个人喜欢用 <em>Chromium</em> ，直接用 <em>pacman</em> 安装就是了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S chromium</span><br></pre></td></tr></table></figure><h4 id="安装-shadowsocks-qt5"><a href="#安装-shadowsocks-qt5" class="headerlink" title="安装 shadowsocks-qt5"></a>安装 shadowsocks-qt5</h4><blockquote><ul><li><strong>shadowsocks-qt5</strong> : 快速，可靠且跨平台的 Shadowsocks 的 GUI 客户端。</li></ul></blockquote><ol><li>Arch Linux 的仓库里有 <strong>shadowsocks-qt5</strong> ，直接安装即可：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S shadowsocks-qt5</span><br></pre></td></tr></table></figure><ol start="2"><li>下载机场的 shadowsocks 配置文件：</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/47.png"/></div></div><ol start="3"><li>导入 shadowsocks 配置文件：</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/48.png"/></div></div><ol start="4"><li>连接可用的机场节点，并记住本地的端口号：</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/49.png"/></div></div><ol start="5"><li>设置系统代理</li></ol><p>「 <strong>开始菜单</strong> 」 &gt; 「 <strong>System Settings</strong> 」 &gt; 「 <strong>Network</strong> 」 &gt; 「 <strong>Settings</strong> 」 &gt; 勾选 「 <strong>Use manually specified proxy configuration</strong> 」</p><p>在 「 <strong>Socks Proxy</strong> 」 里填写 <strong>socks5://127.0.0.1</strong> ，其中 「Port」 为 <strong>1080</strong> ，就是我之前让你记住的本地端口号。<br>在 「 <strong>Exceptions</strong> 」 里填写 <strong>localhost,127.0.0.0/8,::1</strong> 。<br>最后点击 「 <strong>Apply</strong> 」，应用即可。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/50.png"/></div></div><blockquote><p>如果要关掉代理，就勾选 「 <strong>No Proxy</strong> 」 再 「 <strong>Apply</strong> 」 应用即可，然后断开shadowsocks的连接就好了。</p></blockquote><h4 id="安装文件管理器"><a href="#安装文件管理器" class="headerlink" title="安装文件管理器"></a>安装文件管理器</h4><p>这里我就不多赘述了，文件管理器我选择 <em>dolphin</em> ，用 <em>pacman</em> 安装即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S dolphin</span><br></pre></td></tr></table></figure><h4 id="安装归档管理器"><a href="#安装归档管理器" class="headerlink" title="安装归档管理器"></a>安装归档管理器</h4><ul><li>engrampa: 可视化解压缩软件</li><li>其余均为依赖，安装这些软件包后 <em>engrampa</em> 才能解压缩 7z、rar、zip 格式的压缩包</li></ul><p>用 <em>pacman</em> 安装即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S p7zip unrar zip unzip engrampa</span><br></pre></td></tr></table></figure><h3 id="安装完后的-装逼"><a href="#安装完后的-装逼" class="headerlink" title="安装完后的 装逼"></a>安装完后的 <del>装逼</del></h3><p>只需要先安装 <em>neofetch</em> 即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ sudo pacman -S neofetch</span><br></pre></td></tr></table></figure><p>然后直接在 terminal 输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]$ neofetch</span><br></pre></td></tr></table></figure><p>没错，你应该不止一次看到过类似这样的一张图，这就是信仰啊~ （ 😀</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Installing-Arch-as-a-guest-with-UEFI-and-GPT/cover.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VMware </tag>
            
            <tag> Arch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>StarUML 3 破解</title>
      <link href="StarUML-3-registration.html"/>
      <url>StarUML-3-registration.html</url>
      
        <content type="html"><![CDATA[<p>导语：尽管不注册StarUML也不会有使用时间的限制，但是时不时的弹窗请求注册就让人很闹心，而且不注册的话导出的图片会带水印，再加上官网高昂的费用… 于是乎此文就此产生。</p><a id="more"></a><h2 id="事先准备"><a href="#事先准备" class="headerlink" title="事先准备"></a>事先准备</h2><ul><li><a href="http://staruml.io/">StarUML</a><ul><li>首先下载好 StarUML，然后双击安装包，它会自己安装到 <code>C:\Program Files\StarUML</code> ，而且没法选择更改安装路径…</li></ul></li><li><a href="https://nodejs.org/en/">Node.js</a><ul><li>首先下载LTS版（长期支持版） Node.js ，安装选项全部默认，一路点击Next。最后安装好之后，cmd 输入 <code>node -v</code> 和 <code>npm -v</code> ，如果出现版本号，那么就安装成功了。</li></ul></li></ul><h2 id="注册过程"><a href="#注册过程" class="headerlink" title="注册过程"></a>注册过程</h2><ol><li>安装 <code>asar</code> ，以 <strong>管理员模式</strong> 运行cmd，输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g asar</span><br></pre></td></tr></table></figure><ol start="2"><li>切换工作目录到 <code>C:\Program Files\StarUML\resources</code> ，输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d <span class="string">&quot;C:\Program Files\StarUML\resources&quot;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>解包 <code>app.asar</code> ，输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asar extract app.asar app</span><br></pre></td></tr></table></figure><ol start="4"><li>将 <code>app.asar</code> 重命名为 <code>app.asar.bak</code> ，即输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename app.asar app.asar.bak</span><br></pre></td></tr></table></figure><ol start="5"><li>使用你喜欢的 <strong>带语法高亮</strong> 的编辑器修改 <em>C:\Program Files\StarUML\resources\app\src\engine\license-manager.js</em> 这个文件</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/StarUML-3-registration/1.png"/></div></div><blockquote><p><strong>注</strong> ：如图找到 <code>checkLicenseValidity () &#123; ... &#125;</code> 这一块代码，修改为这样：</p></blockquote><figure class="highlight javascript"><figcaption><span>license-manager.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkLicenseValidity () &#123;</span><br><span class="line">  <span class="built_in">this</span>.validate().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setStatus(<span class="built_in">this</span>, <span class="literal">true</span>)</span><br><span class="line">  &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// setStatus(this, false)             &lt;- 注释这一行（其中&quot;//&quot;用于注释）</span></span><br><span class="line">    <span class="comment">// UnregisteredDialog.showDialog()    &lt;- 注释这一行（其中&quot;//&quot;用于注释）</span></span><br><span class="line">    setStatus(<span class="built_in">this</span>, <span class="literal">true</span>)                 <span class="comment">// &lt;- 添加这一行</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="6"><li>修改完后现在可以重新打包了，输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asar pack app app.asar</span><br></pre></td></tr></table></figure><ol start="7"><li>就这样完成了一切的工作。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/StarUML-3-registration/cover.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Crack </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 破解 </tag>
            
            <tag> StarUML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 Office 部署工具安装 Visio 2016（KMS激活）</title>
      <link href="use-the-ODT-to-install-VOL-ed-of-Visio-2016.html"/>
      <url>use-the-ODT-to-install-VOL-ed-of-Visio-2016.html</url>
      
        <content type="html"><![CDATA[<p>本文教你学习如何使用 Office 部署工具来安装 Visio 2016 的KMS版本（批量许可版本）</p><a id="more"></a><ol><li><p>从 Microsoft 下载中心<a href="https://www.microsoft.com/en-us/download/details.aspx?id=49117">下载</a>Office 部署工具。</p></li><li><p>双击下载的工具，如下图，勾选“Click here to…”，点击“Continue”；</p></li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Visio/1.png"/></div></div><ol start="3"><li>该工具会解压得到一些文件（setup.exe和*.xml），如下图所示，选择解压的目录。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Visio/2.png"/></div></div><ol start="4"><li><p>在解压得到的目录下删除所有xml文件。</p></li><li><p>创建要与 Office 部署工具一起使用的 <strong>configuration.xml</strong> 文件以下载和安装 Visio 的VOL版本。 <strong>configuration.xml</strong> 的内容如下：</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Add</span> <span class="attr">OfficeClientEdition</span>=<span class="string">&quot;64&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Product</span> <span class="attr">ID</span>=<span class="string">&quot;VisioProXVolume&quot;</span> <span class="attr">PIDKEY</span>=<span class="string">&quot;69WXN-MBYV6-22PQG-3WGHK-RM6XC&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Language</span> <span class="attr">ID</span>=<span class="string">&quot;zh-cn&quot;</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">Product</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">Add</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Visio/3.png"/></div></div><ol start="6"><li><p>在这个目录下，按住Shift键（不要松）然后鼠标右键 <strong>打开powershell</strong></p></li><li><p>开始下载 Visio。输入命令为：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\setup.exe /download configuration.xml</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Visio/4.png"/></div></div><ol start="8"><li>下载完成后，powershell会再次等待输入，这是输入命令安装Viso：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\setup.exe /configure configuration.xml</span><br></pre></td></tr></table></figure><ol start="9"><li>以 <strong>管理员权限</strong> 打开 <strong>cmd</strong> ，切换工作目录，命令如下：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d C:\Program Files\Microsoft Office\Office16</span><br></pre></td></tr></table></figure><ol start="10"><li>添加KMS服务器</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cscript ospp.vbs /sethst:kms.03k.org</span><br></pre></td></tr></table></figure><ol start="11"><li>开始激活</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cscript ospp.vbs /act</span><br></pre></td></tr></table></figure><ol start="12"><li>大功告成</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Visio/cover.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Office </tag>
            
            <tag> Visio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fedora 30 安装 VMware Workstation</title>
      <link href="install-VMware-Workstation-on-Fedora-30.html"/>
      <url>install-VMware-Workstation-on-Fedora-30.html</url>
      
        <content type="html"><![CDATA[<p>本文介绍了 Fedora 30 安装 VMware Workstation 全过程</p><a id="more"></a><h2 id="下载-VMware-Workstation-安装程序"><a href="#下载-VMware-Workstation-安装程序" class="headerlink" title="下载 VMware Workstation 安装程序"></a>下载 VMware Workstation 安装程序</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Downloads</span><br><span class="line">wget https://download3.vmware.com/software/wkst/file/VMware-Workstation-Full-15.0.4-12990004.x86_64.bundle</span><br></pre></td></tr></table></figure><h2 id="执行安装程序"><a href="#执行安装程序" class="headerlink" title="执行安装程序"></a>执行安装程序</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x VMware-Workstation-Full-15.0.4-12990004.x86_64.bundle</span><br><span class="line">./VMware-Workstation-Full-15.0.4-12990004.x86_64.bundle</span><br></pre></td></tr></table></figure><blockquote><p>接下来，根据终端上的提示进行安装即可。<br>等安装完成后还不要急着启动，如果启动，将无法正常运行，会显示 <em>Before you can run VMware several modules must be compiled and loaded into the running kernel</em> ，所以这个时候就需要patch了。</p></blockquote><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install kernel-devel kernel-headers gcc gcc-c++ make git</span><br></pre></td></tr></table></figure><h2 id="patch-过程"><a href="#patch-过程" class="headerlink" title="patch 过程"></a>patch 过程</h2><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>根据您的 VMware Workstation 版本号，将下面命令里出现的“x.y.z”替换为您安装的版本号，比如说 <strong>15.0.4</strong></p><ul><li>查看vmware的版本号</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmware -v</span><br></pre></td></tr></table></figure><h3 id="方法一（编译并安装）"><a href="#方法一（编译并安装）" class="headerlink" title="方法一（编译并安装）"></a>方法一（编译并安装）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/mkubecek/vmware-host-modules/archive/workstation-x.y.z.tar.gz</span><br><span class="line">tar -xzf workstation-x.y.z.tar.gz</span><br><span class="line"><span class="built_in">cd</span> vmware-host-modules-workstation-x.y.z</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h3 id="方法二（替换原始的tarball，推荐）"><a href="#方法二（替换原始的tarball，推荐）" class="headerlink" title="方法二（替换原始的tarball，推荐）"></a>方法二（替换原始的tarball，<strong>推荐</strong>）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/mkubecek/vmware-host-modules/archive/workstation-x.y.z.tar.gz</span><br><span class="line">tar -xzf workstation-x.y.z.tar.gz</span><br><span class="line"><span class="built_in">cd</span> vmware-host-modules-workstation-x.y.z</span><br><span class="line">tar -cf vmmon.tar vmmon-only</span><br><span class="line">tar -cf vmnet.tar vmnet-only</span><br><span class="line">sudo cp -v vmmon.tar vmnet.tar /usr/lib/vmware/modules/<span class="built_in">source</span>/</span><br><span class="line">sudo vmware-modconfig --console --install-all</span><br></pre></td></tr></table></figure><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>经过 patch，这时再运行，就可以正常运行了。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-VMware-Workstation-on-Fedora-30.png"/></div></div><blockquote><p>参考资料： </p></blockquote><ol><li><a href="https://ask.fedoraproject.org/t/howto-how-to-resolve-issues-for-vmworkstation-and-vmplayer-any-kernel-any-version/2162">How to Resolve Issues for VMWORKSTATION and VMPLAYER (ANY KERNEL + ANY VERSION)</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Fedora </tag>
            
            <tag> VMware </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fedora 30 编译安装 shadowsocks-qt5 全程</title>
      <link href="shadowsocks-qt5-for-Fedora-30.html"/>
      <url>shadowsocks-qt5-for-Fedora-30.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>首先说一下，编译安装 shadowsocks-qt5 之前，有一个依赖包（即 libQtShadowsocks）不在 Fedora 的仓库里，这就是为什么我们还需要编译安装 libQtShadowsocks 的原因。</p></blockquote><a id="more"></a><h2 id="libQtShadowsocks-依赖"><a href="#libQtShadowsocks-依赖" class="headerlink" title="libQtShadowsocks 依赖"></a>libQtShadowsocks 依赖</h2><ul><li>qt5-devel</li><li>botan2-devel</li><li>cmake</li><li>gcc-c++</li></ul><h2 id="安装-libQtShadowsocks-所需要的依赖"><a href="#安装-libQtShadowsocks-所需要的依赖" class="headerlink" title="安装 libQtShadowsocks 所需要的依赖"></a>安装 libQtShadowsocks 所需要的依赖</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf -y install qt5-devel botan2-devel cmake gcc-c++</span><br></pre></td></tr></table></figure><h2 id="编译安装-libQtShadowsocks"><a href="#编译安装-libQtShadowsocks" class="headerlink" title="编译安装 libQtShadowsocks"></a>编译安装 libQtShadowsocks</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ericclose/libQtShadowsocks.git</span><br><span class="line"><span class="built_in">cd</span> libQtShadowsocks</span><br><span class="line">mkdir build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr</span><br><span class="line">make -j4</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p>此处为什么不下载官方归档好的源码呢，详情点此<a href="https://github.com/shadowsocks/shadowsocks-qt5/issues/760#issuecomment-435806894">issue</a>，本文为了方便自己编译，故根据这个issuse作出了仅有的少数改动，即可成功编译。</p><h2 id="shadowsocks-qt5-依赖"><a href="#shadowsocks-qt5-依赖" class="headerlink" title="shadowsocks-qt5 依赖"></a>shadowsocks-qt5 依赖</h2><ul><li>cmake</li><li>qt5-qtbase-gui</li><li>qrencode-devel</li><li>libQtShadowsocks （正是我们前面所编译安装的）</li><li>zbar-devel</li><li>libappindicator-devel</li></ul><h2 id="安装-shadowsocks-qt5-所需要的依赖"><a href="#安装-shadowsocks-qt5-所需要的依赖" class="headerlink" title="安装 shadowsocks-qt5 所需要的依赖"></a>安装 shadowsocks-qt5 所需要的依赖</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf -y install cmake qt5-qtbase-gui qrencode-devel zbar-devel libappindicator-devel</span><br></pre></td></tr></table></figure><h2 id="编译安装-shadowsocks-qt5"><a href="#编译安装-shadowsocks-qt5" class="headerlink" title="编译安装 shadowsocks-qt5"></a>编译安装 shadowsocks-qt5</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/shadowsocks/shadowsocks-qt5/archive/v3.0.1.tar.gz &gt; shadowsocks-qt5-3.0.1.tar.gz</span><br><span class="line">tar -xzvf shadowsocks-qt5-3.0.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> shadowsocks-qt5-3.0.1</span><br><span class="line">mkdir build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr</span><br><span class="line">make -j4</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p>到这里我们就完成了所有工作，你可以在应用列表里看到了，但是如果这时发现图标没有正常的显示，可以这么做。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/share/applications/shadowsocks-qt5.desktop</span><br></pre></td></tr></table></figure><p>在 Icon=xxxx 这个添加上你下载好的图标的路径，如 <em>Icon=/home/innovation/Pictures/icons/shadowsocks-qt5.svg</em><br><a href="https://icon-icons.com/downloadimage.php?id=94122&root=1381/SVG/&file=shadowsocksqt5_94122.svg">点此</a>下载svg图标。</p>]]></content>
      
      
      <categories>
          
          <category> Proxy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shadowsocks </tag>
            
            <tag> 代理 </tag>
            
            <tag> Fedora </tag>
            
            <tag> 编译 </tag>
            
            <tag> 客户端 </tag>
            
            <tag> 翻墙 </tag>
            
            <tag> 科学上网 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VMware Workstation 安装 macOS 10.13（多图预警）</title>
      <link href="install-macOS-10-13-on-VMware-workstation.html"/>
      <url>install-macOS-10-13-on-VMware-workstation.html</url>
      
        <content type="html"><![CDATA[<p>由于安装黑苹果需要配备兼容的硬件且难度较大，如果想要更轻松的在Windows和Linux的机子上体验macOS的一种方法就是把它装在 VMware Workstation上。这样做的好处是方便安装，通过使用虚拟机，您可以同时使用macOS和Windows或Linux；但是缺点也很明显，无法充分调动硬件性能。本文将指导您如何在VMware Workstation上安装macOS：</p><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>下载好以下文件：</p><ul><li><p>VMware Workstation</p><blockquote><p>VMware Workstation是VMware公司推出的一款桌面虚拟计算软件，至于下载和安装，填写license这里不赘述，请自行使用搜索引擎查询。</p></blockquote></li><li><p>unlocker (项目发行地址<a href="https://github.com/DrDonk/unlocker/releases">点此</a>，此处下载最新版本的zip)</p><blockquote><p>在用VMware安装macOS前需要对VMware打补丁，unlocker就起到这个作用。</p></blockquote></li><li><p>macOS High Sierra 10.13.iso</p><ul><li>链接：<a href="https://pan.baidu.com/s/1eSGmiwq">https://pan.baidu.com/s/1eSGmiwq</a></li><li>密码：2zk6</li><li>MD5 ：3E3048A0BD26A03D54DBED7706548726</li></ul></li><li><p>SHA-1 ：31094D7B58D67002B9824E428675E895F81F4B47</p></li></ul><blockquote><p><strong>macOS High Sierra 10.13.iso</strong> 是macOS的镜像文件。MD5 和 SHA-1 用于校验文件是否完整无损坏。如果不知道如何校验，请自行使用搜索引擎查询。</p></blockquote><h2 id="应用-unlocker-补丁"><a href="#应用-unlocker-补丁" class="headerlink" title="应用 unlocker 补丁"></a>应用 unlocker 补丁</h2><p>把下载好的unlocker解压，此处我以解压到 <code>G:\unlocker</code> 为例。<br>使用 <strong>管理员模式</strong> 打开cmd，执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d H:\unlocker</span><br><span class="line">win-install</span><br></pre></td></tr></table></figure><p>执行命令后期间会下载 <strong>VMware Tools</strong> ，所以过程需要稍微比较久的时间，当显示Finished后即表明已完成打补丁的操作，截图如下：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/1.png"/></div></div><h2 id="打开-VMware-新建虚拟机"><a href="#打开-VMware-新建虚拟机" class="headerlink" title="打开 VMware 新建虚拟机"></a>打开 VMware 新建虚拟机</h2><ul><li>打开VMware，选择 <strong>新建虚拟机</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/2.png"/></div></div><ul><li>选择 <strong>典型安装</strong> ，下一步  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/3.png"/></div></div><ul><li>点击 <strong>浏览</strong> ，找到下载好的iso文件，然后下一步  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/4.png"/></div></div><ul><li>选择安装 Apple Mac OS X<br>由于我们之前打过了补丁,所以这时我们能看到有<strong>Apple Mac OS X</strong>这个选项，选择，然后选中<strong>macOS 10.13</strong>，下一步  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/5.png"/></div></div><ul><li>选择虚拟机存放的路径，自行选择合适的路径下一步  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/6.png"/></div></div><ul><li>选择存储为单个文件（因为存储为多个文件会影响性能）  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/7.png"/></div></div><ul><li>自定义硬件  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/8.png"/></div></div><p>建议把内存调大点，我这里设置成4GB，视实际内存大小而定。其他选项无需调整，点击关闭，完成即可。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/9.png"/></div></div><ul><li>开启虚拟机  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/10.png"/></div></div><ul><li>等待载入安装界面  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/11.jpg"/></div></div><ul><li>选择 <strong>简体中文</strong> ，下一步</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/12.jpg"/></div></div><ul><li>点击继续  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/13.jpg"/></div></div><ul><li>继续，同意许可条款  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/14.jpg"/></div></div><ul><li>在左上角的菜单栏，点击【实用工具】-&gt;【磁盘工具】  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/15.jpg"/></div></div><ul><li>选中分配给虚拟机的磁盘，点击 <strong>抹掉</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/16.png"/></div></div><ul><li>名称随意，格式，方案默认即可。点击 <strong>抹掉</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/17.jpg"/></div></div><ul><li>点击完成，关闭磁盘工具的窗口。  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/18.png"/></div></div><ul><li>选中刚刚的磁盘，点击 <strong>继续</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/19.jpg"/></div></div><ul><li>安装开始，此处大概需要10~20分钟，泡杯咖啡静待吧。  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/20.jpg"/></div></div><ul><li>等待重启  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/21.jpg"/></div></div><ul><li>鼠标滚轮滚动到最下面，选择 <strong>中国</strong> ，继续  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/22.jpg"/></div></div><ul><li>简体拼音，继续  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/23.jpg"/></div></div><ul><li>现在不传输任何信息，继续  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/24.jpg"/></div></div><ul><li>此处我选择 <strong>不登陆</strong> ，跳过这一步  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/25.jpg"/></div></div><ul><li>同意软件许可协议  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/26.jpg"/></div></div><ul><li>创建电脑账户（即本地账户），输入全名，密码。提示部分可不填写，填写完成后，点击继续即可。  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/27.png"/></div></div><ul><li>快捷设置，点击继续。  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/28.jpg"/></div></div><ul><li>正在设置您的 Mac…  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/29.jpg"/></div></div><ul><li>进入桌面发现显示区域不能适配屏幕大小，这是因为我们还没有安装 <strong>VMware Tools</strong> 。这里我们先点击左上角菜单，选择关机  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/30.jpg"/></div></div><ul><li>点击 <strong>CD/DVD (SATA)</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/31.png"/></div></div><ul><li>使用 <strong>物理驱动</strong> ，<strong>自动检测</strong> ，OK  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/32.png"/></div></div><ul><li><strong>开启 macOS</strong></li><li>在VMware的菜单栏里，选择【虚拟机】-&gt;【安装 VMware Tools】  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/33.jpg"/></div></div><ul><li>这时在桌面的右上角会出现 <strong>VMware Tools</strong> 的图标，双击图标，然后点击 <strong>安装 VMware Tools</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/34.jpg"/></div></div><ul><li>安装过程中会请求输入密码，输入密码后点击 <strong>安装软件</strong> 即可  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/35.png"/></div></div><ul><li>安装完成后需要重新启动  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/36.jpg"/></div></div><ul><li>重启完后，弹窗提示 <strong>VMware Tools 已被阻止</strong> ，我们打开 <strong>dock栏</strong> 上的 <strong>系统偏好设置</strong>  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/37.png"/></div></div><ul><li>点击【安全性与隐私】  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/38.png"/></div></div><ul><li>点击【允许】VMware Tools的载入，然后再点击左下角的【锁】按钮进行更改  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/39.png"/></div></div><ul><li>最后，弄完上述所有操作后重启就OK了。此处附上成果图，如下：  </li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/install-macOS-10.13-on-VMware-workstation/40.jpg"/></div></div>]]></content>
      
      
      <categories>
          
          <category> VM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 虚拟机 </tag>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何升级 CentOS 7 的内核</title>
      <link href="upgrade-kernel-version-on-CentOS-7.html"/>
      <url>upgrade-kernel-version-on-CentOS-7.html</url>
      
        <content type="html"><![CDATA[<p>CentOS 7 官方的内核版本有点低，在 VMware 里内核版本至少要3.2才能使用USB 3.0，所以我在网上查了一下怎么升级内核，并记录了下来。  </p><a id="more"></a><h3 id="登录-root-用户"><a href="#登录-root-用户" class="headerlink" title="登录 root 用户"></a>登录 root 用户</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su --login root</span><br></pre></td></tr></table></figure><h3 id="导入公钥"><a href="#导入公钥" class="headerlink" title="导入公钥"></a>导入公钥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org</span><br></pre></td></tr></table></figure><h3 id="安装-ELRepo"><a href="#安装-ELRepo" class="headerlink" title="安装 ELRepo"></a>安装 ELRepo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install https://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="安装-kernel-ml"><a href="#安装-kernel-ml" class="headerlink" title="安装 kernel-ml"></a>安装 kernel-ml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=elrepo-kernel install kernel-ml</span><br></pre></td></tr></table></figure><h3 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h3><p>重启时，通过方向键选择启动安装的新版本内核。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/upgrade-kernel-version-on-CentOS-7/boot-option.jpg"/></div></div><p>比如此处我安装的新的内核版本为 <strong>5.0.7</strong> ，所以我应该按方向键 <strong>↑</strong> 选择新的版本，然后按 <strong>回车</strong> 启动。</p><h3 id="替换-kernel-headers"><a href="#替换-kernel-headers" class="headerlink" title="替换 kernel-headers"></a>替换 kernel-headers</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=elrepo-kernel -y swap kernel-headers -- kernel-ml-headers</span><br></pre></td></tr></table></figure><h3 id="替换-kernel-tools-libs"><a href="#替换-kernel-tools-libs" class="headerlink" title="替换 kernel-tools-libs"></a>替换 kernel-tools-libs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=elrepo-kernel -y swap kernel-tools-libs -- kernel-ml-tools-libs</span><br></pre></td></tr></table></figure><h3 id="替换-kernel-tools"><a href="#替换-kernel-tools" class="headerlink" title="替换 kernel-tools"></a>替换 kernel-tools</h3><p><strong>注</strong>: 如果在这一步遇到说系统没有 kernel-tools 这个包不用管这个错误，继续下一步就行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=elrepo-kernel -y swap kernel-tools kernel-ml-tools</span><br></pre></td></tr></table></figure><h3 id="替换-kernel-devel"><a href="#替换-kernel-devel" class="headerlink" title="替换 kernel-devel"></a>替换 kernel-devel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=elrepo-kernel -y swap kernel-devel -- kernel-ml-devel</span><br></pre></td></tr></table></figure><h3 id="移除-CentOS-7-的官方内核"><a href="#移除-CentOS-7-的官方内核" class="headerlink" title="移除 CentOS 7 的官方内核"></a>移除 CentOS 7 的官方内核</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove kernel</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> 内核 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 7 使用 Tor 代理访问 Tor 暗网（.onion 域名的网站）</title>
      <link href="access-onionland-with-Tor-on-CentOS-7.html"/>
      <url>access-onionland-with-Tor-on-CentOS-7.html</url>
      
        <content type="html"><![CDATA[<p>说到使用 Tor，人们通常只会想到使用 Tor 浏览器（Tor Browser）。但是 Tor 只能用于 Tor 浏览器代理使用吗？答案是否定的。你可以借助 Tor 给你的系统进行代理，其默认监听端口为 <strong>9050</strong>，下面将简单的介绍下具体流程。</p><blockquote><p>注意：Tor 代理不仅仅只能用于浏览器，其他非浏览器应用也可使用其代理。当然我还是要强调一下，本文的主题是使用 Tor 代理访问暗网，本文以使用 Chrome 访问 .onion 站点为例，不考虑到匿名和安全的防护。</p></blockquote><a id="more"></a><blockquote><p>顺便澄清一下暗网并没有那些人为吸引眼球的媒体或个人所说的全都那般的阴暗危险，这里引用下一则我认为比较中肯的评说。（<psw>江来如果报道上出了偏差，你们是要负泽任的，你識得唔識得噶。</psw>）</p></blockquote><blockquote><p>暗网技术是很厉害的技术，有人说是平民的武器。因此，可以说和任何技术一样，暗网技术有两面性。暗网上的服务器到现在有多少，由于暗网的特性，恐怕很难说得清楚。 在此之中，又有多少服务器是非法的，也很难说清楚。即使能举出一个数字来，因为总数不知道，我们甚至不知道比例。 但是，我想不管是普通的互联网还是暗网，想通过互联网犯罪的人总是有的，想正常使用互联网的人也是有的。此外值得指出，虽然暗网上有一定比例的节点在提供违法犯罪的服务，但是这不代表暗网本身是违法的技术。 我们可以说，暗网是一种构建在互联网上的“虚拟互联网”， 它继承了互联网的思想，但因为互联网的物理结构和底层协议都已经形成， 不可能另起炉灶，所以建设在互联网的应用层次，作为一种“虚拟”的完善。 所以，就如同我们不能因为互联网上有网站是违法就否定互联网的价值一样，我们也不能否定暗网的价值。笔者在此希望本文的读者，能首先，实事求是地从纯技术的角度来深入认识暗网， 知道它确实是可以被滥用的媒介，但也可以是有利于构建更加安全的网络结构的工具。 这种认识不仅在道德上有助于正确评价暗网的功过是非， 也有助于在运用暗网时了解它可能的危险，例如运行一个暗网出口代理的危险，并进而安全使用; 更重要的是，能了解暗网技术的巨大优势，发掘出它的潜力，这将有助于开发更好的基于网络的计算机程序。——引用自 <a href="http://neoatlantis.org/%E7%94%B5%E5%B7%A5%E7%94%B5%E5%AD%90%E5%8F%8A%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF/2015/05/02/darknet-intro.html">NeoAtlantis应用科学和神秘学实验室</a></p></blockquote><h2 id="安装-Tor"><a href="#安装-Tor" class="headerlink" title="安装 Tor"></a>安装 Tor</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release</span><br><span class="line">sudo yum install tor</span><br></pre></td></tr></table></figure><h2 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/tor/torrc</span><br></pre></td></tr></table></figure><p>添加下列 3 行内容即可</p><figure class="highlight plain"><figcaption><span>/etc/tor/torrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Socks5Proxy 127.0.0.1:1080 # 将 shadowsocks 作为 Tor 的前置代理</span><br><span class="line">ExcludeNodes &#123;cn&#125;,&#123;hk&#125;,&#123;mo&#125;,&#123;kp&#125;,&#123;ir&#125;,&#123;sy&#125;,&#123;pk&#125;,&#123;cu&#125;,&#123;vn&#125; # 表示排除这些国家／地区的节点</span><br><span class="line">StrictNodes 1 # 表示强制执行</span><br></pre></td></tr></table></figure><p>如图所示：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/access-onionland-with-Tor-on-CentOS_7/1.png"/></div></div><h2 id="启动-shadowsocks-代理"><a href="#启动-shadowsocks-代理" class="headerlink" title="启动 shadowsocks 代理"></a>启动 shadowsocks 代理</h2><p>如果你之前还没有安装 shadowsocks 的，请 <a href="https://ericclose.github.io/shadowsocks-client-on-CentOS-7.html">【点此】</a> 移步到相关页面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss-local -c ~/shadowsocks.json</span><br></pre></td></tr></table></figure><h2 id="启动-Tor-代理"><a href="#启动-Tor-代理" class="headerlink" title="启动 Tor 代理"></a>启动 Tor 代理</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start tor</span><br></pre></td></tr></table></figure><h2 id="启动系统代理"><a href="#启动系统代理" class="headerlink" title="启动系统代理"></a>启动系统代理</h2><p>「<strong>设置</strong>」-&gt;「<strong>网络</strong>」-&gt;「<strong>网络代理</strong>」-&gt;「<strong>手动</strong>」，如图所示。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/access-onionland-with-Tor-on-CentOS_7/2.jpg"/></div></div><p>Socks Host 这一项填写的内容为 <code>127.0.0.1</code> 和 <code>9050</code></p><p><strong>注意</strong>：<code>9050</code> 是 Tor 代理的默认端口号</p><h2 id="成功截图"><a href="#成功截图" class="headerlink" title="成功截图"></a>成功截图</h2><p>浏览器访问 .onion 域名截图：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/access-onionland-with-Tor-on-CentOS_7/3.png"/></div></div><p>截图里的测试地址为：<code>msydqstlz2kzerdg.onion</code></p><h2 id="停用-Tor-代理"><a href="#停用-Tor-代理" class="headerlink" title="停用 Tor 代理"></a>停用 Tor 代理</h2><p>当你不需要使用 Tor 代理的时候在终端输入这个命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop tor</span><br></pre></td></tr></table></figure><h2 id="关闭系统代理"><a href="#关闭系统代理" class="headerlink" title="关闭系统代理"></a>关闭系统代理</h2><p>「<strong>设置</strong>」-&gt;「<strong>网络</strong>」-&gt;「<strong>网络代理</strong>」-&gt;「<strong>禁用</strong>」即可</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shadowsocks </tag>
            
            <tag> Tor </tag>
            
            <tag> 代理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 7 使用 shadowsocks 客户端科学上网</title>
      <link href="shadowsocks-client-on-CentOS-7.html"/>
      <url>shadowsocks-client-on-CentOS-7.html</url>
      
        <content type="html"><![CDATA[<h2 id="编译安装-shadowsocks-libev"><a href="#编译安装-shadowsocks-libev" class="headerlink" title="编译安装 shadowsocks-libev"></a>编译安装 shadowsocks-libev</h2><h3 id="获取最新的源代码"><a href="#获取最新的源代码" class="headerlink" title="获取最新的源代码"></a>获取最新的源代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/shadowsocks/shadowsocks-libev.git</span><br><span class="line"><span class="built_in">cd</span> shadowsocks-libev</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="从源代码编译"><a href="#从源代码编译" class="headerlink" title="从源代码编译"></a>从源代码编译</h3><h4 id="必备条件"><a href="#必备条件" class="headerlink" title="必备条件"></a>必备条件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">yum install epel-release -y</span><br><span class="line">yum install gcc gettext autoconf libtool automake make pcre-devel asciidoc xmlto c-ares-devel libev-devel libsodium-devel mbedtls-devel -y</span><br></pre></td></tr></table></figure><h4 id="开始进行编译安装"><a href="#开始进行编译安装" class="headerlink" title="开始进行编译安装"></a>开始进行编译安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./autogen.sh &amp;&amp; ./configure --prefix=/usr &amp;&amp; make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h4 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/shadowsocks.json</span><br></pre></td></tr></table></figure><h4 id="json配置信息"><a href="#json配置信息" class="headerlink" title="json配置信息"></a>json配置信息</h4><p>此处以我常用的机场为例，直接复制节点列表任一可用的节点的json，如图  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/shadowsocks-on-CentOS_7/1.png"/></div></div><p>写进shadowsocks.json的配置信息大致如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        <span class="attr">&quot;server&quot;</span>: <span class="string">&quot;xxx.xxx.xxx.xxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;local_address&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;local_port&quot;</span>: <span class="number">1080</span>,</span><br><span class="line">        <span class="attr">&quot;timeout&quot;</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">&quot;workers&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">&quot;server_port&quot;</span>: <span class="number">24653</span>,</span><br><span class="line">        <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;xxxxxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;method&quot;</span>: <span class="string">&quot;chacha20-ietf&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;plugin&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="启动shadowsocks客户端（即ss-local）"><a href="#启动shadowsocks客户端（即ss-local）" class="headerlink" title="启动shadowsocks客户端（即ss-local）"></a>启动shadowsocks客户端（即ss-local）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss-local -c ~/shadowsocks.json</span><br></pre></td></tr></table></figure><p>如图所示  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/shadowsocks-on-CentOS_7/2.jpg"/></div></div><p><strong>注意</strong>：请不要关闭终端</p><h4 id="启用系统代理"><a href="#启用系统代理" class="headerlink" title="启用系统代理"></a>启用系统代理</h4><p>「设置」-&gt;「网络」-&gt;「网络代理」-&gt;「手动」，如图所示：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/shadowsocks-on-CentOS_7/3.png"/></div></div><p>在socks主机里填写你 <code>shadowsocks.json</code> 里的 <code>local_address</code> 和 <code>local_port</code> ，如我这里的 <code>127.0.0.1</code> 和 <code>1080</code> 。弄完关闭设置窗口就可以科学上网了。</p><h4 id="关闭代理"><a href="#关闭代理" class="headerlink" title="关闭代理"></a>关闭代理</h4><p>当你不想科学上网的时候先关闭系统代理（「设置」-&gt;「网络」-&gt;「网络代理」-&gt;「禁用」即可），然后在ss-local的那个终端按Ctrl+C即可。</p>]]></content>
      
      
      <categories>
          
          <category> Proxy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shadowsocks </tag>
            
            <tag> 代理 </tag>
            
            <tag> 客户端 </tag>
            
            <tag> 翻墙 </tag>
            
            <tag> 科学上网 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>斐讯 K2P 刷 BREED 和 Padavan</title>
      <link href="phicomm-k2p-Padavan.html"/>
      <url>phicomm-k2p-Padavan.html</url>
      
        <content type="html"><![CDATA[<p>本文介绍了 斐讯 K2P 刷 BREED 和 Padavan 的全过程</p><p>这里简要讲一下 <strong>斐讯 K2P</strong> 有如下版本</p><ul><li>K2P (A1)</li><li>K2P (A2)</li><li>K2P (B1)</li><li>K2P (B2)  </li></ul><a id="more"></a><blockquote><p>A1和A2采用的处理器是联发科 MT7621A，二者的区别在于A2少了屏蔽罩和电源缩水，A1和A2的固件可以通刷。B1和B2采用的处理器是博通BCM47189，其他的不清楚了。  </p></blockquote><p>本教程针对以我的机子为例（建议先参考下<a href="http://help.gocloud.cn/InstallationGuide/FILES/GoCloudK2PShuaJiJiaoChengV2.0.html">K2P刷机指南说明</a>食用）</p><ul><li>斐讯 K2P A2版</li><li>官方系统 <strong>软件版本</strong> 为 <code>22.7.8.5</code></li></ul><h2 id="启用-Telnet"><a href="#启用-Telnet" class="headerlink" title="启用 Telnet"></a>启用 Telnet</h2><h3 id="Windows-启用-Telnet-客户端"><a href="#Windows-启用-Telnet-客户端" class="headerlink" title="Windows 启用 Telnet 客户端"></a>Windows 启用 Telnet 客户端</h3><p>「控制面板」–&gt;「程序」–&gt;「程序和功能」–&gt;「启用或关闭 Windows 功能」，找到「Telnet 客户端」启用即可，如图。  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/1.png"/></div></div><h3 id="启用路由器的-Telnet"><a href="#启用路由器的-Telnet" class="headerlink" title="启用路由器的 Telnet"></a>启用路由器的 Telnet</h3><ul><li>准备1：电脑、网线2根、<strong>全新</strong> / <strong>已恢复出厂</strong> 的K2P。  </li><li>准备2：下载K2P的telnet开启工具。<a href="https://github.com/ericclose/cdn-assets/raw/master/blog/K2P_telnet_tool.zip">【点击下载】</a></li></ul><h4 id="步骤1"><a href="#步骤1" class="headerlink" title="步骤1"></a>步骤1</h4><p>请先给K2P上电后用网线将电脑连接路由器的LAN口</p><h4 id="步骤2"><a href="#步骤2" class="headerlink" title="步骤2"></a>步骤2</h4><p>全新K2P默认IP是 <code>192.168.2.1</code> ，请使用浏览器登录K2P的WEB管理页面完成配置引导，具体操作如下：<br>1). 在浏览器输入 <code>192.168.2.1</code> ，访问全新K2P的WEB管理页面会进入配置引导，请根据提示完成上网配置。</p><blockquote><p>请在这个时候再确认一下K2P的版本号，如果版本号与刷机方式不匹配，容易出现刷机设备等问题。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/2.png"/></div></div><h4 id="步骤3"><a href="#步骤3" class="headerlink" title="步骤3"></a>步骤3</h4><p>开始使用“开启telnet”，请打开【telnet开启工具】为K2P开启telnet服务，操作如下。</p><blockquote><p>注意：请确保PC的telnet客户端已经开启。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/3.jpg"/></div></div><h2 id="刷入BREED"><a href="#刷入BREED" class="headerlink" title="刷入BREED"></a>刷入<a href="https://breed.hackpascal.net/">BREED</a></h2><p>首先下载好BREED，<a href="https://breed.hackpascal.net/breed-mt7621-phicomm-k2p.bin">【点击下载】</a><br>按 快捷键Win+R 输入 <code>telnet 192.168.2.1</code> 登录到路由器，进去后如下：  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/4.png"/></div></div><p>登陆后，照如下输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@K2P:/<span class="comment">#cd /tmp</span></span><br><span class="line">root@K2P:/tmp<span class="comment">#opkg install http://downloads.openwrt.org/chaos_calmer/15.05/ramips/mt7621/packages/packages/wget_1.16.3-1_ramips_1004kc.ipk</span></span><br></pre></td></tr></table></figure><p>安装成功应该可以看到有wget-ssl文件了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@K2P:/tmp<span class="comment"># ls /overlay/usr/bin/</span></span><br><span class="line">dbclient     dropbearkey  scp          ssh          wget-ssl</span><br></pre></td></tr></table></figure><p>然后下载breed:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget-ssl --no-check-certificate https://breed.hackpascal.net/breed-mt7621-phicomm-k2p.bin</span><br></pre></td></tr></table></figure><p>下载完成后校对一下md5是不是与官方公布的一致即可 ,如果OK,继续下一步操作.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@K2P:/tmp<span class="comment"># md5sum breed-mt7621-phicomm-k2p.bin</span></span><br><span class="line">4b757898df85bff44668a0987768180f  breed-mt7621-phicomm-k2p.bin</span><br></pre></td></tr></table></figure><p>写入breed:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@K2P:/tmp<span class="comment"># cat /proc/mtd</span></span><br><span class="line">dev:    size   erasesize  name</span><br><span class="line">mtd0: 01000000 00010000 <span class="string">&quot;ALL&quot;</span></span><br><span class="line">mtd1: 00030000 00010000 <span class="string">&quot;Bootloader&quot;</span></span><br><span class="line">mtd2: 00010000 00010000 <span class="string">&quot;Config&quot;</span></span><br><span class="line">mtd3: 00010000 00010000 <span class="string">&quot;Factory&quot;</span></span><br><span class="line">mtd4: 00050000 00010000 <span class="string">&quot;permanent_config&quot;</span></span><br><span class="line">mtd5: 00f60000 00010000 <span class="string">&quot;firmware&quot;</span></span><br><span class="line">mtd6: 00c48b96 00010000 <span class="string">&quot;rootfs&quot;</span></span><br><span class="line">mtd7: 00200000 00010000 <span class="string">&quot;rootfs_data&quot;</span></span><br><span class="line">root@K2P:/tmp<span class="comment"># mtd -r write /tmp/breed-mt7621-phicomm-k2p.bin Bootloader</span></span><br></pre></td></tr></table></figure><p>写入成功的情况下会自动重启的.</p><p>重启后路由断电，按住reset键，接通电源继续长按10秒左右即可进入BREED。<br>进入BREED后即可刷机了。</p><h2 id="固件备份"><a href="#固件备份" class="headerlink" title="固件备份"></a>固件备份</h2><p>浏览器输入 <code>192.168.1.1</code> 进入BREED<br><strong>切记：一定要做好备份工作</strong><br>「备份」-&gt; 分别选择EEPROM，固件，编程器固件，如图：  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/5.png"/></div></div><h2 id="开始刷机"><a href="#开始刷机" class="headerlink" title="开始刷机"></a>开始刷机</h2><p>开刷前，请必须记得先「恢复出厂设置」-&gt;「Config 区 (公版)」，然后点「执行」<br>Padavan 下载地址：<a href="https://opt.cn2qq.com/padavan/">https://opt.cn2qq.com/padavan/</a><br>找到 <code>K2P_DRV_3.4.3.9-099.trx</code> 下载<br>恢复出厂设置以后，选择「固件升级」-&gt;勾选固件-&gt;浏览，选中你下载好的 K2P 的Padavan固件，比如我这次是「K2P_DRV_3.4.3.9-099.trx」，点击「上传」即可，如图：  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/6.jpg"/></div></div><p>等待路由器刷机成功并重启即可访问管理后台  </p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/phicomm-k2p-Padavan/7.png"/></div></div><p>不同固件的默认管理后台地址不一样，我这里 Padavan 的例子是 <strong>192.168.123.1</strong>，而用户名密码则均是 <strong>admin</strong> 。<br>补充一句：WiFi的默认密码为：<strong>1234567890</strong> ，大家要记得这个，因为以后如果将Padavan重置的时候，很多人都不知道WiFi密码是多少，以为还是原来你设置的密码，其实不是的，已经变成了默认密码了。</p>]]></content>
      
      
      <categories>
          
          <category> Router </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 斐讯 </tag>
            
            <tag> Phicomm </tag>
            
            <tag> Padavan </tag>
            
            <tag> BREED </tag>
            
            <tag> 刷机 </tag>
            
            <tag> 固件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（类）原生 Android 网络去叉／叹号 Android 5.0 - 10.0</title>
      <link href="Captive-Portal-Android.html"/>
      <url>Captive-Portal-Android.html</url>
      
        <content type="html"><![CDATA[<p>使用（类）原生 Android 的用户在中国大陆会发现状态栏的网络信号有个叉或者是感叹号，这是为什么呢？又该如何去除？  </p><a id="more"></a><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p><a href="https://developer.android.com/reference/android/net/CaptivePortal">CaptivePortal</a> 是 Android 5.0 引入的一种检测网络是否正常连接的机制，通过 HTTP 返回的状态码是否是 204 来判断是否成功，如果访问得到了 200，那你就可能处在一个需要登录验证才能上网的环境里，比如说校园网，再比如说一些酒店提供的客户才能免费使用的 Wi-Fi（其实是通过 DNS 劫持实现的），如果连接超时（根本就连接不上）就在 Wi-Fi 图标和信号图标上加一个标志，Android 5 和 Android 6 是叹号，Android 7 改成一个叉了。只不过默认访问的是谷歌自家的验证服务器，然而 Google 是被墙掉了，导致 Android 没有办法正确评估网络。所以，系统每隔一定时间都会重新尝试连接，就在不知不觉中消耗了数据流量。更恐怖的就是 Android 认为在 Wi-Fi 下无法连接互联网，就让联网的程序通通走流量…</p><h2 id="ADB-工具"><a href="#ADB-工具" class="headerlink" title="ADB 工具"></a>ADB 工具</h2><p>要想去除，需要用到一个工具，那就是 ADB，<a href="https://dl.google.com/android/repository/platform-tools-latest-windows.zip">点此</a> 下载（需要科学上网）。然后请自行搞定 ADB 的环境变量配置，如果不会请 <a href="http://bfy.tw/Lqvg">点此</a>。配置好后，请在<strong>手机设置</strong>里开启<strong>开发者选项</strong>，然后再打开<strong>USB 调试</strong>。最后通过数据线连接电脑，就可以开搞了。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><h3 id="Android-5-0-6-0"><a href="#Android-5-0-6-0" class="headerlink" title="Android 5.0 - 6.0"></a>Android 5.0 - 6.0</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除地址就可以恢复默认的谷歌服务器</span></span><br><span class="line">adb shell settings delete global captive_portal_server</span><br><span class="line"><span class="comment"># 设置一个可用地址</span></span><br><span class="line">adb shell settings put global captive_portal_server http://developers.google.cn/generate_204</span><br><span class="line"><span class="comment"># 查询当前地址</span></span><br><span class="line">adb shell settings get global captive_portal_server</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：执行完后请打开飞行模式后再关闭</p><h3 id="Android-7-0-Android-10-0"><a href="#Android-7-0-Android-10-0" class="headerlink" title="Android 7.0 - Android 10.0"></a>Android 7.0 - Android 10.0</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除（删除默认用HTTPS）</span></span><br><span class="line">adb shell settings delete global captive_portal_https_url</span><br><span class="line">adb shell settings delete global captive_portal_http_url</span><br><span class="line"><span class="comment"># 设置一个可用地址</span></span><br><span class="line">adb shell settings put global captive_portal_http_url http://developers.google.cn/generate_204</span><br><span class="line">adb shell settings put global captive_portal_https_url https://developers.google.cn/generate_204</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：执行完后请打开飞行模式后再关闭</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 类原生 </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 you-get 下载视频</title>
      <link href="you-get-tutorial.html"/>
      <url>you-get-tutorial.html</url>
      
        <content type="html"><![CDATA[<p>You-get 是一个小巧的能够用于下载网络媒体内容（视频，音频，图片）的命令行程序。开发者是<a href="https://github.com/soimort">soimort</a>，仓库<a href="https://github.com/soimort/you-get">点击这里</a>访问</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/you-get.png"/></div></div><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>以下乃必要依赖，需要单独安装：</p><ul><li><strong>Python 3</strong> 此处提供 Python 3.7.4 的离线安装包下载链接: <a href="https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe">https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe</a></li><li><strong>FFmpeg</strong> 此处提供 <code>ffmpeg-4.2-win64-static.zip</code> 的下载链接: <a href="https://ffmpeg.zeranoe.com/builds/win64/static/ffmpeg-4.2-win64-static.zip">https://ffmpeg.zeranoe.com/builds/win64/static/ffmpeg-4.2-win64-static.zip</a> ，下载完后解压。</li></ul><blockquote><p>必备配置：自行解决 Python 和 FFmpeg <strong>环境变量</strong> 的配置，此处不赘述，不懂怎么配置就用用万能的搜索引擎。</p></blockquote><h2 id="安装-you-get-和-PySocks"><a href="#安装-you-get-和-PySocks" class="headerlink" title="安装 you-get 和 PySocks"></a>安装 you-get 和 PySocks</h2><blockquote><p>经过前面的准备工作后，就可以开始安装 you-get 了</p></blockquote><p>打开 <code>cmd</code> ，通过 <code>pip</code> 安装 <code>you-get</code> ，即输入如下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install you-get</span><br></pre></td></tr></table></figure><ol><li>如果需要 <code>you-get</code> 通过 SOCKS5 代理（如 Shadowsocks / ShadwoskcsR）下载 <a href="https://www.youtube.com/">YouTube</a> 的视频，还得安装 <strong>PySocks</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install PySocks</span><br></pre></td></tr></table></figure><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ul><li>当观赏感兴趣的视频之前，您可以使用 –info/-i 以查看所有可用画质与格式。如：<br>在 <code>cmd</code> 上输入 <em>you-get -i <a href="https://www.bilibili.com/video/av33503264">https://www.bilibili.com/video/av33503264</a></em> ，输出如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">site:                Bilibili</span><br><span class="line">title:               【官方双语】游戏本？轻薄本？谁才是便携游戏之本？#linus谈科技</span><br><span class="line">streams:             # Available quality and codecs</span><br><span class="line">    [ DEFAULT ] _________________________________</span><br><span class="line">    - format:        hdflv</span><br><span class="line">      container:     flv</span><br><span class="line">      size:          192.0 MiB (201363047 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;hdflv [URL]</span><br><span class="line"></span><br><span class="line">    - format:        flv720</span><br><span class="line">      container:     flv</span><br><span class="line">      size:          150.1 MiB (157350612 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;flv720 [URL]</span><br><span class="line"></span><br><span class="line">    - format:        flv</span><br><span class="line">      container:     flv</span><br><span class="line">      size:          82.2 MiB (86192476 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;flv [URL]</span><br></pre></td></tr></table></figure><ul><li>使用以下命令即可下载默认画质:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -o <span class="string">&quot;F:\Downloads&quot;</span> -O <span class="string">&quot;谁才是便携游戏之本？&quot;</span>  https://www.bilibili.com/video/av33503264</span><br></pre></td></tr></table></figure><p><strong>这里值得说明的是：</strong></p><ul><li>-o后面的是视频需要下载至的路径，如果你输入的时候没有这个选项的话就默认下载到cmd的工作目录下，如下图的工作目录就是 <code>C:\Users\Innovation</code></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/you-get/cmd-workplace.png"/></div></div><ul><li>-O后面则是保存的名字，你输入的时候 <strong>没有</strong> 这个选项的的话，文件名字就是默认为前面的Title，即 <code>【官方双语】游戏本？轻薄本？谁才是便携游戏之本？#linus谈科技</code><br>那么如果你想要下载其他画质或格式的视频你又该怎样呢？<br>比如说我们选择上面示例中的 <code>82.2 MiB</code> 大小的那个画质，只需要在url（即 <em><a href="https://www.bilibili.com/video/av33503264">https://www.bilibili.com/video/av33503264</a></em> ）之前添加 <code>--format=flv</code> （根据前面的 <code># download-with: you-get --format=flv [URL]</code> 得知）即可</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/you-get/download-with.png"/></div></div><p>如果中途想暂停了，怎么办？</p><ul><li>暂停与恢复下载<ul><li>可以使用Ctrl+C 暂停下载.</li><li>临时的 <code>*.download</code> 文件将保存于输出目录。下次使用you-get传入相同参数时，下载将从上次继续开始。</li></ul></li></ul><h2 id="代理问题"><a href="#代理问题" class="headerlink" title="代理问题"></a>代理问题</h2><p>当需要使用SOCKS5代理(Shdowsocks / ShadowsocksR)时，您可以使用 -s 选项设置socks代理。如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -s 127.0.0.1:1080 https://www.youtube.com/watch?v=jNQXAC9IVRw</span><br></pre></td></tr></table></figure><blockquote><p>注意：上面的 <code>1080</code> 是我Shadowsocks/ShadowsocksR的端口号，如果你的不是这个端口号，请自行更改。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> you-get </tag>
            
            <tag> 下载 </tag>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Navicat 软件官网及其 Crack</title>
      <link href="Navicat.html"/>
      <url>Navicat.html</url>
      
        <content type="html"><![CDATA[<p>本文提供 Navicat 的官网，如果条件允许请支持正版。当然本文依然会提供 crack 过程</p><a id="more"></a><h2 id="Navicat-官网"><a href="#Navicat-官网" class="headerlink" title="Navicat 官网"></a>Navicat 官网</h2><ul><li>中文官网产品页面：<a href="https://www.navicat.com.cn/">https://www.navicat.com.cn/</a></li><li>英文官网产品页面：<a href="https://www.navicat.com/en/">https://www.navicat.com/en/</a></li></ul><h2 id="Crack-激活"><a href="#Crack-激活" class="headerlink" title="Crack 激活"></a>Crack 激活</h2><blockquote><p>准备：进入官方产品页面，选中 Free Trail(免费试用)，然后下载相应的安装包，下载完后安装后即可。经测试该工具已支持 Navicat 软件的 12.1.22  版本。</p></blockquote><p>工具由<a href="https://github.com/DoubleLabyrinth">DoubleLabyrinth</a>开发，如果感兴趣<a href="https://github.com/DoubleLabyrinth/navicat-keygen">点此</a>跳转到仓库，使用方法如下：</p><ol><li><p>下载 <code>navicat-keygen-for-x64.zip</code> ，<a href="https://github.com/DoubleLabyrinth/navicat-keygen/releases/latest">点此</a>下载</p></li><li><p>解压 <code>navicat-keygen-for-x64.zip</code> 至合适目录，如 <code>D:\Program Files\navicat-keygen\</code> 目录下</p></li><li><p>以 <strong>管理员身份运行</strong> cmd，执行下列两行命令（命令的解释在命令后面一行提供）。如：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d <span class="string">&quot;D:\Program Files\navicat-keygen&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>此处我解压的具体路径为 <code>D:\Program Files\navicat-keygen</code> ，所以 <code>cd /d</code> 后面就接着这个路径。</p></blockquote><ol start="4"><li>在cmd上使用 <strong>navicat-patcher.exe</strong> 替换掉 <strong>navicat.exe</strong> 和 <strong>libcc.dll</strong> 里的Navicat激活公钥。即执行如下命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navicat-patcher.exe <span class="string">&quot;D:\Program Files\PremiumSoft\Navicat 12 for MySQL&quot;</span></span><br></pre></td></tr></table></figure><p><code>D:\Program Files\PremiumSoft\Navicat 12 for MySQL</code> 是我以Navicat 12 for MySQL的安装路径为例，请根据你需要 Crack 的 Navicat <strong>任一软件</strong> 的安装路径进行修改<br>执行完这条命令后的一份样例输出：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">***************************************************</span><br><span class="line">*       Navicat Patcher by @DoubleLabyrinth       *</span><br><span class="line">*                  Version: 4.0                   *</span><br><span class="line">***************************************************</span><br><span class="line"></span><br><span class="line">Press Enter to continue or Ctrl + C to abort.</span><br><span class="line"></span><br><span class="line">[+] Try to open Navicat.exe ... Ok!</span><br><span class="line">[+] Try to open libcc.dll ... Ok!</span><br><span class="line"></span><br><span class="line">[+] PatchSolution0 ...... Ready to apply</span><br><span class="line">    [*] Patch offset &#x3D; +0x029bccd8</span><br><span class="line">[+] PatchSolution1 ...... Ready to apply</span><br><span class="line">    [*] [0] Patch offset &#x3D; +0x02206c00</span><br><span class="line">    [*] [1] Patch offset &#x3D; +0x0074c489</span><br><span class="line">    [*] [2] Patch offset &#x3D; +0x02206910</span><br><span class="line">    [*] [3] Patch offset &#x3D; +0x0074c46f</span><br><span class="line">    [*] [4] Patch offset &#x3D; +0x02206904</span><br><span class="line">[-] PatchSolution2 ...... Omitted</span><br><span class="line">[+] PatchSolution3 ...... Ready to apply</span><br><span class="line">    [*] [  0] Instruction RVA &#x3D; 0x016539c8, Patch Offset &#x3D; +0x023e64d4</span><br><span class="line">    [*] [  1] Instruction RVA &#x3D; 0x01653a1f, Patch Offset &#x3D; +0x01652e23</span><br><span class="line">    [*] [  2] Instruction RVA &#x3D; 0x01653a25, Patch Offset &#x3D; +0x01652e28</span><br><span class="line">    [*] [  3] Instruction RVA &#x3D; 0x01653a8c, Patch Offset &#x3D; +0x01652e8e</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    [*] [108] Instruction RVA &#x3D; 0x016604e1, Patch Offset &#x3D; +0x023e66d8</span><br><span class="line">    [*] [109] Instruction RVA &#x3D; 0x01660518, Patch Offset &#x3D; +0x0165f91c</span><br><span class="line">    [*] [110] Instruction RVA &#x3D; 0x0166051e, Patch Offset &#x3D; +0x0165f921</span><br><span class="line"></span><br><span class="line">[*] PatchSolution0 is suppressed in order to keep digital signature valid.</span><br><span class="line"></span><br><span class="line">[*] Generating new RSA private key, it may take a long time...</span><br><span class="line">[*] Your RSA public key:</span><br><span class="line">-----BEGIN PUBLIC KEY-----</span><br><span class="line">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1hV66HgU4LrKXWW6O7bK</span><br><span class="line">AN6ZTr5W+Mq8ClTQ+Pc+BdhLu6rww55kVq7OXKGpvx0G4eTafYMGrrBETgDSTaMq</span><br><span class="line">Bx+8bZbGBWh2LtNfqU+xUrpHHBSz0ByBc3iTEzzthJl+Fzf8suDX2lWYIc&#x2F;Ym&#x2F;eW</span><br><span class="line">YtxdJ7xOzLb68z4N0zVmA0jFX2FOm75DRYgKqy4SGixapfucL9dVaWVLTUdbrVdj</span><br><span class="line">4LX78t4t5ykbYoThrat4yuLvj&#x2F;BxLaQ6ivKD+ScfHdtCoY+NA5jmBoUfBq3Q1SXB</span><br><span class="line">iNaoXctbi0&#x2F;H3MiPu0cRojryAocooF89yFm5&#x2F;mNnzWGAYPr6DvBI8CDTZmjaQ4oC</span><br><span class="line">aQIDAQAB</span><br><span class="line">-----END PUBLIC KEY-----</span><br><span class="line"></span><br><span class="line">*******************************************************</span><br><span class="line">*                   PatchSolution1                    *</span><br><span class="line">*******************************************************</span><br><span class="line">[*] Previous:</span><br><span class="line">+0x0000000002206c00  44 37 35 31 32 35 42 37 30 37 36 37 42 39 34 31  D75125B70767B941</span><br><span class="line">+0x0000000002206c10  34 35 42 34 37 43 31 43 42 33 43 30 37 35 35 45  45B47C1CB3C0755E</span><br><span class="line">+0x0000000002206c20  37 43 43 42 38 38 32 35 43 35 44 43 45 30 43 35  7CCB8825C5DCE0C5</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">[*] After:</span><br><span class="line">+0x0000000002206c00  33 43 32 39 30 39 35 38 33 34 38 41 42 43 35 39  3C290958348ABC59</span><br><span class="line">+0x0000000002206c10  36 44 39 30 43 45 45 38 31 36 42 36 39 38 34 44  6D90CEE816B6984D</span><br><span class="line">+0x0000000002206c20  35 32 35 34 37 45 30 32 34 31 42 36 42 43 31 41  52547E0241B6BC1A</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[*] Previous:</span><br><span class="line">+0x000000000074c480                             fe ea bc 01                    ....</span><br><span class="line">[*] After:</span><br><span class="line">+0x000000000074c480                             08 00 00 00                    ....</span><br><span class="line"></span><br><span class="line">[*] Previous:</span><br><span class="line">+0x0000000002206910  45 31 43 45 44 30 39 42 39 43 32 31 38 36 42 46  E1CED09B9C2186BF</span><br><span class="line">+0x0000000002206920  37 31 41 37 30 43 30 46 45 32 46 31 45 30 41 45  71A70C0FE2F1E0AE</span><br><span class="line">+0x0000000002206930  46 33 42 44 36 42 37 35 32 37 37 41 41 42 32 30  F3BD6B75277AAB20</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">[*] After:</span><br><span class="line">+0x0000000002206910  41 33 39 42 41 36 43 34 31 36 33 32 35 30 46 45  A39BA6C4163250FE</span><br><span class="line">+0x0000000002206920  42 32 41 39 31 41 34 32 46 44 42 46 30 41 32 31  B2A91A42FDBF0A21</span><br><span class="line">+0x0000000002206930  33 34 46 34 36 44 43 45 34 30 42 46 41 42 33 35  34F46DCE40BFAB35</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[*] Previous:</span><br><span class="line">+0x000000000074c460                                               59                 Y</span><br><span class="line">+0x000000000074c470  08 01 00                                         ...</span><br><span class="line">[*] After:</span><br><span class="line">+0x000000000074c460                                               06                 .</span><br><span class="line">+0x000000000074c470  00 00 00                                         ...</span><br><span class="line"></span><br><span class="line">[*] Previous:</span><br><span class="line">+0x0000000002206900              39 32 39 33 33                           92933</span><br><span class="line">[*] After:</span><br><span class="line">+0x0000000002206900              42 34 34 33 38                           B4438</span><br><span class="line"></span><br><span class="line">*******************************************************</span><br><span class="line">*                   PatchSolution3                    *</span><br><span class="line">*******************************************************</span><br><span class="line">[*] +023e64d4: 4d 49 49 ---&gt; 4d 49 49</span><br><span class="line">[*] +01652e23: 42 49 ---&gt; 42 49</span><br><span class="line">[*] +01652e28: 6a ---&gt; 6a</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">[*] +023e66d8: 77 49 44 41 ---&gt; 51 49 44 41</span><br><span class="line">[*] +0165f91c: 51 41 ---&gt; 51 41</span><br><span class="line">[*] +0165f921: 42 ---&gt; 42</span><br><span class="line"></span><br><span class="line">[*] New RSA-2048 private key has been saved to</span><br><span class="line">D:\Program Files\navicat-keygen\RegPrivateKey.pem</span><br><span class="line"></span><br><span class="line">*******************************************************</span><br><span class="line">*           PATCH HAS BEEN DONE SUCCESSFULLY!         *</span><br><span class="line">*                  HAVE FUN AND ENJOY~                *</span><br><span class="line">*******************************************************</span><br></pre></td></tr></table></figure><ol start="5"><li>接下来 <strong>cmd</strong> 上使用 <code>navicat-keygen.exe</code> 来生成序列号和激活码，即执行如下命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navicat-keygen.exe -text .\RegPrivateKey.pem</span><br></pre></td></tr></table></figure><ol start="6"><li>执行步骤5后，你会被要求选择Navicat产品类别、语言以及输入主版本号。之后会随机生成一个序列号。输出如下：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Select Navicat product:</span><br><span class="line">0. DataModeler</span><br><span class="line">1. Premium</span><br><span class="line">2. MySQL</span><br><span class="line">3. PostgreSQL</span><br><span class="line">4. Oracle</span><br><span class="line">5. SQLServer</span><br><span class="line">6. SQLite</span><br><span class="line">7. MariaDB</span><br><span class="line">8. MongoDB</span><br><span class="line">9. ReportViewer</span><br><span class="line"></span><br><span class="line">(Input index)&gt; 2</span><br><span class="line"></span><br><span class="line">Select product language:</span><br><span class="line">0. English</span><br><span class="line">1. Simplified Chinese</span><br><span class="line">2. Traditional Chinese</span><br><span class="line">3. Japanese</span><br><span class="line">4. Polish</span><br><span class="line">5. Spanish</span><br><span class="line">6. French</span><br><span class="line">7. German</span><br><span class="line">8. Korean</span><br><span class="line">9. Russian</span><br><span class="line">10. Portuguese</span><br><span class="line"></span><br><span class="line">(Input index)&gt; 0</span><br><span class="line"></span><br><span class="line">(Input major version number, range: 0 ~ 15, default: 12)&gt; 12</span><br><span class="line"></span><br><span class="line">Serial number:</span><br><span class="line">NAVO-2ORP-IN5A-GQEE</span><br><span class="line"></span><br><span class="line">Your name: </span><br></pre></td></tr></table></figure><blockquote><ul><li>由于我以 <code>Navicat 12 for MySQL</code> 英文版为例，所以我第一个输入（<code>产品类别</code>） 是 <code>2</code> ，第二个输入 （<code>语言</code>） 是 <code>0</code> ，第三个输入（主版本号）是 <code>12</code> ，最后生成了序列号 <code>NAVO-2ORP-IN5A-GQEE</code> （<strong>留着等下用</strong>）。</li></ul></blockquote><p>接下来你会被要求输入 <strong>用户名</strong> 和 <strong>组织名</strong> ；请随便填写，但不要太长。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Your name: username</span><br><span class="line">Your organization: Organization</span><br><span class="line">Input request code (in Base64), input empty line to end:</span><br></pre></td></tr></table></figure><ul><li>如上我将用户名设为 <code>username</code> ，组织名设为 <code>Organization</code> 。</li></ul><blockquote><p>之后你会被要求填入请求码。注意：<strong>不要关闭</strong>cmd.</p></blockquote><ol start="8"><li><p><strong>断开网络</strong> 并打开 Navicat 软件。找到注册窗口，并填入刚才程序生成的序列号。然后点击 <code>激活</code> 按钮。</p></li><li><p>然后 Navicat 软件会说激活失败，并询问你是否 <code>手动激活</code> ，直接选择 <code>手动激活</code> 即可</p></li></ol><p>在 <code>手动激活窗口</code> 你会得到一个请求码，复制它并把它粘贴到 cmd 里。最后别忘了连按至少两下回车结束输入。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[*] Your name: username</span><br><span class="line">[*] Your organization: Organization</span><br><span class="line">[*] Input request code in Base64: (Input empty line to end)</span><br><span class="line">Gz7OvJvHLKAxokLXKwhDjhvj0LsRL5C019OMDMJBRwapfMUbyXTYFzgvOF1VJw0hH5BWUvm5vUWq</span><br><span class="line">pJzGFRdtOew8oc3gKEkJNWamoqZmJqXgEROXDGxm&#x2F;6WTjZDVeXUA1YZkHmzqN+MfC3gKwW&#x2F;OlBpb</span><br><span class="line">s3cdaQnqQqmVyb9Pa+G+&#x2F;x8RxsgxgBg0mhrtaWJj9QTlOtP1L7+OfTreSINTHF634iEtVlT5ppUb</span><br><span class="line">5oSWgyHlHHqDNP+bVKIaPStRLri3+7HSi2SVN+GAiXLWSf2oXemQmqWFcMckh187PBPvxvjAOSs7</span><br><span class="line">NJRMOeKC4s&#x2F;IDLlOCGsXfIbVEA2aUYPfbIeqrQ&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">[*] Request Info:</span><br><span class="line">&#123;&quot;K&quot;:&quot;NAVP3B3ISW2WKNFP&quot;, &quot;DI&quot;:&quot;+ZnYuzjIyVrKpNGSWB4k&quot;, &quot;P&quot;:&quot;WIN 8&quot;&#125;</span><br><span class="line"></span><br><span class="line">[*] Response Info:</span><br><span class="line">&#123;&quot;K&quot;:&quot;NAVP3B3ISW2WKNFP&quot;,&quot;DI&quot;:&quot;+ZnYuzjIyVrKpNGSWB4k&quot;,&quot;N&quot;:&quot;User&quot;,&quot;O&quot;:&quot;Organization&quot;,&quot;T&quot;:1571627725&#125;</span><br><span class="line"></span><br><span class="line">[*] Activation Code:</span><br><span class="line">sdNrmWhr&#x2F;uPZI4lyIgtSyf+00CZwng5ItzIh59VDKjKGloKPW5DZoSa6bSKxRXaJhlL+NrKEZmfk4zZA4yG0sinEZML4xCeSy0Wf&#x2F;nlInZqzuvdgJD+cj4tb5HlpN3BGFAR3s3tfTd8WR9YoG&#x2F;lBXC6UG6J1BWDB1Se5yuKoD12puWMxt3hc2bodrQRUrPDle1vOTS16iMd2b2Ck1kSok1ef5nK48N28IN9iTiNhQ7xTae2u9&#x2F;1NCWS5VNDW9oZ4SnR99kmfZMxsK00STZntcboUGaYuW3TbJcs2UHrilESYE58XXhs1BFHSSy2Gu7HTOWrUBkRLZQB1oBNNLVS2Kw&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><ol start="11"><li>如果不出意外，你会得到一个 <code>Activation Code</code> 。直接复制它，并把它粘贴到Navicat的 <code>手动激活窗口</code> ，最后点激活按钮。如果没什么意外的话应该能成功激活。<br>复制的 <code>Activation Code</code> 内容为：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdNrmWhr&#x2F;uPZI4lyIgtSyf+00CZwng5ItzIh59VDKjKGloKPW5DZoSa6bSKxRXaJhlL+NrKEZmfk4zZA4yG0sinEZML4xCeSy0Wf&#x2F;nlInZqzuvdgJD+cj4tb5HlpN3BGFAR3s3tfTd8WR9YoG&#x2F;lBXC6UG6J1BWDB1Se5yuKoD12puWMxt3hc2bodrQRUrPDle1vOTS16iMd2b2Ck1kSok1ef5nK48N28IN9iTiNhQ7xTae2u9&#x2F;1NCWS5VNDW9oZ4SnR99kmfZMxsK00STZntcboUGaYuW3TbJcs2UHrilESYE58XXhs1BFHSSy2Gu7HTOWrUBkRLZQB1oBNNLVS2Kw&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><p>大功告成，自行测试是否已激活。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 激活 </tag>
            
            <tag> 破解 </tag>
            
            <tag> Navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JetBrains 软件官网购买、学生授权或 Crack</title>
      <link href="JetBrains.html"/>
      <url>JetBrains.html</url>
      
        <content type="html"><![CDATA[<p>本文提供 JetBrains 的官网，如果条件允许请支持正版。当然本文依然会提供 crack 过程</p><a id="more"></a><h2 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h2><ul><li><a href="https://www.jetbrains.com/">JetBrains 官网</a></li><li><a href="https://www.jetbrains.com/store/">JetBrains 商店</a></li><li><a href="https://sales.jetbrains.com/hc/zh-cn/articles/207154369-%E5%AD%A6%E7%94%9F%E6%8E%88%E6%9D%83%E7%94%B3%E8%AF%B7%E6%96%B9%E5%BC%8F">JetBrains 学生授权申请方式</a>，通过这种方式学生用户可以免费使用（<strong>学校不提供教育邮箱的除外</strong>）</li></ul><h2 id="Crack-补丁激活"><a href="#Crack-补丁激活" class="headerlink" title="Crack 补丁激活"></a>Crack 补丁激活</h2><blockquote><p>由于编写此文已过了很久，以下的方式已 <strong>不再适用</strong> 于最新的Jetbrains全家桶的crack，建议直接前往<a href="https://zhile.io/2018/08/25/jetbrains-license-server-crack.html">此处</a>获取最新crack教程。</p></blockquote><p>出于<del>种种无奈</del>，很多人会选择 crack 付费软件。<br>IntelliJ IDEA 2018.2.4 下载链接: <a href="https://download.jetbrains.8686c.com/idea/ideaIU-2018.2.4.exe">https://download.jetbrains.8686c.com/idea/ideaIU-2018.2.4.exe</a><br>PyCharm 2018.2.3 下载链接: <a href="https://download.jetbrains.8686c.com/python/pycharm-professional-2018.2.3.exe">https://download.jetbrains.8686c.com/python/pycharm-professional-2018.2.3.exe</a></p><blockquote><p>准备：首先安装完软件，并 <strong>开启试用</strong> 后再食用下列教程，否则会出现打不开软件的情况</p></blockquote><p>Crack 补丁为 <a href="https://github.com/rover12421">Rover12421</a> 开发，使用方法如下（文件路径根据实际情况做出变更）：</p><ol><li>下载 <code>JetbrainsCrack-3.1-release-enc.jar</code> <a href="https://raw.githubusercontent.com/ericclose/personal_use/master/JetbrainsCrack-3.1-release-enc.jar">点击下载</a>，放置到D:\Program Files\JetbrainsCrack\目录下</li><li>在 JetBrains 的任一软件，以 IntelliJ IDEA 为例，安装目录 <code>D:\Program Files\JetBrains\IntelliJ IDEA 2018.2.4\bin</code> 中找到 <code>idea.exe.vmoptions</code> 和 <code>idea64.exe.vmoptions</code> ，用编辑器打开并同时在两个文件最后追加一行</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-javaagent:D:&#x2F;Program Files&#x2F;JetbrainsCrack&#x2F;JetbrainsCrack-3.1-release-enc.jar</span><br></pre></td></tr></table></figure><ol start="3"><li>启动 IntelliJ IDEA , 输入如下激活码激活。</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ThisCrackLicenseId-&#123;&quot;licenseId&quot;:&quot;ThisCrackLicenseId&quot;,</span><br><span class="line">&quot;licenseeName&quot;:&quot;Rover12421&quot;,</span><br><span class="line">&quot;assigneeName&quot;:&quot;Rover12421&quot;,</span><br><span class="line">&quot;assigneeEmail&quot;:&quot;rover12421@163.com&quot;,</span><br><span class="line">&quot;licenseRestriction&quot;:&quot;By Rover12421 Crack, Only Test! Please support genuine!!!&quot;,</span><br><span class="line">&quot;checkConcurrentUse&quot;:false,</span><br><span class="line">&quot;products&quot;:[</span><br><span class="line">&#123;&quot;code&quot;:&quot;II&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;DM&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;AC&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;RS0&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;WS&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;DPN&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;RC&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;PS&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;DC&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;RM&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;CL&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;PC&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;DB&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;&quot;code&quot;:&quot;GO&quot;,&quot;paidUpTo&quot;:&quot;2099-12-31&quot;&#125;,</span><br><span class="line">&#123;<span class="attr">&quot;code&quot;</span>:<span class="string">&quot;RD&quot;</span>,<span class="attr">&quot;paidUpTo&quot;</span>:<span class="string">&quot;2099-12-31&quot;</span>&#125;</span><br><span class="line">],</span><br><span class="line">&quot;hash&quot;:&quot;2911276/0&quot;,</span><br><span class="line">&quot;gracePeriodDays&quot;:7,</span><br><span class="line">&quot;autoProlongated&quot;:false&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>完成，自行查看是否成功</li></ol>]]></content>
      
      
      <categories>
          
          <category> Crack </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JetBrains </tag>
            
            <tag> 激活 </tag>
            
            <tag> 破解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用 Windows 内置工具制作安装U盘</title>
      <link href="Windows-diskpart-tutorial.html"/>
      <url>Windows-diskpart-tutorial.html</url>
      
        <content type="html"><![CDATA[<p>Diskpart 命令是 Windows 环境下的一个命令，利用 Diskpart 和解压缩软件即可制作好 Windows 安装U盘。</p><a id="more"></a><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><ul><li>由于制作过程需要格式化U盘，在操作之前切记先备份好数据！</li><li>从微软官方下载好 Windows 映像文件 （即 ISO 文件）， 点击<a href="https://www.microsoft.com/zh-cn/software-download/windows10">此处</a><ul><li>虽说利用微软的工具可以直接制作好Windows 10 的安装U盘，但是每次需要重装的时候就要再次联网下载映像文件就太麻烦了。所以此处骚操作（斜眼笑~</li></ul></li></ul><ol><li><p>点击进入前面提供的网站后，以 Chrome浏览器 为例子， 按 <strong>Ctrl + Shift + I</strong> 打开 Chrome 的开发人员工具。</p></li><li><p>点击开发人员工具右上方的“…”按钮，选择“More Tools”、“Network conditions”。如下图</p></li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial1.png"/></div></div><ol start="3"><li>反选 “Select automatically”</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial2.png"/></div></div><ol start="4"><li>选择 Safari - Mac</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial3.png"/></div></div><ol start="5"><li><p>不要关闭 Chrome 的开发人员工具，刷新网页，这时就可以直接在这个网站里下载 ISO 文件了。</p></li><li><p>选择 “Windows 10”，而不是 “Windows 10家庭中文版”</p></li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial4.png"/></div></div><blockquote><p>理由：虽说大多数人买来的电脑预装的 Windows 10都是家庭中文版的，但是这种家庭版是独具“中国特色”的，与国际版的不同是，不能在设置里面修改系统显示语言，只能是中文，至于其他差别倒是没注意啦。除此之外，不选”Windows 10家庭中文版”还有一部分原因是因为有些电脑预装的系统不是家庭版的，比如说专业版或者企业版，考虑到这种情况，所以统一选择”Windows 10”。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**注意**</span><br><span class="line">  下载 &quot;Windows 10&quot; 的用户，在启动的时候有家庭版，专业版，单语言版等提供</span><br><span class="line">选择。具体选择应该是根据你电脑预装的系统来选择，这样系统才会自动激活。安装了错误版</span><br><span class="line">本的系统将无法自动激活。打个比方，我电脑预装的是 &quot;Windows 10 家庭中文版&quot;，如果我</span><br><span class="line">安装的时候选择的是&quot;家庭版&quot;，那么开机联网后Windows 就会自动激活，但如果选错了，</span><br><span class="line">如&quot;专业版&quot;，&quot;单语言版&quot;等非&quot;家庭版&quot;的开机联网都不会激活的。</span><br></pre></td></tr></table></figure><ol start="7"><li><p>选完之后点击“确定”</p></li><li><p>选择“简体中文”，确定就好了，（当然你可以选择其他偏好的语言（家庭中文版除外））</p></li><li><p>这个时候就会有“32 bit” 和“64 bit”，根据自己实际情况选择即可。</p></li><li><p>选完后就开始下载了。</p></li><li><p>直到下载完毕就完成一大半了。</p></li></ol><h3 id="开始动手"><a href="#开始动手" class="headerlink" title="开始动手"></a>开始动手</h3><p>经过之前的备份和下载，现在终于可以开工了。<br>Win + R ，输入diskpart，回车确认</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial5.png"/></div></div><h4 id="1-启动分区"><a href="#1-启动分区" class="headerlink" title="1. 启动分区"></a>1. 启动分区</h4><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial6.png"/></div></div><p>经过了上述步骤后，打开我的电脑就出现了只有4 GB的那个分区，失去的那些空间到哪去了呢？不用着急，那是因为还没分配给将要新建的分区呢。<br>我们先把之前下载好的 Windows 10 映像文件，通过解压缩软件（此处推荐简洁大方且开源的 <a href="https://7-zip.org/">7-zip</a>）打开，解压到（提取至）U盘已建好的分区的根目录，解压（提取）完后，安装盘就算制作好了。<br>重点来了，我们制作的好的U盘，启动分区制作好了，当然不想要与个人数据混在一块，乱七八糟的多不好啊，而且还说不定不小心弄错了东西安装盘就不能正常运转了呢。我们可以继续用 <strong>diskpart</strong> 将启动分区给隐藏了。<br>比如说，在我的电脑中，我U盘新建的分区的盘符为H（说人话就是显示成H盘了）</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial7.png"/></div></div><p>通过diskpart输入 <code>remove letter=H</code> 即可删除盘符即可起到隐藏分区的作用。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial8.png"/></div></div><h4 id="2-数据分区"><a href="#2-数据分区" class="headerlink" title="2. 数据分区"></a>2. 数据分区</h4><p>最后我们要把剩余空间全部分配给一个用于我们存储数据的分区</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/diskpart-tutorial/diskpart_tutorial9.png"/></div></div><h2 id="命令总结"><a href="#命令总结" class="headerlink" title="命令总结"></a>命令总结</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">list disk    //显示本机的所有磁盘，以便正确操作目标磁盘</span><br><span class="line">list partition    //显示选中磁盘的所有分区</span><br><span class="line">select disk 0    //选择 0 号磁盘</span><br><span class="line">select partition 1    //选择 1 号分区</span><br><span class="line">clean    //清除选中磁盘上的所有分区（包括数据）</span><br><span class="line">create partition primary size=xxxx    //创建主分区，容量为：xxxx MB  </span><br><span class="line">active    //将选中分区标记为活动分区（当该分区作为启动分区的时候才需要这个操作）</span><br><span class="line">format fs=文件系统 quick    //快速格式化当前分区（自行选择合适的文件系统）</span><br><span class="line">remove letter=盘符    //移除选中分区的盘符</span><br><span class="line">create partition primary  //将选中磁盘的未分配的所有空间用来创建主分区</span><br><span class="line">assign letter=盘符    //给选中分区分配盘符</span><br></pre></td></tr></table></figure><p>完结~</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> diskpart </tag>
            
            <tag> 启动盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub + Hexo 博客搭建</title>
      <link href="Github-Pages-with-Hexo.html"/>
      <url>Github-Pages-with-Hexo.html</url>
      
        <content type="html"><![CDATA[<p>此文介绍了搭建 Hexo 博客的全过程。然而在安装前，您必须检查电脑中是否已安装下列应用程序</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Github-Pages-with-Hexo/github-hexo-logo.png"/></div></div><a id="more"></a><h2 id="必备应用"><a href="#必备应用" class="headerlink" title="必备应用"></a>必备应用</h2><ul><li><a href="https://nodejs.org/en/">Node.js</a><ul><li>首先下载最新的 LTS（长期支持版）的 Node.js，除了安装路径自选外，其它选项全部默认，一路点击 Next 即可。最后安装好之后，cmd 输入 <code>node -v</code>，如果出现版本号，那么就安装成功了。</li></ul></li><li><a href="https://git-scm.com/">Git</a><ul><li>除了安装路径自选外，有一步我们要确保勾选 <strong>Git Bash Here</strong>，取消 <strong>Git GUI Here</strong> 的选项，其余选项默认，一路点击 Next，安装完后就可以直接在鼠标右键菜单选项里打开 Git Bash 了。可以在 Git Bash 输入 <code>git --version</code> 验证是否安装成功</li></ul></li><li><a href="https://yarnpkg.com/">yarn</a><ul><li><a href="https://classic.yarnpkg.com/latest.msi">点此</a> 下载 <strong>yarn</strong> 的安装包，安装即可。（在安装 <strong>yarn</strong> 之前请先确保您已经安装过 <strong>Node.js</strong>）除了安装路径自选外，其余安装选项默认即可。可以在 Git Bash 输入 <code>yarn -v</code> 验证是否安装成功</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Github-Pages-with-Hexo/1.png"/></div></div><p>本教程假定你已经安装上述必备程序。这里我还想说一句，很多教程是用 <code>npm</code> 包管理器来安装依赖的，我这里则是用的 <code>yarn</code>，<code>yarn</code> 和 <code>npm</code> 相比有很多优势，更多详情和 <code>npm</code> 命令之间的差异建议自行去网上搜索。</p><h2 id="Hexo-安装及建站过程"><a href="#Hexo-安装及建站过程" class="headerlink" title="Hexo 安装及建站过程"></a>Hexo 安装及建站过程</h2><hr><ol><li>全局安装 Hexo（在 cmd 输入）</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn global add hexo-cli</span><br></pre></td></tr></table></figure><hr><ol start="2"><li>配置环境变量</li></ol><blockquote><p>桌面上的「<strong>此电脑</strong>」图标，鼠标右键，「<strong>属性</strong>」，「<strong>高级系统设置</strong>」，「<strong>环境变量</strong>」，在「<strong>系统变量</strong>」一栏的「<strong>Path</strong>」，点击「<strong>编辑</strong>」，「<strong>新建</strong>」，把路径 <code>C:\Users\&lt;用户名&gt;\AppData\Local\Yarn\bin</code> 写进去（此处路径取决于你电脑的用户名），保存即可。</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Github-Pages-with-Hexo/2.png"/></div></div><hr><ol start="3"><li>找个目录建立站点（在你认为合适的目录下鼠标右键，点击 <strong>Git Bash Here</strong>，下面的 <strong>your_blog_name</strong> 是自定义的，随你喜好设定），然后输入命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo init your_blog_name</span><br><span class="line"><span class="built_in">cd</span> your_blog_name</span><br><span class="line">yarn</span><br><span class="line">yarn add hexo-deployer-git</span><br></pre></td></tr></table></figure><blockquote><p>完成上述操作后接下来就该部署到 GitHub Pages 上了。</p></blockquote><hr><h2 id="GitHub-Pages-必备条件"><a href="#GitHub-Pages-必备条件" class="headerlink" title="GitHub Pages 必备条件"></a>GitHub Pages 必备条件</h2><ul><li>拥有一个 GitHub 账号<ul><li>如果还没有账号的自行 <a href="https://github.com/join?source=header-home">点击这里</a> 注册<br>创建一个名为 <code>your_username.github.io</code> 的 repository（此处的your_username指的是你的 GitHub 用户名）</li></ul></li></ul><h2 id="配置-SSH-密钥"><a href="#配置-SSH-密钥" class="headerlink" title="配置 SSH 密钥"></a>配置 SSH 密钥</h2><p>配置 GitHub 的 SSH 密钥可以让本地 Git 项目与远程的 GitHub 建立联系，让我们在本地写了代码之后直接通过git操作就可以实现本地代码库与 GitHub 代码库同步。操作如下：</p><h3 id="检查本地上是否已有-SSH-密钥"><a href="#检查本地上是否已有-SSH-密钥" class="headerlink" title="检查本地上是否已有 SSH 密钥"></a>检查本地上是否已有 SSH 密钥</h3><p>打开 Git Bash，并运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure><blockquote><ul><li>如果是 No such file or directory 的就是还没没有 SSH 密钥，如下</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Innovation@DESKTOP-0URF3TU MINGW64 /d/repositories</span><br><span class="line">$ <span class="built_in">cd</span> ~/.ssh</span><br><span class="line">bash: <span class="built_in">cd</span>: /c/Users/Innovation/.ssh: No such file or directory</span><br></pre></td></tr></table></figure><blockquote><ul><li>如果是成功切换了目录的就是已有 SSH 密钥的，如下</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Innovation@DESKTOP-0URF3TU MINGW64 /d/repositories</span><br><span class="line">$ <span class="built_in">cd</span> ~/.ssh</span><br><span class="line"></span><br><span class="line">Innovation@DESKTOP-0URF3TU MINGW64 ~/.ssh</span><br><span class="line">$</span><br></pre></td></tr></table></figure><h4 id="还没有-SSH-密钥看这里"><a href="#还没有-SSH-密钥看这里" class="headerlink" title="还没有 SSH 密钥看这里"></a>还没有 SSH 密钥看这里</h4><ol><li>首先打开 Git Bash，输入下列命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;your_username&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;your_email&quot;</span></span><br></pre></td></tr></table></figure><ul><li>上面命令中的 your_username 和 your_email 以你是实际 GitHub <strong>用户名</strong>和注册时填写的<strong>邮箱地址</strong>即可。</li></ul><ol start="2"><li>创建一对新的 SSH 密钥，输入以下命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email&quot;</span></span><br></pre></td></tr></table></figure><ul><li>上面的 your_email 以你的邮箱地址替换即可</li></ul><ol start="3"><li>按回车确认key保存的路径</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;Innovation&#x2F;.ssh&#x2F;id_rsa):</span><br></pre></td></tr></table></figure><p><strong>此处直接回车即可</strong></p><ol start="4"><li>输入密码</li></ol><blockquote><p>此处建议不要设置密码，直接回车，不然每次你本地文件发生变化要部署到 GitHub 仓库的时候都要繁琐的输入密码</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Created directory &#39;&#x2F;c&#x2F;Users&#x2F;Innovation&#x2F;.ssh&#39;.</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br></pre></td></tr></table></figure><ol start="5"><li>确认密码</li></ol><blockquote><p>设置了密码的就输入密码再回车，没设置密码的回车键确认即可</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure><ol start="6"><li>输入完成之后，屏幕大致会显示如下信息：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved in &#x2F;c&#x2F;Users&#x2F;you&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;you&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com</span><br></pre></td></tr></table></figure><h4 id="已有-SSH-密钥看这里"><a href="#已有-SSH-密钥看这里" class="headerlink" title="已有 SSH 密钥看这里"></a>已有 SSH 密钥看这里</h4><ol><li>在 Git Bash 里显示你的 SSH 密钥</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><ol start="2"><li><p>鼠标复制返回的内容</p></li><li><p>接着：</p></li></ol><ul><li>登陆 GitHub，进入你的 Settings</li><li>点击左栏的 SSH and GPG Keys 选项<ul><li>选择 New SSH Key，在 Key 文本框里直接粘贴刚才复制的内容</li><li>Title 文本框可以不填，点击 Add SSH Key 就好了</li></ul></li></ul><h2 id="测试-GitHub-的身份验证"><a href="#测试-GitHub-的身份验证" class="headerlink" title="测试 GitHub 的身份验证"></a>测试 GitHub 的身份验证</h2><ol><li>输入下面的命令，看看设置是否成功，<a href="mailto:&#103;&#x69;&#116;&#x40;&#x67;&#x69;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;">&#103;&#x69;&#116;&#x40;&#x67;&#x69;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;</a> 的部分不要修改：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><ol start="2"><li>如果大致是下面的反馈：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &#39;github.com (207.97.227.239)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)?</span><br></pre></td></tr></table></figure><p>输入 <code>yes</code> 即可</p><p>然后反馈如下，那么就验证成功了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi ericclose! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><h2 id="修改-blog-的配置文件"><a href="#修改-blog-的配置文件" class="headerlink" title="修改 blog 的配置文件"></a>修改 blog 的配置文件</h2><blockquote><p>打开你一开始创建的 blog 文件夹，用文本编辑器（推荐 <a href="https://code.visualstudio.com/">vscode</a> 或者是 <a href="https://notepad-plus-plus.org/">Notepad++</a> 这类带语法高亮的编辑器）打开刚文件夹下的 <code>_config.yml</code> 文件，然后修改最后一块代码：</p></blockquote><figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:your_username/your_username.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>把上面的 <strong>your_username</strong> 改成你 GitHub 的用户名就完成了所有配置。</p><h2 id="生成-public-文件夹并部署到你的-GitHub-Pages"><a href="#生成-public-文件夹并部署到你的-GitHub-Pages" class="headerlink" title="生成 public 文件夹并部署到你的 GitHub Pages"></a>生成 public 文件夹并部署到你的 GitHub Pages</h2><p>在你 <strong>blog 根目录</strong>下鼠标右键，点击 <strong>Git Bash Here</strong>，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><ul><li>上面的 g 代表的是 generate（生成），d 代表的是 deploy（部署）<br>命令可以简写成一行 <code>hexo g -d</code></li></ul><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><p>进入你的 GitHub Pages 看看效果了，链接是 <a href="https://your_username.github.io/">https://your_username.github.io</a> （<strong>your_username</strong> 用你的用户名替代即可）</p><p>默认的 Hexo 主题是 <strong>landscape</strong>，最初只有一篇文章，效果图如下：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/ericclose/images/Github-Pages-with-Hexo/landscape_theme_demo.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub Pages </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
